# ๐ง ููุฎุต ุงูุฅุตูุงุญุงุช - ุงููุดุงูู ุงููุจูุบ ุนููุง

## โ ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1๏ธโฃ ุฅุตูุงุญ ุญุณุงุจ ุนุฏุฏ ุงูุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ (0/616)

**ุงููุดููุฉ:**
- ูุงู ุงููุธุงู ูุนุฑุถ `0/616` ุฑุบู ูุฌูุฏ ุทูุจูุงุช ุบูุฑ ูุชุฒุงููุฉ
- ุงูุงุณุชุนูุงู ูุงู ููุญุต ููุท `sync_outbox` ููุง ููุญุต `synced = 0`

**ุงูุญู:**
ุชู ุชุนุฏูู ุงูุงุณุชุนูุงู ูู `src/components/navbar/sync/useSyncStats.ts` ููุญุต ููุง ุงูุดุฑุทูู:
```sql
-- ูุจู ุงูุฅุตูุงุญ:
SELECT COUNT(*) FROM orders o 
WHERE o.organization_id = '${orgId}' 
AND o.id IN (SELECT record_id FROM sync_outbox WHERE table_name = 'orders')

-- ุจุนุฏ ุงูุฅุตูุงุญ:
SELECT COUNT(DISTINCT o.id) 
FROM orders o 
WHERE o.organization_id = '${orgId}' 
AND (
  o.synced = 0 
  OR o.id IN (SELECT record_id FROM sync_outbox WHERE table_name = 'orders')
)
```

**ุงููุชูุฌุฉ:**
- ุงูุขู ุณูุชู ุนุฑุถ ุงูุนุฏุฏ ุงูุตุญูุญ ููุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ
- ูุชู ูุญุต ูู ูู `synced = 0` ู `sync_outbox`

---

### 2๏ธโฃ ุฅุตูุงุญ ุนุฏุฏ ุงูููุชุฌุงุช (35 ููุชุฌ ููู ูุธูุฑ 27 ููุท)

**ุงููุดููุฉ:**
- ูุงู ุงูุงุณุชุนูุงู ูุนุฏ ุงูููุชุฌุงุช ูุน ููุชุฑ `is_active = 1 OR is_active IS NULL`
- ููู ุงูุนุฑุถ ูุงู ูุนุฑุถ ุฌููุน ุงูููุชุฌุงุช ุจุฏูู ููุชุฑ `is_active`
- ูุฐุง ุฃุฏู ุฅูู ุนุฏู ุชุทุงุจู ุงูุนุฏุฏ

**ุงูุญู:**
1. **ุชุนุฏูู ุงูุงุณุชุนูุงู** ูู `useSyncStats.ts`:
   - ุฅุฒุงูุฉ ููุชุฑ `is_active` ูู ุงูุงุณุชุนูุงู ูุนุฏ ุฌููุน ุงูููุชุฌุงุช
   - ุงูุขู ุงูุนุฏุฏ ูุนูุณ ุงูุนุฏุฏ ุงููุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

2. **ุฅุถุงูุฉ ููุชุฑ ุงูุนุฑุถ** ูู `src/hooks/useUnifiedPOSData.ts`:
   - ุฅุถุงูุฉ ููุชุฑ `is_active` ุนูุฏ ุนุฑุถ ุงูููุชุฌุงุช ูู ููุทุฉ ุงูุจูุน
   - ุงูุขู ูุชู ุนุฑุถ ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท (`is_active = 1` ุฃู `null/undefined`)

```typescript
// ุฅุถุงูุฉ ููุชุฑ is_active
const filteredProducts = mappedProducts.filter((product) => {
  // โก ููุชุฑ ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท
  const isActive = product.is_active === 1 || product.is_active === true || 
                   product.is_active === null || product.is_active === undefined;
  if (!isActive) return false;
  
  // ุจุงูู ุงูููุงุชุฑ...
});
```

**ุงููุชูุฌุฉ:**
- ุงูุนุฏุฏ ุงููุนุฑูุถ ูู ุงูุฅุญุตุงุฆูุงุช = ุงูุนุฏุฏ ุงููุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูููุชุฌุงุช ุงููุนุฑูุถุฉ ูู ููุทุฉ ุงูุจูุน = ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท
- ุฅุฐุง ูุงู ูุฏูู 35 ููุชุฌ ู 8 ุบูุฑ ูุดุทุฉุ ุณูุธูุฑ 27 ููุชุฌ ูุดุท (ููุฐุง ุตุญูุญ)

---

### 3๏ธโฃ ูุญุต ูุดุงูู ุฅูุดุงุก ุงูุทูุจูุฉ

**ุงูุชุญูู:**
ุชู ูุญุต ุฏุงูุฉ `createPOSOrder` ูู `src/context/shop/posOrderService.ts`:
- โ ุงูุชุญูู ูู `organizationId` ููุฌูุฏ
- โ ุงูุชุญูู ูู ูุฌูุฏ ุนูุงุตุฑ ูู ุงูุทูุจ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ููุฌูุฏุฉ
- โ ุชุณุฌูู ุงูุฃุฎุทุงุก ููุฌูุฏ

**ุฅุฐุง ุงุณุชูุฑุช ูุดููุฉ ุฅูุดุงุก ุงูุทูุจูุฉ:**
1. ุงูุชุญ Console ูู ุงููุชุตูุญ (F12)
2. ุงุจุญุซ ุนู ุฑุณุงุฆู ุชุจุฏุฃ ุจู `[createPOSOrder]`
3. ุชุญูู ูู ุงูุฃุฎุทุงุก ุงููุณุฌูุฉ
4. ุฃุฑุณู ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุงููุฉ

**ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:**
- `Organization ID is required` โ ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ูุงุฎุชูุงุฑ ุงููุคุณุณุฉ
- `Order must have at least one item` โ ุชุฃูุฏ ูู ูุฌูุฏ ููุชุฌุงุช ูู ุงูุณูุฉ
- ุฃุฎุทุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช โ ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

1. `src/components/navbar/sync/useSyncStats.ts`
   - ุฅุตูุงุญ ุงุณุชุนูุงู ุนุฏุฏ ุงูุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ
   - ุฅุฒุงูุฉ ููุชุฑ `is_active` ูู ุนุฏุฏ ุงูููุชุฌุงุช

2. `src/hooks/useUnifiedPOSData.ts`
   - ุฅุถุงูุฉ ููุชุฑ `is_active` ุนูุฏ ุนุฑุถ ุงูููุชุฌุงุช

---

## ๐งช ููููุฉ ุงูุชุญูู ูู ุงูุฅุตูุงุญุงุช

### 1. ุงูุชุญูู ูู ุนุฏุฏ ุงูุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ:
1. ุงูุชุญ ูุคุดุฑ ุงููุฒุงููุฉ ูู ุดุฑูุท ุงูุนููุงู
2. ุชุญูู ูู ุงูุนุฏุฏ ุงููุนุฑูุถ
3. ูุฌุจ ุฃู ูุทุงุจู ุงูุนุฏุฏ ุงููุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ุงูุชุญูู ูู ุนุฏุฏ ุงูููุชุฌุงุช:
1. ุงูุชุญ ุตูุญุฉ ููุทุฉ ุงูุจูุน
2. ุชุญูู ูู ุนุฏุฏ ุงูููุชุฌุงุช ุงููุนุฑูุถุฉ
3. ูุฌุจ ุฃู ูุทุงุจู ุนุฏุฏ ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท

### 3. ุงูุชุญูู ูู ุฅูุดุงุก ุงูุทูุจูุฉ:
1. ุฃูุดุฆ ุทูุจูุฉ ุฌุฏูุฏุฉ
2. ุชุญูู ูู ุฑุณุงูุฉ ุงููุฌุงุญ
3. ุฅุฐุง ูุดูุชุ ุงูุชุญ Console ูุงุจุญุซ ุนู ุงูุฃุฎุทุงุก

---

## ๐ก ููุงุญุธุงุช ุฅุถุงููุฉ

### ุญูู ุนุฏุฏ ุงูููุชุฌุงุช:
- ุฅุฐุง ูุงู ูุฏูู 35 ููุชุฌ ู 8 ุบูุฑ ูุดุทุฉ:
  - ุงูุนุฏุฏ ุงูููู = 35 (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
  - ุงูุนุฏุฏ ุงููุนุฑูุถ = 27 (ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท)
  - ูุฐุง ุงูุณููู ุตุญูุญ ููุทููุจ

### ุญูู ุงูุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ:
- ุงูุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ = `synced = 0` ุฃู ููุฌูุฏุฉ ูู `sync_outbox`
- ุณูุชู ูุฒุงููุชูุง ุชููุงุฆูุงู ุนูุฏ ุนูุฏุฉ ุงูุงุชุตุงู
- ููููู ุงููุฒุงููุฉ ุงููุฏููุฉ ูู ูุคุดุฑ ุงููุฒุงููุฉ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงูู

1. **ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ** (Ctrl+R ุฃู Cmd+R)
2. **ุงูุณุญ ุงููุงุด** (Ctrl+Shift+R ุฃู Cmd+Shift+R)
3. **ุชุญูู ูู Console** ููุฃุฎุทุงุก
4. **ุฃุฑุณู ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุงููุฉ** ูุน:
   - ุฑุณุงูุฉ ุงูุฎุทุฃ
   - ุงูุฎุทูุงุช ุงููุชุจุนุฉ
   - ููุทุฉ ุดุงุดุฉ ุฅู ุฃููู

---

## โ ุงูุฎูุงุตุฉ

ุชู ุฅุตูุงุญ:
- โ ุญุณุงุจ ุนุฏุฏ ุงูุทูุจูุงุช ุบูุฑ ุงููุชุฒุงููุฉ
- โ ุนุฏุฏ ุงูููุชุฌุงุช ุงููุนุฑูุถุฉ
- โ ููุชุฑ ุงูููุชุฌุงุช ุงููุดุทุฉ

ูุญุชุงุฌ ูุญุต ุฅุถุงูู:
- โ๏ธ ูุดุงูู ุฅูุดุงุก ุงูุทูุจูุฉ (ูุญุชุงุฌ ุชูุงุตูู ุงูุฎุทุฃ)






























