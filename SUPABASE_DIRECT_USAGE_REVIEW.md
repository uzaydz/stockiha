# ูุฑุงุฌุนุฉ ุงุณุชุฎุฏุงูุงุช Supabase ุงููุจุงุดุฑุฉ ูุชุตููููุง

## ๐ ููุฎุต
ูุฐุง ุงูููู ููุซู ุฌููุน ุงููููุงุช ุงูุชู ุชุณุชุฎุฏู Supabase ูุจุงุดุฑุฉ (`supabase.from().insert/update/delete`) ููุตูููุง ุญุณุจ ุงูุญุงุฌุฉ ูุฏุนู ุฃูููุงูู.

---

## โ ุงููููุงุช ุงูุชู ุชู ุชุญููููุง ุจุงููุนู

### 1. โ `src/lib/api/products.ts`
- **ุงูุงุณุชุฎุฏุงู**: `supabase.from('products').delete()` ู `update()`
- **ุงูุญุงูุฉ**: โ ุชู ุงูุชุญููู ุฅูู `deleteLocalProduct()` ู `updateLocalProduct()`
- **ุงูุชุงุฑูุฎ**: ุชู ุงูุขู

### 2. โ `src/services/assistant/UnifiedMutationService.ts`
- **ุงูุงุณุชุฎุฏุงู**: `supabase.from('products').update()`
- **ุงูุญุงูุฉ**: โ ุชู ุงูุชุญููู ุฅูู `updateLocalProduct()`
- **ุงูุชุงุฑูุฎ**: ุชู ุงูุขู

---

## ๐ ุงููููุงุช ุงูุชู ุชุญุชุงุฌ ุฏุนู ุฃูููุงูู (ูุฌุจ ุชุญููููุง)

### 1. ๐ `src/api/supplierService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('supplier_purchase_items').delete()` (ุงูุณุทุฑ 410)
- `supabase.from('supplier_purchases').delete()` (ุงูุณุทุฑ 411)
- `supabase.from('supplier_purchase_items').insert()` (ุงูุณุทุฑ 670, 896)

**ุงูุชุญููู**:
- โ ููุฌุฏ `localSupplierService` ุจุงููุนู
- โ๏ธ ุงูููุฏ ูุณุชุฎุฏู Supabase ูุจุงุดุฑุฉ ูู ุจุนุถ ุงูุฃูุงูู
- ๐ **ุงูุฅุฌุฑุงุก**: ุชุญุฏูุซ `supplierService.ts` ูุงุณุชุฎุฏุงู `localSupplierService` ุจุฏูุงู ูู Supabase ูุจุงุดุฑุฉ

**ุงูุฃููููุฉ**: ๐ด ุนุงููุฉ (ุงูููุฑุฏูู ููููู ููุฃูููุงูู)

---

### 2. ๐ `src/services/AdvancedInventoryService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('inventory_history').upsert()` (ุงูุณุทุฑ 756)

**ุงูุชุญููู**:
- ๐ **ุงูุฅุฌุฑุงุก**: ุฅูุดุงุก `localInventoryHistoryService` ุฃู ุฅุถุงูุฉ ุงูุฏุนู ูู `deltaWriteService`
- โ๏ธ ูุฐุง ุฌุฏูู ุณุฌู (history) - ูุฏ ูุง ูุญุชุงุฌ ูุฒุงููุฉ ููุฑูุฉ

**ุงูุฃููููุฉ**: ๐ก ูุชูุณุทุฉ (ุณุฌู ุชุงุฑูุฎู)

---

### 3. ๐ `src/lib/api/inventory-modern.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('inventory_logs').insert()` (ุงูุณุทุฑ 383)

**ุงูุชุญููู**:
- ๐ **ุงูุฅุฌุฑุงุก**: ุงุณุชุฎุฏุงู `deltaWriteService` ูุจุงุดุฑุฉ ุฃู ุฅูุดุงุก service ูุญูู
- โ๏ธ ูุฐุง ุณุฌู (log) - ูุฏ ูุง ูุญุชุงุฌ ูุฒุงููุฉ ููุฑูุฉ

**ุงูุฃููููุฉ**: ๐ก ูุชูุณุทุฉ (ุณุฌู)

---

### 4. ๐ `src/context/shop/orderService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('order_items').insert()` (ุงูุณุทุฑ 111)
- `supabase.from('orders').insert()` (ุงูุณุทุฑ 59)

**ุงูุชุญููู**:
- โ ููุฌุฏ `localPosOrderService` ุจุงููุนู
- โ๏ธ ูุฐุง ุงูููู ูู **online orders** (shop context) ูููุณ POS
- ๐ **ุงูุฅุฌุฑุงุก**: 
  - ุฅุฐุง ูุงู ูุญุชุงุฌ ุฏุนู ุฃูููุงูู โ ุฅูุดุงุก `localOnlineOrderService`
  - ุฅุฐุง ูุงู ุฃูููุงูู ููุท โ ุชูุซูู ุฃูู ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ก ูุชูุณุทุฉ (ูุนุชูุฏ ุนูู ุงููุชุทูุจุงุช)

---

## ๐ข ุงููููุงุช ุงูุชู ูุง ุชุญุชุงุฌ ุฏุนู ุฃูููุงูู (ุฃูููุงูู ููุท)

### 1. ๐ข `src/services/staffService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('users').delete()` (ุงูุณุทุฑ 608)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ุญุฐู ูุณุชุฎุฏู ุนูุฏ ูุดู ุฅูุดุงุก staff
- ๐ **ุงูุณุจุจ**: ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุนุงุฏุฉ ุชููู ุฃูููุงูู ููุท (ุชุชุทูุจ ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ)
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 2. ๐ข `src/pages/LandingPageBuilder.tsx`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('landing_page_components').insert()` (ุงูุณุทุฑ 234, 316)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุจูุงุก ุตูุญุงุช ุงููุจูุท (Landing Pages)
- ๐ **ุงูุณุจุจ**: ุจูุงุก ุงูุตูุญุงุช ุนุงุฏุฉ ูููู ุฃูููุงูู ููุท
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 3. ๐ข `src/api/shippingSettingsService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('shipping_providers').insert()` (ุงูุณุทุฑ 89)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุฅุนุฏุงุฏุงุช ุงูุดุญู (Shipping Settings)
- ๐ **ุงูุณุจุจ**: ุงูุฅุนุฏุงุฏุงุช ุนุงุฏุฉ ุชููู ุฃูููุงูู ููุท (ุชุชุทูุจ ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ)
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 4. ๐ข `src/api/sitemapAnalysisService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('seo_sitemap_entries').delete()` (ุงูุณุทุฑ 266)
- `supabase.from('seo_sitemap_entries').insert()` (ุงูุณุทุฑ 281)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุชุญููู Sitemap (SEO)
- ๐ **ุงูุณุจุจ**: ุชุญููู SEO ุนุงุฏุฉ ูููู ุฃูููุงูู ููุท
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 5. ๐ข `src/lib/api/services.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('whatsapp_messages').insert()` (ุงูุณุทุฑ 337, 348)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุฅุฑุณุงู ุฑุณุงุฆู WhatsApp
- ๐ **ุงูุณุจุจ**: ุฅุฑุณุงู ุงูุฑุณุงุฆู ูุชุทูุจ ุงุชุตุงู ุจุงูุฅูุชุฑูุช
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 6. ๐ข `src/lib/api/products-enhanced-safe.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('inventory_log').delete()` (ุงูุณุทุฑ 268)
- `supabase.from('product_images').delete()` (ุงูุณุทุฑ 269)
- `supabase.from('product_colors').delete()` (ุงูุณุทุฑ 270)
- `supabase.from('product_sizes').delete()` (ุงูุณุทุฑ 271)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุญุฐู ุจูุงูุงุช ูุฑุชุจุทุฉ ุจููุชุฌ
- ๐ **ุงูุณุจุจ**: ุญุฐู ุงูุจูุงูุงุช ุงููุฑุชุจุทุฉ ุนุงุฏุฉ ูููู ุฃูููุงูู ููุท (ุชุชุทูุจ ุตูุงุญูุงุช)
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 7. ๐ข `src/hooks/useCreateCallCenterAgent.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('users').delete()` (ุงูุณุทุฑ 115)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุญุฐู ูุณุชุฎุฏู ุนูุฏ ูุดู ุฅูุดุงุก Call Center Agent
- ๐ **ุงูุณุจุจ**: ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุนุงุฏุฉ ุชููู ุฃูููุงูู ููุท
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 8. ๐ข `src/components/settings/WhatsAppSettings.tsx`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('whatsapp_messages').insert()` (ุงูุณุทุฑ 233)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุฅุฑุณุงู ุฑุณุงุฆู WhatsApp ูู ุงูุฅุนุฏุงุฏุงุช
- ๐ **ุงูุณุจุจ**: ุฅุฑุณุงู ุงูุฑุณุงุฆู ูุชุทูุจ ุงุชุตุงู ุจุงูุฅูุชุฑูุช
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 9. ๐ข `src/api/yalidine/trackingService.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('yalidine_tracking_cache').upsert()` (ุงูุณุทุฑ 214)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูู cache ุชุชุจุน ุงูุดุญูุงุช
- ๐ **ุงูุณุจุจ**: Cache ุนุงุฏุฉ ูููู ุฃูููุงูู ููุท
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

### 10. ๐ข `src/services/orderGroupsApi.ts`
**ุงูุงุณุชุฎุฏุงูุงุช**:
- `supabase.from('order_group_rules').delete()` (ุงูุณุทุฑ 89, 105)
- `supabase.from('order_group_rules').insert()` (ุงูุณุทุฑ 98)
- `supabase.from('order_groups').delete()` (ุงูุณุทุฑ 106)
- `supabase.from('order_group_members').delete()` (ุงูุณุทุฑ 171)

**ุงูุชุญููู**:
- โ๏ธ ูุฐุง ูุฅุฏุงุฑุฉ ูุฌููุนุงุช ุงูุทูุจุงุช (Order Groups)
- ๐ **ุงูุณุจุจ**: ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช ุนุงุฏุฉ ุชููู ุฃูููุงูู ููุท
- โ **ุงูุฅุฌุฑุงุก**: ูุง ุญุงุฌุฉ ููุชุญููู - ุฃูููุงูู ููุท

**ุงูุฃููููุฉ**: ๐ข ููุฎูุถุฉ (ุฃูููุงูู ููุท)

---

## ๐ ููุฎุต ุงูุชุตููู

### ๐ด ุฃููููุฉ ุนุงููุฉ (ูุฌุจ ุชุญููููุง)
1. `src/api/supplierService.ts` - ุงูููุฑุฏูู ููููู ููุฃูููุงูู

### ๐ก ุฃููููุฉ ูุชูุณุทุฉ (ูุนุชูุฏ ุนูู ุงููุชุทูุจุงุช)
1. `src/services/AdvancedInventoryService.ts` - ุณุฌู ุชุงุฑูุฎู
2. `src/lib/api/inventory-modern.ts` - ุณุฌู
3. `src/context/shop/orderService.ts` - ูุนุชูุฏ ุนูู ุงููุชุทูุจุงุช

### ๐ข ุฃููููุฉ ููุฎูุถุฉ (ุฃูููุงูู ููุท - ูุง ุญุงุฌุฉ ููุชุญููู)
1. `src/services/staffService.ts` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
2. `src/pages/LandingPageBuilder.tsx` - ุจูุงุก ุตูุญุงุช ุงููุจูุท
3. `src/api/shippingSettingsService.ts` - ุฅุนุฏุงุฏุงุช ุงูุดุญู
4. `src/api/sitemapAnalysisService.ts` - ุชุญููู SEO
5. `src/lib/api/services.ts` - ุฑุณุงุฆู WhatsApp
6. `src/lib/api/products-enhanced-safe.ts` - ุญุฐู ุจูุงูุงุช ูุฑุชุจุทุฉ
7. `src/hooks/useCreateCallCenterAgent.ts` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
8. `src/components/settings/WhatsAppSettings.tsx` - ุฑุณุงุฆู WhatsApp
9. `src/api/yalidine/trackingService.ts` - cache ุชุชุจุน ุงูุดุญูุงุช
10. `src/services/orderGroupsApi.ts` - ุฅุฏุงุฑุฉ ูุฌููุนุงุช ุงูุทูุจุงุช

---

## โ ุงูุฎุฏูุงุช ุงููุญููุฉ ุงูููุฌูุฏุฉ ุจุงููุนู

1. โ `localProductService` - ุงูููุชุฌุงุช
2. โ `localCustomerService` - ุงูุนููุงุก
3. โ `localPosOrderService` - ุทูุจุงุช POS
4. โ `localSupplierService` - ุงูููุฑุฏูู (ููุฌูุฏ ููู ูุญุชุงุฌ ุงุณุชุฎุฏุงู)
5. โ `localWorkSessionService` - ุฌูุณุงุช ุงูุนูู
6. โ `localExpenseService` - ุงููุตุฑููุงุช
7. โ `localLossDeclarationService` - ุงูุฎุณุงุฆุฑ
8. โ `localRepairService` - ุงูุฅุตูุงุญุงุช
9. โ `localCustomerDebtService` - ุฏููู ุงูุนููุงุก

---

## ๐ ุงูุชูุตูุงุช

### 1. ุชุญููู `supplierService.ts` (ุฃููููุฉ ุนุงููุฉ)
- โ ููุฌุฏ `localSupplierService` ุจุงููุนู
- ๐ ุชุญุฏูุซ `supplierService.ts` ูุงุณุชุฎุฏุงู `localSupplierService` ุจุฏูุงู ูู Supabase ูุจุงุดุฑุฉ

### 2. ุชูููู `orderService.ts` (ุฃููููุฉ ูุชูุณุทุฉ)
- ๐ ุชุญุฏูุฏ ุฅุฐุง ูุงู ูุญุชุงุฌ ุฏุนู ุฃูููุงูู
- ุฅุฐุง ูุนู โ ุฅูุดุงุก `localOnlineOrderService`
- ุฅุฐุง ูุง โ ุชูุซูู ุฃูู ุฃูููุงูู ููุท

### 3. ุชูููู ุณุฌูุงุช ุงููุฎุฒูู (ุฃููููุฉ ูุชูุณุทุฉ)
- ๐ ุชุญุฏูุฏ ุฅุฐุง ูุงูุช ุงูุณุฌูุงุช ุชุญุชุงุฌ ูุฒุงููุฉ ููุฑูุฉ
- ุฅุฐุง ูุนู โ ุฅุถุงูุฉ ุฏุนู ูู `deltaWriteService`
- ุฅุฐุง ูุง โ ุชุฑููุง ุฃูููุงูู ููุท

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ ุชุญููู `supplierService.ts` ูุงุณุชุฎุฏุงู `localSupplierService`
2. ๐ ุชูููู `orderService.ts` ูุชุญุฏูุฏ ุงููุชุทูุจุงุช
3. ๐ ุชูููู ุณุฌูุงุช ุงููุฎุฒูู ูุชุญุฏูุฏ ุงููุชุทูุจุงุช
4. โ ุชูุซูู ุงููููุงุช ุงูุชู ูุง ุชุญุชุงุฌ ุฏุนู ุฃูููุงูู






























