# ูุชุบูุฑุงุช ุงูุจูุฆุฉ - ุฏููู ุงูุฅุนุฏุงุฏ ููุฅูุชุงุฌ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูููู ููุซู ุฌููุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุชุงุญุฉ ูุชููุฆุฉ ุงูุชุทุจูู ูู ุจูุฆุงุช ูุฎุชููุฉ (Development, Staging, Production).

---

## ๐ง ูุชุบูุฑุงุช ุงููุฒุงููุฉ (Sync Configuration)

### `VITE_SYNCENGINE_PARALLEL`
- **ุงููุตู**: ุชุญุฏูุฏ ููุท ุชุดุบูู ูุญุฑู ุงููุฒุงููุฉ (ูุชูุงุฒู ุฃู ุชุณูุณูู)
- **ุงูููู ุงูููุจููุฉ**: `true` | `false`
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `true`
- **ุงูุงุณุชุฎุฏุงู**:
  - `true`: ุชูููุฐ ูุชูุงุฒู ูุฌููุน ููุงู ุงููุฒุงููุฉ (ุฃุณุฑุน ููู ุฃูุซุฑ ุถุบุทุงู ุนูู API)
  - `false`: ุชูููุฐ ุชุณูุณูู (ุฃุจุทุฃ ููู ุฃูู ุถุบุทุงู ุนูู API ูุงูุดุจูุฉ)
- **ุงูุชูุตูุฉ**:
  - Development: `true`
  - Production (ุญูู ุนุงูู): `false`
  - Production (ุญูู ููุฎูุถ): `true`

```env
VITE_SYNCENGINE_PARALLEL=false
```

---

### `VITE_SYNC_POOL_SIZE`
- **ุงููุตู**: ุนุฏุฏ ุงูููุงู ุงููุชุฒุงููุฉ ุงููุณููุญ ุจูุง ูู ููุณ ุงูููุช ููููุชุฌุงุช/ุงูุนููุงุก/ุงูุนูุงููู
- **ุงูููู ุงูููุจููุฉ**: ุฃุฑูุงู ุตุญูุญุฉ ููุฌุจุฉ (1-10)
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `2`
- **ุงูุงุณุชุฎุฏุงู**: ูุญุฏุฏ ุนุฏุฏ ุงูุนูููุงุช ุงููุชูุงุฒูุฉ ุฏุงุฎู ูู ููุน ูู ุฃููุงุน ุงููุฒุงููุฉ
- **ุงูุชูุตูุฉ**:
  - Development: `3-5`
  - Production (ุดุจูุฉ ุณุฑูุนุฉ): `3`
  - Production (ุดุจูุฉ ุจุทูุฆุฉ): `2`
  - Production (API ูุญุฏูุฏ): `1`

```env
VITE_SYNC_POOL_SIZE=2
```

---

## ๐ ูุชุบูุฑุงุช ุงูุงุชุตุงู (Connectivity Configuration)

### `VITE_CONNECTIVITY_BASE_INTERVAL_MS`
- **ุงููุตู**: ุงููุงุตู ุงูุฒููู ุงูุฃุณุงุณู ููุญุต ุญุงูุฉ ุงูุดุจูุฉ (ุจุงููููู ุซุงููุฉ)
- **ุงูููู ุงูููุจููุฉ**: ุฃุฑูุงู ุตุญูุญุฉ ููุฌุจุฉ
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: 
  - Production: `60000` (ุฏูููุฉ ูุงุญุฏุฉ)
  - Development: `30000` (30 ุซุงููุฉ)
- **ุงูุงุณุชุฎุฏุงู**: ูุญุฏุฏ ูู ูุฑุฉ ูุชู ูุญุต ุญุงูุฉ ุงูุงุชุตุงู ุจุงูุดุจูุฉ
- **ุงูุชูุตูุฉ**:
  - Development: `30000` (30 ุซุงููุฉ)
  - Production: `60000-120000` (1-2 ุฏูููุฉ)

```env
VITE_CONNECTIVITY_BASE_INTERVAL_MS=60000
```

---

### `VITE_CONNECTIVITY_MAX_INTERVAL_MS`
- **ุงููุตู**: ุงูุญุฏ ุงูุฃูุตู ูููุงุตู ุงูุฒููู ุจูู ูุญูุตุงุช ุงูุดุจูุฉ (exponential backoff)
- **ุงูููู ุงูููุจููุฉ**: ุฃุฑูุงู ุตุญูุญุฉ ููุฌุจุฉ
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `180000` (3 ุฏูุงุฆู)
- **ุงูุงุณุชุฎุฏุงู**: ุงูุญุฏ ุงูุฃูุตู ุงูุฐู ูููู ุฃู ูุตู ุฅููู ุงููุงุตู ุงูุฒููู ุนูุฏ ุงุณุชุฎุฏุงู exponential backoff
- **ุงูุชูุตูุฉ**:
  - Development: `120000` (2 ุฏูููุฉ)
  - Production: `180000-300000` (3-5 ุฏูุงุฆู)

```env
VITE_CONNECTIVITY_MAX_INTERVAL_MS=180000
```

---

### `VITE_CONNECTIVITY_DEGRADED_MS`
- **ุงููุตู**: ุนุชุจุฉ ุฒูู ุงูุงุณุชุฌุงุจุฉ ูุงุนุชุจุงุฑ ุงูุงุชุตุงู ุจุทูุฆุงู (degraded)
- **ุงูููู ุงูููุจููุฉ**: ุฃุฑูุงู ุตุญูุญุฉ ููุฌุจุฉ (ุจุงููููู ุซุงููุฉ)
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `2000` (ุซุงููุชุงู)
- **ุงูุงุณุชุฎุฏุงู**: ุฅุฐุง ูุงู ุฒูู ุงูุงุณุชุฌุงุจุฉ ุฃูุจุฑ ูู ูุฐู ุงููููุฉุ ููุนุชุจุฑ ุงูุงุชุตุงู ุจุทูุฆุงู
- **ุงูุชูุตูุฉ**:
  - ุดุจูุฉ ุณุฑูุนุฉ: `1000-1500`
  - ุดุจูุฉ ูุชูุณุทุฉ: `2000-3000`
  - ุดุจูุฉ ุจุทูุฆุฉ: `3000-5000`

```env
VITE_CONNECTIVITY_DEGRADED_MS=2000
```

---

## ๐ฆ ุฃูุซูุฉ ุชููุฆุฉ ูุงููุฉ

### Development Environment
```env
# Sync Configuration
VITE_SYNCENGINE_PARALLEL=true
VITE_SYNC_POOL_SIZE=3

# Connectivity Configuration
VITE_CONNECTIVITY_BASE_INTERVAL_MS=30000
VITE_CONNECTIVITY_MAX_INTERVAL_MS=120000
VITE_CONNECTIVITY_DEGRADED_MS=1500
```

### Production Environment (High Load)
```env
# Sync Configuration - ุชูููู ุงูุถุบุท ุนูู API
VITE_SYNCENGINE_PARALLEL=false
VITE_SYNC_POOL_SIZE=2

# Connectivity Configuration - ุชูููู ูุญูุตุงุช ุงูุดุจูุฉ
VITE_CONNECTIVITY_BASE_INTERVAL_MS=60000
VITE_CONNECTIVITY_MAX_INTERVAL_MS=180000
VITE_CONNECTIVITY_DEGRADED_MS=2000
```

### Production Environment (Low Load)
```env
# Sync Configuration - ุฃุฏุงุก ุฃุณุฑุน
VITE_SYNCENGINE_PARALLEL=true
VITE_SYNC_POOL_SIZE=3

# Connectivity Configuration - ูุญูุตุงุช ูุนุชุฏูุฉ
VITE_CONNECTIVITY_BASE_INTERVAL_MS=45000
VITE_CONNECTIVITY_MAX_INTERVAL_MS=150000
VITE_CONNECTIVITY_DEGRADED_MS=1500
```

### Production Environment (Slow Network)
```env
# Sync Configuration - ุชุณูุณูู ูุชุฌูุจ timeout
VITE_SYNCENGINE_PARALLEL=false
VITE_SYNC_POOL_SIZE=1

# Connectivity Configuration - ูุญูุตุงุช ุฃูู
VITE_CONNECTIVITY_BASE_INTERVAL_MS=90000
VITE_CONNECTIVITY_MAX_INTERVAL_MS=300000
VITE_CONNECTIVITY_DEGRADED_MS=5000
```

---

## ๐ฏ ุฏููู ุงุฎุชูุงุฑ ุงูููู ุงูููุงุณุจุฉ

### ุญุณุจ ููุน ุงูุดุจูุฉ

| ููุน ุงูุดุจูุฉ | PARALLEL | POOL_SIZE | BASE_INTERVAL | DEGRADED_MS |
|------------|----------|-----------|---------------|-------------|
| ุณุฑูุนุฉ ุฌุฏุงู | true | 3-5 | 30000 | 1000 |
| ุณุฑูุนุฉ | true | 3 | 45000 | 1500 |
| ูุชูุณุทุฉ | true | 2 | 60000 | 2000 |
| ุจุทูุฆุฉ | false | 2 | 90000 | 3000 |
| ุจุทูุฆุฉ ุฌุฏุงู | false | 1 | 120000 | 5000 |

### ุญุณุจ ุญูู ุงูุฎุงุฏู

| ุญูู ุงูุฎุงุฏู | PARALLEL | POOL_SIZE | ุงูุชูุตูุฉ |
|-----------|----------|-----------|---------|
| ููุฎูุถ | true | 3-5 | ุฃุฏุงุก ุฃุณุฑุน |
| ูุชูุณุท | true | 2-3 | ูุชูุงุฒู |
| ุนุงูู | false | 2 | ุชูููู ุงูุถุบุท |
| ุนุงูู ุฌุฏุงู | false | 1 | ุญูุงูุฉ API |

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ูุคุดุฑุงุช ูุฌุจ ูุฑุงูุจุชูุง:

1. **ูุนุฏู ูุฌุงุญ ุงููุฒุงููุฉ**
   - ุฅุฐุง ูุงู ุฃูู ูู 90%ุ ููู `POOL_SIZE` ุฃู ุงุฌุนู `PARALLEL=false`

2. **ุฒูู ุงุณุชุฌุงุจุฉ API**
   - ุฅุฐุง ุฒุงุฏ ุนู 3 ุซูุงููุ ููู `POOL_SIZE`

3. **ุงุณุชููุงู ุงูุดุจูุฉ**
   - ุฅุฐุง ูุงู ูุฑุชูุนุงูุ ุฒุฏ `BASE_INTERVAL_MS`

4. **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**
   - ุฅุฐุง ูุงูุช ุงููุงุฌูุฉ ุจุทูุฆุฉุ ุงุฌุนู `PARALLEL=false`

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ูุง ุชุณุชุฎุฏู ููู ูุชุทุฑูุฉ**:
   - `POOL_SIZE` ุฃูุจุฑ ูู 10 ูุฏ ูุณุจุจ ูุดุงูู
   - `BASE_INTERVAL` ุฃูู ูู 10 ุซูุงูู ูุฏ ูุณุชูุฒู ุงูุจุทุงุฑูุฉ

2. **ุงุฎุชุจุฑ ุงูุชุบููุฑุงุช**:
   - ุงุฎุชุจุฑ ุฃู ุชุบููุฑ ูู ุจูุฆุฉ staging ุฃููุงู
   - ุฑุงูุจ ุงูุฃุฏุงุก ููุฏุฉ 24 ุณุงุนุฉ ุนูู ุงูุฃูู

3. **ุงูุชูุงูู ูุน ุงูุฃุฌูุฒุฉ**:
   - ุงูุฃุฌูุฒุฉ ุงููุฏููุฉ: ุงุณุชุฎุฏู `PARALLEL=false` ู `POOL_SIZE=1`
   - ุงูุฃุฌูุฒุฉ ุงูุญุฏูุซุฉ: ูููู ุงุณุชุฎุฏุงู ููู ุฃุนูู

4. **ุงุณุชููุงู ุงูุจุทุงุฑูุฉ**:
   - ููู `BASE_INTERVAL` ุฃูู = ุงุณุชููุงู ุจุทุงุฑูุฉ ุฃูุซุฑ
   - ููุฃุฌูุฒุฉ ุงููุญูููุฉุ ุงุณุชุฎุฏู 60000 ุฃู ุฃูุซุฑ

---

## ๐ ูุฑุงุฌุน ุฅุถุงููุฉ

- [SyncEngine Documentation](./src/sync/SyncEngine.ts)
- [ConnectivityService Documentation](./src/lib/connectivity/ConnectivityService.ts)
- [Sync Service Documentation](./src/api/syncService.ts)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุฒุงููุฉ ุจุทูุฆุฉ ุฌุฏุงู
```env
# ุฌุฑุจ ูุฐู ุงูููู
VITE_SYNCENGINE_PARALLEL=true
VITE_SYNC_POOL_SIZE=3
```

### ูุดู ุงููุฒุงููุฉ ุจุดูู ูุชูุฑุฑ
```env
# ุฌุฑุจ ูุฐู ุงูููู
VITE_SYNCENGINE_PARALLEL=false
VITE_SYNC_POOL_SIZE=1
```

### ุงุณุชููุงู ุจุทุงุฑูุฉ ุนุงูู
```env
# ุฌุฑุจ ูุฐู ุงูููู
VITE_CONNECTIVITY_BASE_INTERVAL_MS=120000
VITE_CONNECTIVITY_MAX_INTERVAL_MS=300000
```

### ุงููุงุฌูุฉ ุชุชุฌูุฏ ุฃุซูุงุก ุงููุฒุงููุฉ
```env
# ุฌุฑุจ ูุฐู ุงูููู
VITE_SYNCENGINE_PARALLEL=false
VITE_SYNC_POOL_SIZE=1
```

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-23  
**ุงูุฅุตุฏุงุฑ**: 1.0.0
