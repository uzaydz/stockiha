# 🚀 دليل النطاقات المخصصة - نظام Nameserver الجديد

## 🎯 نظرة عامة

نظام **Nameserver الجديد** هو أحدث وأسهل طريقة لربط نطاقك المخصص مع متجرك في سطوكيها. بدلاً من التعامل مع إعدادات DNS المعقدة، كل ما عليك فعله هو تغيير الـ **Nameservers** في مزود النطاق الخاص بك!

## ✨ المزايا الجديدة

| الميزة | النظام القديم (CNAME) | النظام الجديد (Nameserver) |
|--------|-------------------|--------------------------|
| **سهولة الإعداد** | معقد - يتطلب إعداد DNS | بسيط - فقط غيّر Nameservers |
| **دعم النطاق الجذري** | مشاكل مع GoDaddy وغيره | يعمل مع جميع المزودين |
| **SSL التلقائي** | يتطلب إعداد يدوي | تلقائي 100% |
| **وقت الإعداد** | 24-48 ساعة | 5-15 دقيقة |
| **دعم www** | يتطلب إعداد منفصل | تلقائي |
| **إدارة DNS** | معقدة | تلقائية بالكامل |

## 🔧 كيف يعمل النظام الجديد؟

### الطريقة التقليدية (معقدة):
```
نطاقك → CNAME Records → سطوكيها
```

### الطريقة الجديدة (بسيطة):
```
نطاقك → Cloudflare Nameservers → سطوكيها (تلقائياً)
```

## 📋 خطوات الإعداد السريع

### الخطوة 1: إضافة النطاق في سطوكيها
1. اذهب إلى **لوحة التحكم** → **النطاقات المخصصة**
2. اختر تبويب **"Nameserver (الأحدث)"**
3. أدخل نطاقك (مثل: `mystore.com`)
4. انقر **"إضافة النطاق"**

### الخطوة 2: نسخ الـ Nameservers
ستظهر لك الـ Nameservers الخاصة بسطوكيها:
```
marty.ns.cloudflare.com
sue.ns.cloudflare.com
```

### الخطوة 3: تحديث مزود النطاق
اذهب إلى مزود النطاق الخاص بك وغيّر الـ Nameservers:

#### GoDaddy:
1. **My Products** → **DNS**
2. **Nameservers** → **Change**
3. اختر **"I'll use my own nameservers"**
4. أدخل الـ Nameservers من سطوكيها
5. **Save**

#### Namecheap:
1. **Domain List** → **Manage**
2. **Nameservers** → **Custom DNS**
3. أدخل الـ Nameservers من سطوكيها
4. **Save Changes**

#### Cloudflare (إذا كان النطاق موجود):
- لا تحتاج تغيير شيء! النطاق سيعمل تلقائياً

### الخطوة 4: انتظار التفعيل
- **الوقت المتوقع**: 5-15 دقيقة
- **الحد الأقصى**: ساعتين
- ستتلقى إشعار تلقائي عند اكتمال الإعداد

## 🔍 مراقبة الحالة

في لوحة التحكم، ستشاهد:

### 🟡 في انتظار التكوين
```
الحالة: في انتظار التكوين
الـ Nameservers: ❌ غير مُكوّنة
```
**الإجراء**: تأكد من تحديث Nameservers في مزود النطاق

### 🟢 نشط ومُكوّن
```
الحالة: نشط ومُكوّن  
الـ Nameservers: ✅ مُكوّنة بشكل صحيح
SSL: ✅ نشط
```
**الإجراء**: النطاق جاهز! يمكنك زيارة متجرك

## 🛠️ مزودي النطاقات الشائعين

### GoDaddy
- **المسار**: My Products → DNS → Nameservers → Change
- **الخيار**: "I'll use my own nameservers"
- **الوقت**: 15-30 دقيقة

### Namecheap
- **المسار**: Domain List → Manage → Nameservers → Custom DNS
- **الوقت**: 5-15 دقيقة

### Google Domains
- **المسار**: DNS → Name servers → Use custom name servers
- **الوقت**: 10-20 دقيقة

### Cloudflare
- **إذا كان النطاق موجود**: لا تحتاج تغيير
- **إذا لم يكن موجود**: أضف النطاق إلى Cloudflare أولاً

## 🔧 الإعداد التلقائي

بمجرد تكوين الـ Nameservers، سيقوم النظام تلقائياً بـ:

✅ **إنشاء Custom Hostnames** للنطاق الرئيسي والـ www  
✅ **إصدار شهادة SSL** مجانية من Let's Encrypt  
✅ **تفعيل CNAME Flattening** للنطاق الجذري  
✅ **إعداد إعادة التوجيه** من www إلى النطاق الرئيسي  
✅ **تفعيل CDN عالمي** لسرعة أفضل  

## 🚨 استكشاف الأخطاء

### المشكلة: النطاق لا يزال لا يعمل بعد ساعتين
**الحلول**:
1. تأكد من إدخال Nameservers بشكل صحيح
2. تأكد من حذف أي DNS records قديمة
3. امسح cache DNS المحلي:
   ```bash
   # Windows
   ipconfig /flushdns
   
   # Mac
   sudo dscacheutil -flushcache
   
   # Linux
   sudo systemctl flush-dns
   ```

### المشكلة: SSL لا يعمل
**الحل**: انتظر 5-10 دقائق إضافية. SSL يحتاج وقت أطول قليلاً من DNS.

### المشكلة: www لا يعمل
**الحل**: النظام الجديد يدعم www تلقائياً. إذا لم يعمل، تحقق من الحالة في لوحة التحكم.

## 🔄 مقارنة الأنظمة

### النظام القديم (CNAME)
```
✅ يعمل مع معظم المزودين
❌ مشاكل مع النطاق الجذري
❌ إعداد معقد
❌ SSL يدوي
❌ وقت طويل للإعداد
```

### النظام الجديد (Nameserver)
```
✅ يعمل مع جميع المزودين
✅ دعم كامل للنطاق الجذري
✅ إعداد بسيط جداً
✅ SSL تلقائي
✅ إعداد سريع (5-15 دقيقة)
✅ إدارة تلقائية كاملة
```

## 📞 الدعم الفني

إذا واجهت أي مشاكل:

1. **تحقق من الحالة** في لوحة التحكم → النطاقات المخصصة → حالة النطاق
2. **انتظر الوقت الكافي**: قد يحتاج النطاق حتى ساعتين للانتشار
3. **تواصل معنا** إذا استمرت المشكلة أكثر من ساعتين

---

## 🎉 مبروك!

مع النظام الجديد، أصبح ربط النطاق المخصص أسهل من أي وقت مضى. لا مزيد من التعقيدات، لا مزيد من المشاكل - فقط نطاق يعمل بسلاسة!
