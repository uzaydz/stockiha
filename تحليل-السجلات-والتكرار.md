# ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ£Ø³Ø¨Ø§Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø± ğŸ”

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ ÙŠØ´Ø±Ø­ Ø¨Ø§Ù„ØªÙØµÙŠÙ„ ÙƒÙ„ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙÙŠ Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ ÙˆØ¯ÙˆØ± ÙƒÙ„ Ù…ÙƒÙˆÙ†ØŒ ÙˆØ£Ø³Ø¨Ø§Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±.

---

## 1. Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© (Bootstrap Phase) ğŸš€

### Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª:
```
ğŸ”¥ [ENTRY] Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ main.tsx
ğŸš€ [MAIN] Ø¨Ø¯Ø¡ bootstrap
ğŸ“Š [MAIN] ØªÙ… ÙƒØ´Ù Ù†ÙˆØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚: admin ÙÙŠ 0.10000000149011612 ms
```

### Ø§Ù„Ø¯ÙˆØ±:
- ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù† Ù…Ù„Ù `main.tsx`
- ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (admin Ø£Ùˆ store)
- Ø¥Ù†Ø´Ø§Ø¡ React root ÙˆØ¨Ø¯Ø¡ Ø§Ù„Ø¹Ø±Ø¶

### Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡:
- ÙŠØ­Ø¯Ø« **Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·** Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
- Ù‡Ø°Ø§ Ø£Ù…Ø± Ø·Ø¨ÙŠØ¹ÙŠ ÙˆÙ…Ø·Ù„ÙˆØ¨

---

## 2. SmartWrapperCore - Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø°ÙƒÙŠØ© ğŸ§­

### Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª:
```
ğŸ§­ [SmartWrapperCore] render start {pathname: '/dashboard/orders-v2'}
ğŸ§© [SmartWrapperCore] determinePageType {pathname: '/dashboard/orders-v2', pageType: 'dashboard'}
ğŸ—ï¸ [SmartWrapperCore] choosing wrapper {pageType: 'dashboard', wrapper: 'core'}
â¡ï¸ [SmartWrapperCore] pathname changed {from: null, to: '/dashboard/orders-v2'}
```

### Ø§Ù„Ø¯ÙˆØ±:
- ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (dashboard, store, landing, etc.)
- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù€ wrapper Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ (core Ø£Ùˆ minimal)
- ØªÙˆÙÙŠØ± Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„ÙƒÙ„ Ù†ÙˆØ¹ ØµÙØ­Ø©

### Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡:
- ÙŠØ­Ø¯Ø« **Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©** Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
- ÙŠØ­Ø¯Ø« **Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø±** (pathname change)

---

## 3. CoreInfrastructureWrapper - Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© ğŸ§±

### Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª:
```
ğŸ”Œ [CoreInfra] wrapping with SupabaseProvider + AppWrapper
ğŸ§± [CoreInfra] mounted core infrastructure
```

### Ø§Ù„Ø¯ÙˆØ±:
- ØªÙˆÙÙŠØ± `QueryClientProvider` Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª
- ØªÙˆÙÙŠØ± `TooltipProvider` Ù„Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª
- ØªÙˆÙÙŠØ± `LoadingControllerProvider` Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
- ØªÙˆÙÙŠØ± `SupabaseProvider` Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- ØªÙˆÙÙŠØ± `AppWrapper` Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

### Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡:
- ÙŠØ­Ø¯Ø« **Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©** Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
- Ù‡Ø°Ø§ Ø£Ù…Ø± Ø·Ø¨ÙŠØ¹ÙŠ ÙˆÙ…Ø·Ù„ÙˆØ¨

---

## 4. AppWrapper - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ğŸ§­

### Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©:
```
ğŸ§­ [AppWrapper] mount start {path: '/dashboard/orders-v2', isLandingPage: false, isAdminPublicRoute: false, initialIsReady: false}
â³ [AppWrapper] not ready yet -> returning null
ğŸŸ¢ [AppWrapper] starting initializeData on mount
ğŸ’¨ [AppWrapper] fast-path localhost {time: '0.0ms'}
â±ï¸ [AppWrapper] initializeData: 0.1650390625 ms
ğŸ [AppWrapper] init finished {totalTime: '0.2ms'}
â±ï¸ [AppWrapper] mount effect: 0.56005859375 ms
ğŸ“ˆ [AppWrapper] mount effect done {time: '0.6ms'}
ğŸ‰ [AppWrapper] ready -> rendering children
```

### Ø§Ù„Ø¯ÙˆØ±:
- Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (ready/loading)
- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© (landing, login, etc.)
- ØªÙˆÙÙŠØ± fast-path Ù„Ù€ localhost

### Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© âš ï¸:
```
ğŸ§­ [AppWrapper] mount start {path: '/dashboard/orders-v2', isLandingPage: false, isAdminPublicRoute: false, initialIsReady: false}
â³ [AppWrapper] not ready yet -> returning null
ğŸŸ¢ [AppWrapper] starting initializeData on mount
Timer 'â±ï¸ [AppWrapper] initializeData' already exists  <-- ØªØ­Ø°ÙŠØ± Ø¨ÙˆØ¬ÙˆØ¯ timer Ù…ÙƒØ±Ø±
ğŸ’¨ [AppWrapper] fast-path localhost {time: '0.3ms'}
```

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: `AppWrapper` ÙŠØªÙ… mount Ø¹Ø¯Ø© Ù…Ø±Ø§Øª Ø¨Ø³Ø¨Ø¨:
1. Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø¨ (parent re-renders)
2. ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ dependencies Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ useEffect

---

## 5. SupabaseProvider - Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ğŸ”Œ

### Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª:
```
ğŸ”Œ [SupabaseProvider] mounting
â±ï¸ [SupabaseProvider] ensureClientReady: 36.00 ms
â±ï¸ [SupabaseProvider] auth.getSession: 0.20 ms
â±ï¸ [SupabaseProvider] mount: 36.50 ms
ğŸ [SupabaseProvider] mounted
ğŸ”” [SupabaseProvider] auth state change {event: 'SIGNED_IN', hasSession: true}
```

### Ø§Ù„Ø¯ÙˆØ±:
- Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Supabase client
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ©
- Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- Ø¥Ø±Ø³Ø§Ù„ Ø£Ø­Ø¯Ø§Ø« Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

### Ø³Ø¨Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±:
- ØªØ­Ø¯Ø« `auth state change` **Ø¹Ø¯Ø© Ù…Ø±Ø§Øª** Ø¨Ø³Ø¨Ø¨:
  1. Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù„Ù„Ø¬Ù„Ø³Ø©
  2. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ù„Ø³Ø© (refresh token)
  3. Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

---

## 6. AuthContext - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ğŸ”

### Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©:
```
ğŸ” [Auth] provider mount start {subdomain: null}
ğŸ’¾ [Auth] loaded from storage
â±ï¸ [Auth] initializeFromStorage: 0.657958984375 ms
ğŸ‘¤ [Auth] start loading profile
ğŸ‘¤ [Auth] profile loaded
ğŸ¢ [Auth] start loading organization
ğŸŸ¢ [Auth] dataLoadingComplete true
```

### Ø§Ù„Ø¯ÙˆØ±:
- Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (session, user)
- ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (userProfile)
- ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ø³Ø³Ø© (organization)
- Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage
- Ø¥Ø±Ø³Ø§Ù„ Ø£Ø­Ø¯Ø§Ø« Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„

### Ø³Ø¨Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ø´Ø¯ÙŠØ¯ âš ï¸âš ï¸âš ï¸:
```
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 1)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 2)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 3)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 4)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 5)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 6)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 7)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 8)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 9)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 10)
ğŸ” [Auth] provider mount start {subdomain: null}  (Ù…Ø±Ø© 11)
```

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©**: `AuthProvider` ÙŠØªÙ… mount **11 Ù…Ø±Ø©** Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©!

### Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±:
1. **Re-renders Ù…ØªØªØ§Ù„ÙŠØ©**: Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø¨ ØªØ¹ÙŠØ¯ Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª
2. **Dependencies ØºÙŠØ± Ù…Ø³ØªÙ‚Ø±Ø©**: `useMemo` Ùˆ `useEffect` dependencies ØªØªØºÙŠØ± Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±
3. **State updates Ù…ØªØªØ§Ù„ÙŠØ©**: ÙƒÙ„ ØªØ­Ø¯ÙŠØ« Ù„Ù„Ù€ state ÙŠØ³Ø¨Ø¨ re-render Ø¬Ø¯ÙŠØ¯
4. **Cascading effects**: ØªØºÙŠÙŠØ± state ÙÙŠ Ù…ÙƒÙˆÙ† ÙŠØ³Ø¨Ø¨ re-render ÙÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„

---

## 7. Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© (Network Requests) ğŸ“¡

### Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø©:
```
Fetch: POST "get_user_with_permissions_unified"  (Ù…Ø±ØªÙŠÙ†)
Fetch: GET "notifications?select=*&organization_id=eq.6c2ed605..."  (Ù…Ø±ØªÙŠÙ†)
Fetch: GET "organization_settings?select=*&organization_id=eq.6c2ed605..."
Fetch: POST "get_global_data_complete"
Fetch: POST "check_online_orders_limit"
Fetch: POST "get_orders_complete_data"
Fetch: GET "users?select=*&auth_user_id=eq.edd5101f..."
Fetch: GET "organizations?select=*&id=eq.6c2ed605..."
Fetch: POST "is_phone_blocked"  (6 Ù…Ø±Ø§Øª!)
Fetch: POST "auth/v1/token?grant_type=refresh_token"
```

### Ø§Ù„Ø¯ÙˆØ±:
- `get_user_with_permissions_unified`: Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- `notifications`: Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- `organization_settings`: Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ø³Ø³Ø©
- `get_global_data_complete`: Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
- `check_online_orders_limit`: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- `get_orders_complete_data`: Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- `is_phone_blocked`: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¸Ø± Ø§Ù„Ù‡Ø§ØªÙ
- `token refresh`: ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©

### Ø³Ø¨Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø± âš ï¸:
- `get_user_with_permissions_unified` ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡ **Ù…Ø±ØªÙŠÙ†**
- `is_phone_blocked` ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡ **6 Ù…Ø±Ø§Øª**
- `notifications` ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡ **Ù…Ø±ØªÙŠÙ†**

**Ø§Ù„Ø³Ø¨Ø¨**: ÙƒÙ„ Ù…Ø±Ø© ÙŠØªÙ… ÙÙŠÙ‡Ø§ mount Ø§Ù„Ù€ AuthProviderØŒ ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

---

## 8. ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ (Performance Violations) âš ï¸

### Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª:
```
[Violation] 'message' handler took 173ms
[Violation] Forced reflow while executing JavaScript took 30ms
[Violation] 'message' handler took 1060ms
[Violation] 'message' handler took 432ms
[Violation] 'message' handler took 396ms
```

### Ø§Ù„Ø¯ÙˆØ±:
- ØªØ­Ø°ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ Ø¹Ù† Ø¹Ù…Ù„ÙŠØ§Øª Ø¨Ø·ÙŠØ¦Ø©
- `Forced reflow`: Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ layout Ø¨Ø´ÙƒÙ„ Ù…ØªØ²Ø§Ù…Ù†

### Ø³Ø¨Ø¨ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª:
1. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø³Ø§Ø¦Ù„ Ø·ÙˆÙŠÙ„Ø© (message handlers)
2. Ø¹Ù…Ù„ÙŠØ§Øª Ù…ØªØ²Ø§Ù…Ù†Ø© ÙƒØ«ÙŠØ±Ø©
3. ØªØ­Ø¯ÙŠØ«Ø§Øª DOM Ù…ØªÙƒØ±Ø±Ø©

---

## 9. React Router ØªØ­Ø°ÙŠØ±Ø§Øª ğŸ“

### Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª:
```
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7
```

### Ø§Ù„Ø¯ÙˆØ±:
- ØªØ­Ø°ÙŠØ±Ø§Øª Ù…Ù† React Router Ø¹Ù† ØªØºÙŠÙŠØ±Ø§Øª Ù‚Ø§Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± 7

### Ø§Ù„Ø­Ù„:
- Ø¥Ø¶Ø§ÙØ© future flags ÙÙŠ BrowserRouter:
  - `v7_startTransition={true}`
  - `v7_relativeSplatPath={true}`

---

## Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙˆØ§Ù„Ø­Ù„ÙˆÙ„ ğŸ”§

### 1. AuthProvider ÙŠØªÙ… mount 11 Ù…Ø±Ø©

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ù…ØªÙƒØ±Ø±Ø© Ø¨Ø³Ø¨Ø¨:
- ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ dependencies
- state updates Ù…ØªØªØ§Ù„ÙŠØ©
- parent re-renders

**Ø§Ù„Ø­Ù„**:
```typescript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… React.memo Ù„Ù…Ù†Ø¹ re-renders ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠØ©
export const AuthProvider = memo<{ children: React.ReactNode }>(({ children }) => {
  // ...
});

// ØªØ­Ø³ÙŠÙ† dependencies ÙÙŠ useMemo Ùˆ useEffect
const value = useMemo(() => ({
  // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø±ÙØ§Øª ÙÙ‚Ø· Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
  session?.access_token,
  user?.id,
  userProfile?.id,
  organization?.id,
  // ...
}), [
  session?.access_token,
  user?.id,
  userProfile?.id,
  organization?.id,
  // ...
]);
```

### 2. Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ø±Ø©

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ù†ÙØ³ Ø§Ù„Ø·Ù„Ø¨ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª

**Ø§Ù„Ø­Ù„**:
```typescript
// Ø¥Ø¶Ø§ÙØ© caching Ù„Ù„Ø·Ù„Ø¨Ø§Øª
const requestCache = new Map();

const fetchWithCache = async (key, fetchFn) => {
  if (requestCache.has(key)) {
    const cached = requestCache.get(key);
    if (Date.now() - cached.timestamp < 5000) { // 5 Ø«ÙˆØ§Ù†ÙŠ
      return cached.data;
    }
  }
  
  const data = await fetchFn();
  requestCache.set(key, { data, timestamp: Date.now() });
  return data;
};
```

### 3. AppWrapper ÙŠØªÙ… mount Ø¹Ø¯Ø© Ù…Ø±Ø§Øª

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø¨ ØªØ¹ÙŠØ¯ Ø§Ù„Ø¹Ø±Ø¶

**Ø§Ù„Ø­Ù„**:
```typescript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… React.memo
export const AppWrapper = memo<AppWrapperProps>(({ children }) => {
  // ...
});

// ØªØ­Ø³ÙŠÙ† dependencies
useEffect(() => {
  // ...
}, []); // dependency array ÙØ§Ø±Øº Ù„Ù„ØªÙ†ÙÙŠØ° Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
```

---

## Ø®Ø§Ø±Ø·Ø© Ø§Ù„ØªØ¯ÙÙ‚ (Flow Chart) ğŸ“Š

```
1. main.tsx (bootstrap)
   â†“
2. AdminApp
   â†“
3. AppCore (BrowserRouter)
   â†“
4. SmartProviderWrapper
   â†“
5. SmartWrapperCore
   â†“
6. CoreInfrastructureWrapper
   â”œâ”€â”€ QueryClientProvider
   â”œâ”€â”€ TooltipProvider
   â”œâ”€â”€ LoadingControllerProvider
   â””â”€â”€ SupabaseProvider
       â””â”€â”€ AppWrapper
           â””â”€â”€ AuthProvider  <-- ÙŠØªÙƒØ±Ø± 11 Ù…Ø±Ø©!
               â”œâ”€â”€ useAuthSession
               â”œâ”€â”€ useUserProfile  <-- ÙŠØ­Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
               â””â”€â”€ useUserOrganization  <-- ÙŠØ­Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```

---

## Ø§Ù„Ù…Ù„Ø®Øµ ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª ğŸ“

### Ø§Ù„Ù…Ù„Ø®Øµ:
1. **AuthProvider** ÙŠØªÙ… mount **11 Ù…Ø±Ø©** Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
2. **Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©** Ù…ÙƒØ±Ø±Ø© (Ø®Ø§ØµØ© `is_phone_blocked` - 6 Ù…Ø±Ø§Øª)
3. **ØªØ­Ø°ÙŠØ±Ø§Øª Ø£Ø¯Ø§Ø¡** Ø¨Ø³Ø¨Ø¨ Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø·ÙˆÙŠÙ„Ø© (1060ms)
4. **React Router** ÙŠØ­ØªØ§Ø¬ future flags

### Ø§Ù„ØªÙˆØµÙŠØ§Øª:
1. âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… `React.memo` Ù„Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
2. âœ… ØªØ­Ø³ÙŠÙ† `dependencies` ÙÙŠ `useMemo` Ùˆ `useEffect`
3. âœ… Ø¥Ø¶Ø§ÙØ© `caching` Ù„Ù„Ø·Ù„Ø¨Ø§Øª
4. âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… `debouncing` Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
5. âœ… Ø¥Ø¶Ø§ÙØ© `React Router future flags`
6. âœ… ÙØµÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø© Ø¥Ù„Ù‰ lazy loaded components

---

## ÙƒÙŠÙÙŠØ© Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªÙƒØ±Ø§Ø± ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ ğŸ”

### 1. Ø§Ø³ØªØ®Ø¯Ø§Ù… React DevTools Profiler:
```bash
# ÙÙŠ Chrome DevTools
1. Ø§ÙØªØ­ React DevTools
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ Profiler
3. Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
4. Ø­Ù…Ù‘Ù„ Ø§Ù„ØµÙØ­Ø©
5. Ø£ÙˆÙ‚Ù Ø§Ù„ØªØ³Ø¬ÙŠÙ„
6. Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªÙŠ ØªØ¹Ø±Ø¶ ÙƒØ«ÙŠØ±Ø§Ù‹
```

### 2. Ø¥Ø¶Ø§ÙØ© Ø³Ø¬Ù„Ø§Øª Ù…ÙØµÙ„Ø©:
```typescript
const renderCount = useRef(0);
useEffect(() => {
  renderCount.current++;
  console.log(`Component rendered ${renderCount.current} times`);
});
```

### 3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Why Did You Render:
```bash
npm install @welldone-software/why-did-you-render
```

```typescript
import whyDidYouRender from '@welldone-software/why-did-you-render';

if (process.env.NODE_ENV === 'development') {
  whyDidYouRender(React, {
    trackAllPureComponents: true,
  });
}
```

---

ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙÙŠ: `ØªØ­Ù„ÙŠÙ„-Ø§Ù„Ø³Ø¬Ù„Ø§Øª-ÙˆØ§Ù„ØªÙƒØ±Ø§Ø±.md`

