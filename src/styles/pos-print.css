/* أنماط طباعة وصولات نقطة البيع المحسنة */
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;600;700;800;900&display=swap');

/* إعدادات عامة للطباعة */
@media print {
  /* إعدادات الصفحة مع هوامش محسنة */
  @page {
    size: auto;
    margin: 5mm 3mm;
    padding: 0;
  }
  
  /* إصلاح مشكلة العرض والوصل الأبيض */
  html {
    background: white !important;
    color: black !important;
  }
  
  body {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    background: white !important;
    color: black !important;
    font-family: 'Tajawal', Arial, sans-serif !important;
    font-size: 14px !important;
    line-height: 1.4 !important;
    direction: rtl !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }
  
  /* إخفاء العناصر غير المطلوبة */
  .no-print, .print-hidden {
    display: none !important;
    visibility: hidden !important;
  }
  
  /* تموضع الوصل مع إصلاح مشكلة الهوامش */
  .receipt-container {
    position: static !important;
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 5mm !important;
    background: white !important;
    color: black !important;
    font-family: 'Tajawal', Arial, sans-serif !important;
    font-size: 14px !important;
    line-height: 1.4 !important;
    direction: rtl !important;
    text-align: right !important;
    box-shadow: none !important;
    border: none !important;
    page-break-inside: avoid !important;
    overflow: visible !important;
  }
  
  /* ضمان ظهور جميع العناصر */
  .receipt-container * {
    background: transparent !important;
    color: black !important;
    border-color: black !important;
    visibility: visible !important;
    opacity: 1 !important;
    box-sizing: border-box !important;
  }
  
  /* تحسين العناوين */
  h1, h2, h3, h4, h5, h6 {
    font-weight: bold !important;
    color: black !important;
    margin: 0.5rem 0 !important;
    text-align: center !important;
  }
  
  /* تحسين الصفوف والجداول */
  .receipt-row, .receipt-item {
    display: flex !important;
    justify-content: space-between !important;
    width: 100% !important;
    margin: 2px 0 !important;
    padding: 1px 0 !important;
  }
  
  /* تحسين الخطوط الفاصلة */
  .dashed-line, .solid-line, hr {
    border-top: 1px solid black !important;
    width: 100% !important;
    margin: 3px 0 !important;
    background: transparent !important;
  }
  
  /* تحسين الصور والشعارات */
  img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
    display: block !important;
    margin: 0 auto !important;
  }
  
  /* تحسين QR codes */
  svg {
    display: block !important;
    margin: 0 auto !important;
    background: white !important;
    border: 1px solid black !important;
  }
  
  /* تحسين المحاذاة */
  .text-center {
    text-align: center !important;
  }
  
  .text-right {
    text-align: right !important;
  }
  
  .text-left {
    text-align: left !important;
  }
  
  /* تحسين الأسعار والأرقام */
  .price, .amount, .total {
    font-weight: bold !important;
    color: black !important;
  }
  
  /* إعدادات خاصة للنصوص العربية */
  [dir="rtl"], .rtl {
    direction: rtl !important;
    text-align: right !important;
  }
  
  /* تحسين المسافات */
  .receipt-container > div,
  .receipt-container > section {
    margin-bottom: 0.5rem !important;
  }
  
  /* إزالة أي تأثيرات بصرية قد تتداخل */
  * {
    text-shadow: none !important;
    filter: none !important;
    transform: none !important;
    transition: none !important;
    animation: none !important;
  }
  
  /* تحسينات للطابعات الحرارية الصغيرة */
  @media print and (max-width: 80mm) {
    .receipt-container {
      width: 76mm !important;
      max-width: 76mm !important;
      font-size: 12px !important;
      line-height: 1.3 !important;
      padding: 3mm !important;
    }
  }
  
  /* تحسينات للطابعات المتوسطة */
  @media print and (min-width: 80mm) and (max-width: 150mm) {
    .receipt-container {
      width: 100% !important;
      max-width: 140mm !important;
      font-size: 13px !important;
      line-height: 1.4 !important;
      padding: 5mm !important;
    }
  }
  
  /* تحسينات للطابعات الكبيرة */
  @media print and (min-width: 150mm) {
    .receipt-container {
      width: 100% !important;
      max-width: 210mm !important;
      font-size: 14px !important;
      line-height: 1.4 !important;
      padding: 8mm !important;
    }
  }
  
  /* تحسينات للطباعة الملونة */
  @media print and (color) {
    .receipt-container {
      background: white !important;
      color: black !important;
    }
  }
  
  /* تحسينات للطباعة أحادية اللون */
  @media print and (monochrome) {
    .receipt-container {
      background: white !important;
      color: black !important;
    }
    
    .receipt-container * {
      background: transparent !important;
      color: black !important;
      border-color: black !important;
    }
  }
  
  /* تحسينات للطباعة عالية الدقة */
  @media print and (min-resolution: 300dpi) {
    .receipt-container {
      font-size: 13px !important;
      line-height: 1.3 !important;
    }
  }
  
  /* تحسينات للطباعة منخفضة الدقة */
  @media print and (max-resolution: 150dpi) {
    .receipt-container {
      font-size: 15px !important;
      line-height: 1.5 !important;
      font-weight: 500 !important;
    }
  }
  
  /* إعدادات خاصة للجداول */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin-bottom: 1rem !important;
  }
  
  th, td {
    padding: 0.25rem !important;
    border: 1px solid black !important;
    text-align: right !important;
  }
  
  /* إعدادات خاصة للقوائم */
  ul, ol {
    margin: 0.5rem 0 !important;
    padding-right: 1rem !important;
  }
  
  li {
    margin-bottom: 0.25rem !important;
  }
  
  /* تحسين عرض التواريخ والأوقات */
  .date, .time, .datetime {
    font-weight: normal !important;
    color: black !important;
  }
  
  /* إعدادات خاصة للعناوين */
  .title, .header, .heading {
    font-weight: bold !important;
    text-align: center !important;
    margin-bottom: 1rem !important;
  }
  
  /* إعدادات خاصة للمعلومات المهمة */
  .important, .highlight, .emphasis {
    font-weight: bold !important;
    color: black !important;
  }
  
  /* تجنب كسر الصفحات داخل العناصر المهمة */
  .receipt-header,
  .receipt-items,
  .receipt-footer {
    page-break-inside: avoid !important;
  }
  
  /* إعدادات لضمان عدم قطع المحتوى */
  .receipt-container {
    orphans: 2 !important;
    widows: 2 !important;
  }
  
  /* إعدادات نهائية للتأكد من الوضوح */
  html {
    background: white !important;
    color: black !important;
  }
  
  body {
    background: white !important;
    color: black !important;
  }
  
  .receipt-container {
    background: white !important;
    color: black !important;
  }
  
  .receipt-container * {
    color: black !important;
    background: transparent !important;
  }
} 