# وظائف تعديل الطلبيات في جدول الحاسوب

## نظرة عامة
تم تطبيق جميع وظائف تعديل الطلبيات الموجودة في الهاتف المحمول على جدول الحاسوب، مما يوفر تجربة موحدة ومتسقة عبر جميع الأجهزة.

## الوظائف المضافة

### 1. التعديل الشامل للطلبية
- **الملف**: `OrderEditDialog.tsx`
- **الوصف**: حوار شامل لتعديل جميع تفاصيل الطلبية
- **الوظائف**:
  - تعديل معلومات العميل (الاسم، الهاتف)
  - تعديل العنوان (الولاية، البلدية، العنوان التفصيلي)
  - تغيير نوع التوصيل (منزل/مكتب)
  - اختيار المكتب عند التوصيل للمكتب
  - إدارة المنتجات (إضافة/حذف/تعديل الكمية)
  - تعديل المبالغ المالية (الشحن، التخفيض)
  - حساب تلقائي لسعر التوصيل

### 2. تعديل نوع التوصيل مباشرة من الجدول
- **الملف**: `OrderDeliveryTypeEditor.tsx`
- **الوصف**: مكون لتعديل نوع التوصيل مباشرة من صف الجدول
- **الوظائف**:
  - تغيير نوع التوصيل (منزل/مكتب)
  - اختيار المكتب عند التوصيل للمكتب
  - تحديث محلي فوري في الواجهة

### 3. تعديل المبالغ المالية مباشرة من الجدول
- **الملف**: `OrderFinancialEditor.tsx`
- **الوصف**: مكون لتعديل المبالغ المالية مباشرة من صف الجدول
- **الوظائف**:
  - تعديل سعر الشحن
  - تعديل التخفيض
  - حساب تلقائي للمجموع الكلي
  - تحديث محلي فوري في الواجهة

### 4. أعمدة الجدول الجديدة
- **عمود نوع التوصيل**: عرض وتعديل نوع التوصيل
- **عمود المبالغ المالية**: عرض وتعديل المبالغ المالية

## كيفية الاستخدام

### الوصول للتعديل الشامل
1. اضغط على زر التعديل (✏️) في عمود الإجراءات
2. سيتم فتح حوار التعديل الشامل
3. قم بالتعديلات المطلوبة
4. اضغط "حفظ التعديلات"

### التعديل السريع من الجدول
1. **نوع التوصيل**: اضغط على زر التعديل في عمود "نوع التوصيل"
2. **المبالغ المالية**: اضغط على زر التعديل في عمود "المبالغ المالية"

## الميزات التقنية

### التحديث المحلي الفوري
- جميع التعديلات تظهر فوراً في الواجهة
- لا حاجة لإعادة تحميل الصفحة
- تحديث تلقائي للبيانات في قاعدة البيانات

### الأمان والصلاحيات
- جميع الوظائف محمية بصلاحيات المستخدم
- التحقق من الصلاحيات قبل السماح بالتعديل

### الأداء المحسن
- استخدام React.memo لتحسين الأداء
- تحديثات محلية سريعة
- تحميل البيانات عند الحاجة فقط

## الملفات المضافة/المعدلة

### ملفات جديدة:
- `src/components/orders/dialogs/OrderEditDialog.tsx`
- `src/components/orders/table/OrderDeliveryTypeEditor.tsx`
- `src/components/orders/table/OrderFinancialEditor.tsx`

### ملفات معدلة:
- `src/components/orders/table/OrderTableRow.tsx`
- `src/components/orders/table/OrdersTableHeader.tsx`
- `src/components/orders/table/OrdersTable.tsx`
- `src/components/orders/table/OrdersTableBody.tsx`
- `src/components/orders/table/row/OrderRowActions.tsx`
- `src/components/orders/table/OrderTableTypes.ts`
- `src/components/orders/ResponsiveOrdersTable.tsx`

## التوافق
- متوافق مع جميع المتصفحات الحديثة
- يعمل على جميع أحجام الشاشات
- متوافق مع الوضع المظلم والفاتح

## الاختبار
تم اختبار جميع الوظائف والتأكد من:
- عمل التحديثات المحلية بشكل صحيح
- حفظ البيانات في قاعدة البيانات
- تحديث الواجهة تلقائياً
- الأمان والصلاحيات
