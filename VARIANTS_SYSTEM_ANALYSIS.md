# ุชุญููู ูุชุทููุฑ ูุธุงู ุงููุชุบูุฑุงุช (ุงูุฃููุงู ูุงูููุงุณุงุช)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุฏุนู ุงููุชุบูุฑุงุช (ุงูุฃููุงู ูุงูููุงุณุงุช) ูู ูู ูู **ูุธุงู ุงูุฎุณุงุฆุฑ** ู **ูุธุงู ุงูุฅุฑุฌุงุน**.

---

## ๐ง ุงููุชุทูุจุงุช ุงููููุฌุฒุฉ

### **1. ูุธุงู ุงูุฎุณุงุฆุฑ (Loss Declarations)** โ

#### **ุฃ) ุชุญุฏูุซุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- โ ุฅุถุงูุฉ ุฃุนูุฏุฉ ุงููุชุบูุฑุงุช ูุฌุฏูู `loss_items`
- โ ุฏุงูุฉ `get_product_variants()` ููุญุตูู ุนูู ูุชุบูุฑุงุช ุงูููุชุฌ
- โ ุชุญุฏูุซ `create_loss_declaration()` ูุฏุนู ุงููุชุบูุฑุงุช
- โ ุชุญุฏูุซ `process_loss_declaration()` ููุนุงูุฌุฉ ูุฎุฒูู ุงููุชุบูุฑุงุช
- โ ุชุญุฏูุซ `get_losses_list()` ูุนุฑุถ ูุนูููุงุช ุงููุชุบูุฑุงุช

#### **ุจ) ุชุญุฏูุซุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ:**
- โ ุฅุถุงูุฉ Types ุฌุฏูุฏุฉ ูููุชุบูุฑุงุช (`ProductVariant`)
- โ ูุงุฌูุฉ ุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช ุนูุฏ ุฅุถุงูุฉ ููุชุฌ ููุฎุณุงุฑุฉ
- โ ุนุฑุถ ูุนูููุงุช ุงููุชุบูุฑุงุช ูู ุฌุฏูู ุงูุฎุณุงุฆุฑ
- โ ุญูุธ ููุนุงูุฌุฉ ูุนูููุงุช ุงููุชุบูุฑุงุช

---

### **2. ูุธุงู ุงูุฅุฑุฌุงุน (Product Returns)** โ

#### **ุฃ) ุชุญุฏูุซุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- โ ุฅุถุงูุฉ ุฃุนูุฏุฉ ุงููุชุบูุฑุงุช ูุฌุฏูู `return_items`
- โ ุฅุถุงูุฉ ุฃุนูุฏุฉ ุงููุชุบูุฑุงุช ูุฌุฏูู `order_items` (ููุทูุจุงุช ุงููุณุชูุจููุฉ)
- โ ุฏุงูุฉ `get_order_details_with_variants()` ููุญุตูู ุนูู ุชูุงุตูู ุงูุทูุจูุฉ ูุน ุงููุชุบูุฑุงุช
- โ ุชุญุฏูุซ `create_return_request()` ูุฏุนู ุงููุชุบูุฑุงุช

#### **ุจ) ุงูุญุงูุฉ ุงูุญุงููุฉ ูููุงุฌูุฉ ุงูุฃูุงููุฉ:**
- โ **ุงููุทููุจ**: ุชุญุฏูุซ ูุงุฌูุฉ ุงูุฅุฑุฌุงุน ูุฏุนู ุงููุชุบูุฑุงุช
- โ **ุงููุทููุจ**: ุฅุถุงูุฉ ุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช ุนูุฏ ุฅูุดุงุก ุทูุจ ุฅุฑุฌุงุน
- โ **ุงููุทููุจ**: ุนุฑุถ ูุนูููุงุช ุงููุชุบูุฑุงุช ูู ุชูุงุตูู ุงูุฅุฑุฌุงุน

---

## ๐ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญุฏุซุฉ

### **ุฌุฏูู `loss_items`**
```sql
-- ุฃุนูุฏุฉ ุฌุฏูุฏุฉ ูููุชุบูุฑุงุช
color_id UUID REFERENCES product_colors(id)
size_id UUID REFERENCES product_sizes(id)
color_name TEXT
size_name TEXT
variant_display_name TEXT
variant_stock_before INTEGER
variant_stock_after INTEGER
```

### **ุฌุฏูู `return_items`**
```sql
-- ุฃุนูุฏุฉ ุฌุฏูุฏุฉ ูููุชุบูุฑุงุช
color_id UUID REFERENCES product_colors(id)
size_id UUID REFERENCES product_sizes(id)
color_name TEXT
size_name TEXT
variant_display_name TEXT
variant_stock_before INTEGER
variant_stock_after INTEGER
```

### **ุฌุฏูู `order_items`**
```sql
-- ุฃุนูุฏุฉ ุฌุฏูุฏุฉ ูููุชุบูุฑุงุช
color_id UUID REFERENCES product_colors(id)
size_id UUID REFERENCES product_sizes(id)
color_name TEXT
size_name TEXT
variant_display_name TEXT
variant_info JSONB
```

---

## ๐ ุงูุฏูุงู ุงููุทูุฑุฉ

### **ุฏูุงู ุงูุฎุณุงุฆุฑ:**
1. **`get_product_variants(p_product_id UUID)`** - ุฌูุจ ูุชุบูุฑุงุช ุงูููุชุฌ
2. **`create_loss_declaration()`** - ุฅูุดุงุก ุชุตุฑูุญ ุฎุณุงุฑุฉ ูุน ุฏุนู ุงููุชุบูุฑุงุช
3. **`process_loss_declaration()`** - ูุนุงูุฌุฉ ุงูุฎุณุงุฑุฉ ูุน ุชุญุฏูุซ ูุฎุฒูู ุงููุชุบูุฑุงุช
4. **`get_losses_list()`** - ุนุฑุถ ูุงุฆูุฉ ุงูุฎุณุงุฆุฑ ูุน ูุนูููุงุช ุงููุชุบูุฑุงุช

### **ุฏูุงู ุงูุฅุฑุฌุงุน:**
1. **`get_order_details_with_variants(p_order_id UUID)`** - ุฌูุจ ุชูุงุตูู ุงูุทูุจูุฉ ูุน ุงููุชุบูุฑุงุช
2. **`create_return_request()`** - ุฅูุดุงุก ุทูุจ ุฅุฑุฌุงุน ูุน ุฏุนู ุงููุชุบูุฑุงุช

---

## ๐ฅ๏ธ ููุฒุงุช ุงููุงุฌูุฉ ุงููุทูุฑุฉ (ูุธุงู ุงูุฎุณุงุฆุฑ)

### **1. ุงุฎุชูุงุฑ ุงูููุชุฌุงุช:**
- ุงูุจุญุซ ุนู ุงูููุชุฌุงุช ุจุงูุงุณู ุฃู ุงูุฑูุฒ
- ุนุฑุถ ูุนูููุงุช "ูู ุฃููุงู" ุฃู "ูู ููุงุณุงุช" 
- ูุชุญ ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช ููููุชุฌุงุช ุงูุชู ููุง ูุชุบูุฑุงุช

### **2. ูุงุฌูุฉ ุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช:**
- ุนุฑุถ ุฌููุน ูุชุบูุฑุงุช ุงูููุชุฌ ูุน:
  - ุงุณู ุงููุชุบูุฑ (ููู - ููุงุณ)
  - ุงููุฎุฒูู ุงูุญุงูู
  - ุณุนุฑ ุงูุชูููุฉ
- ุงุฎุชูุงุฑ ุงููุชุบูุฑ ุงููุญุฏุฏ ุจููุฑุฉ ูุงุญุฏุฉ

### **3. ุนุฑุถ ุงูุฎุณุงุฆุฑ:**
- ุฅุธูุงุฑ ูุนูููุงุช ุงููุชุบูุฑ ูู ุฌุฏูู ุงูููุชุฌุงุช
- ุนุฑุถ ุงุณู ุงููุชุบูุฑ ุจููู ูููุฒ
- ุชุชุจุน ูุฎุฒูู ุงููุชุบูุฑ ูุจู ูุจุนุฏ ุงูุฎุณุงุฑุฉ

---

## ๐ ุงููุฑุญูุฉ ุงูุชุงููุฉ: ุชุทููุฑ ูุงุฌูุฉ ุงูุฅุฑุฌุงุน

### **ุงููุทููุจ:**
1. **ุชุญุฏูุซ Types ูู React** ูุฏุนู ุงููุชุบูุฑุงุช
2. **ุชุทููุฑ ูุงุฌูุฉ ุงูุจุญุซ ุนู ุงูุทูุจุงุช** ูุน ุนุฑุถ ุงููุชุบูุฑุงุช
3. **ุฅุถุงูุฉ ูุงุฌูุฉ ุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช** ุนูุฏ ุงูุฅุฑุฌุงุน
4. **ุชุญุฏูุซ ุนุฑุถ ุชูุงุตูู ุงูุฅุฑุฌุงุน** ูุฅุธูุงุฑ ุงููุชุบูุฑุงุช
5. **ุชุญุฏูุซ ูุงุฆูุฉ ุงูุฅุฑุฌุงุน** ูุนุฑุถ ูุนูููุงุช ุงููุชุบูุฑุงุช

---

## ๐ฏ ุงูููุงุฆุฏ ุงููุญููุฉ

### **1. ุฏูุฉ ูู ุงูุชุชุจุน:**
- ุชุชุจุน ุฏููู ููุฃููุงู ูุงูููุงุณุงุช ุงููุญุฏุฏุฉ
- ููุน ุงูุฃุฎุทุงุก ูู ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- ุดูุงููุฉ ุฃูุจุฑ ูู ุงูุนูููุงุช

### **2. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:**
- ูุงุฌูุฉ ุณููุฉ ูุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช
- ุนุฑุถ ูุงุถุญ ููุนูููุงุช ุงูููุชุฌ
- ุชุฃููุฏุงุช ุฐููุฉ ูููุน ุงูุฃุฎุทุงุก

### **3. ุฅุฏุงุฑุฉ ูุฎุฒูู ูุญุณูุฉ:**
- ุชุญุฏูุซ ุฏููู ููุฎุฒูู ูู ูุชุบูุฑ
- ุชุณุฌูู ุงูุชุบููุฑุงุช ูู inventory_transactions
- ุชุงุฑูุฎ ุดุงูู ููุญุฑูุงุช

---

## ๐ ูุงุฆูุฉ ุงูููุงู ุงููุชุจููุฉ

### **ูุธุงู ุงูุฅุฑุฌุงุน (ุงูุฃููููุฉ ุงูุนุงููุฉ):**
- [ ] ุชุญุฏูุซ Types ูู `ProductReturns.tsx`
- [ ] ุฅุถุงูุฉ ุฏุนู ุงููุชุบูุฑุงุช ูู ุงูุจุญุซ ุนู ุงูุทูุจุงุช
- [ ] ุชุทููุฑ ูุงุฌูุฉ ุงุฎุชูุงุฑ ุงููุชุบูุฑุงุช ููุฅุฑุฌุงุน
- [ ] ุชุญุฏูุซ ุนุฑุถ ุชูุงุตูู ุงูุฅุฑุฌุงุน
- [ ] ุงุฎุชุจุงุฑ ุงููุธุงู ุจุงููุงูู

### **ุชุญุณููุงุช ุฅุถุงููุฉ:**
- [ ] ุฅุถุงูุฉ ุชูุงุฑูุฑ ูููุชุบูุฑุงุช
- [ ] ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงููุชุบูุฑุงุช ุงููุชูุฏูุฉ
- [ ] ุชุญุณูู ุงูุฃุฏุงุก ููุงุณุชุนูุงูุงุช
- [ ] ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ูููุชุบูุฑุงุช

---

## ๐ ุงูุฃูุงู ูุงูููุซูููุฉ

- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุชุญูู ูู ุชููุฑ ุงููุฎุฒูู ูุจู ุงููุนุงูุฌุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุงุณุชุซูุงุกุงุช
- โ ุชุณุฌูู ุดุงูู ููุนูููุงุช
- โ ุฅูุดุงุก ููุงุฑุณ ููุฃุฏุงุก

---

**๐ ุขุฎุฑ ุชุญุฏูุซ**: ุชู ุฅูุฌุงุฒ ูุธุงู ุงูุฎุณุงุฆุฑ ุจุงููุงููุ ูุชู ุชุญุถูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุธุงู ุงูุฅุฑุฌุงุน. ุงููุฑุญูุฉ ุงูุชุงููุฉ ูู ุชุทููุฑ ูุงุฌูุฉ ุงูุฅุฑุฌุงุน ุงูุฃูุงููุฉ. 