# إصلاح مشاكل عرض صلاحيات الموظفين

## المشاكل التي تم تحديدها:

### 1. **عدم عرض جميع الصلاحيات المتاحة:**
- **المشكلة:** كان الملف يعرض فقط الصلاحيات الموجودة في `employee.permissions`
- **الحل:** تم تحديث الكود ليعرض جميع الصلاحيات المتاحة، سواء كانت مفعلة أم لا

### 2. **ترجمة غير مكتملة للصلاحيات:**
- **المشكلة:** بعض الصلاحيات الجديدة لا تحتوي على ترجمة عربية
- **الحل:** تم إضافة ترجمات عربية لجميع الصلاحيات الجديدة

### 3. **عدم عرض الصلاحيات المقترحة:**
- **المشكلة:** الصلاحيات المفصلة الجديدة مثل `viewProducts`, `addProducts`, `manageInventory` لا تظهر
- **الحل:** تم إضافة جميع الصلاحيات الجديدة مع ترجماتها

### 4. **مشكلة في API:**
- **المشكلة:** الصلاحيات يتم تعيينها كـ `false` افتراضياً بدلاً من جلبها من قاعدة البيانات
- **الحل:** تم تحديث `employees.ts` ليجلب الصلاحيات من قاعدة البيانات

## التحديثات المطبقة:

### في `EmployeeDetailsDialog.tsx`:
- تم تنظيم الصلاحيات في مجموعات منطقية
- تم إضافة جميع الصلاحيات الجديدة مع ترجماتها العربية
- تم تحسين التصميم ليكون أكثر وضوحاً

### في `employees.ts`:
- تم تحديث `performGetEmployees` ليجلب الصلاحيات من قاعدة البيانات
- تم تحديث `getEmployeesWithStats` ليدعم جميع الصلاحيات الجديدة
- تم إضافة الصلاحيات الافتراضية لجميع الصلاحيات الجديدة

## الصلاحيات المضافة:

### الصلاحيات الأساسية:
- الوصول لنقطة البيع
- إدارة الطلبات
- معالجة المدفوعات
- إدارة المستخدمين
- عرض التقارير
- إدارة المنتجات
- إدارة الخدمات
- إدارة الموظفين
- عرض الطلبات

### صلاحيات المنتجات والمخزون:
- عرض المنتجات
- إضافة منتجات
- تعديل المنتجات
- حذف المنتجات
- إدارة فئات المنتجات
- إدارة المخزون
- عرض المخزون

### صلاحيات الخدمات:
- عرض الخدمات
- إضافة خدمات
- تعديل الخدمات
- حذف الخدمات
- متابعة الخدمات

### صلاحيات العملاء:
- عرض العملاء
- إدارة العملاء
- عرض الديون
- تسجيل دفعات الديون
- سجل ديون العملاء

### صلاحيات الموردين والمشتريات:
- عرض الموردين
- إدارة الموردين
- إدارة المشتريات

### صلاحيات التقارير:
- التقارير المالية
- تقارير المبيعات
- تقارير المخزون
- تقارير العملاء
- تصدير التقارير

### صلاحيات الإعدادات:
- عرض الإعدادات
- إعدادات الملف الشخصي
- إعدادات المظهر
- إعدادات الأمان
- إعدادات الإشعارات
- إعدادات المؤسسة
- إعدادات الفوترة
- إدارة التكامل
- الإعدادات المتقدمة

### صلاحيات الفليكسي والعملات الرقمية:
- إدارة نظام فليكسي
- إدارة الفليكسي والعملات الرقمية
- بيع خدمات الفليكسي والعملات الرقمية
- رؤية تحليل مبيعات الفليكسي والعملات الرقمية

## النتيجة:
الآن يمكن للمستخدمين رؤية جميع الصلاحيات المتاحة في النظام، سواء كانت مفعلة أم لا، مع ترجمات عربية واضحة وتنظيم منطقي للمجموعات.
