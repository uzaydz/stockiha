# ูุชุงุฆุฌ ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก - ููุงุฑูุฉ ูุจู ูุจุนุฏ ุงูุชุญุณูู

## ููุฎุต ุงููุชุงุฆุฌ

### ุงูููุงุฑูุฉ ุงูุฅุฌูุงููุฉ:

| ุงููุคุดุฑ | ูุจู ุงูุชุญุณูู | ุจุนุฏ ุงูุชุญุณูู | ุงูุชุญุณู |
|---------|-------------|-------------|---------|
| ุฅุฌูุงูู ุงูุงุณุชุฏุนุงุกุงุช | 35 | 30 | -14% โ |
| ูุชูุณุท ุฒูู ุงูุงุณุชุฌุงุจุฉ | 469.5ms | 440.7ms | -6% โ |
| ุฃุจุทุฃ ุงุณุชุฏุนุงุก | 1456ms | 829ms | -43% โ |
| ูุนุฏู ุงููุฌุงุญ | 100% | 100% | = |

### ุงููุฏู ุงููุณุชูุฏู vs ุงููุญูู:

| ุงููุฏู | ุงููุณุชูุฏู | ุงููุญูู | ุญุงูุฉ ุงูุฅูุฌุงุฒ |
|-------|----------|--------|-------------|
| ุชูููู ุงูุงุณุชุฏุนุงุกุงุช | 70% (ุฅูู 10) | 14% (ุฅูู 30) | ๐ก ุฌุฒุฆู |
| ุชุญุณูู ุฒูู ุงูุงุณุชุฌุงุจุฉ | 60% (ุฅูู 180ms) | 6% (ุฅูู 440ms) | ๐ก ุฌุฒุฆู |
| ุฃุจุทุฃ ุงุณุชุฏุนุงุก | 80% (ุฅูู 300ms) | 43% (ุฅูู 829ms) | ๐ก ุฌุฒุฆู |

## ุชุญููู ุชูุตููู

### ุงูุงุณุชุฏุนุงุกุงุช ุงูุฃูุซุฑ ุชูุฑุงุฑุงู (ูุง ุฒุงูุช ุชุญุชุงุฌ ุชุญุณูู):

1. **POSOrdersDataContext.tsx**: 11 ุงุณุชุฏุนุงุก
   - `returns.select`: 2 ูุฑุฉ
   - `get_pos_settings`: 1 ูุฑุฉ
   - `order_items.select`: 1 ูุฑุฉ
   - `orders.select`: 2 ูุฑุฉ
   - `users.select`: 1 ูุฑุฉ
   - `get_pos_orders_count_with_returns`: 1 ูุฑุฉ
   - `get_pos_order_stats`: 1 ูุฑุฉ

2. **ุงุณุชุฏุนุงุกุงุช ูุชูุฑุฑุฉ ุฃุฎุฑู**:
   - `users.select` (organization_id): 2 ูุฑุฉ ูู AddProductDialog.tsx
   - `get_pos_settings`: 3 ูุฑุงุช ูู ูููุงุช ูุฎุชููุฉ
   - `organizations.update`: 3 ูุฑุงุช ูู SubscriptionCheck.tsx

### ุงููููุงุช ุงูุฃูุซุฑ ูุดุงุทุงู:

| ุงูููู | ุนุฏุฏ ุงูุงุณุชุฏุนุงุกุงุช | ุงููุณุจุฉ |
|-------|----------------|--------|
| POSOrdersDataContext.tsx | 11 | 37% |
| SubscriptionCheck.tsx | 3 | 10% |
| usePOSSettings.ts | 2 | 7% |
| AddProductDialog.tsx | 2 | 7% |
| POSDataContext.tsx | 2 | 7% |

## ุฎุทุฉ ุงูุชุญุณูู ุงูุชุงููุฉ

### ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุชุทุจูู UnifiedDataContext

ูุชุญููู ุงูุฃูุฏุงู ุงููุณุชูุฏูุฉุ ูุฌุจ:

1. **ุงุณุชุจุฏุงู POSOrdersDataContext** ุจู UnifiedDataContext
2. **ุชุทุจูู RPC Functions ุงูููุญุฏุฉ** ูู ุงููููุงุช ุงููุดุทุฉ
3. **ุฅุฒุงูุฉ ุงูุงุณุชุฏุนุงุกุงุช ุงููุชูุฑุฑุฉ** ูู get_pos_settings

### ุงููุชุงุฆุฌ ุงููุชููุนุฉ ุจุนุฏ ุชุทุจูู ุงููุฑุญูุฉ ุงูุซุงููุฉ:

| ุงููุคุดุฑ | ุงูุญุงูู | ุงููุชููุน | ุงูุชุญุณู ุงููุชููุน |
|---------|--------|---------|---------------|
| ุฅุฌูุงูู ุงูุงุณุชุฏุนุงุกุงุช | 30 | 8-10 | -67% ุฅูู -73% |
| ูุชูุณุท ุฒูู ุงูุงุณุชุฌุงุจุฉ | 440ms | 150-200ms | -55% ุฅูู -66% |
| ุฃุจุทุฃ ุงุณุชุฏุนุงุก | 829ms | 250-350ms | -58% ุฅูู -70% |

## ุงูุชูุตูุงุช ููุชุทุจูู ุงูููุฑู

### 1. ุงูุฃููููุฉ ุงูุนุงููุฉ:
```typescript
// ุงุณุชุจุฏุงู POSOrdersDataContext ุจู UnifiedDataContext
import { useOrdersData } from '@/context/UnifiedDataContext';

// ุจุฏูุงู ูู ุงุณุชุฏุนุงุกุงุช ูุชุนุฏุฏุฉุ ุงุณุชุฏุนุงุก ูุงุญุฏ:
const { ordersData } = useOrdersData();
```

### 2. ุงูุฃููููุฉ ุงููุชูุณุทุฉ:
```typescript
// ุงุณุชุจุฏุงู get_pos_settings ุงููุชูุฑุฑุฉ
import { usePOSSettings } from '@/context/UnifiedDataContext';

// ุจุฏูุงู ูู 3 ุงุณุชุฏุนุงุกุงุช ูููุตูุฉุ ูุดุงุฑูุฉ ุงูุจูุงูุงุช:
const posSettings = usePOSSettings();
```

### 3. ุฅุตูุงุญ ููุฑู:
```typescript
// ุฏูุฌ users.select ููู organization_id
import { useCurrentOrganization } from '@/context/UnifiedDataContext';

// ุจุฏูุงู ูู ุงุณุชุฏุนุงุก users table:
const organization = useCurrentOrganization();
const orgId = organization?.id;
```

## ูุชุงุจุนุฉ ุงูุฃุฏุงุก

### ูุคุดุฑุงุช ุงููุฑุงูุจุฉ:
- ุชุณุฌูู ุนุฏุฏ ุงูุงุณุชุฏุนุงุกุงุช ูู ูู ุตูุญุฉ
- ููุงุณ ุฒูู ุชุญููู ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ
- ูุฑุงูุจุฉ ุงุณุชููุงู ุงูุฐุงูุฑุฉ

### ุงูุงุฎุชุจุงุฑ ุงูุชุงูู:
ุจุนุฏ ุชุทุจูู UnifiedDataContextุ ูุฌุจ ุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุฌุฏูุฏ ูููุงุณ:
- ูู ุชู ุงููุตูู ูููุฏู 70% ุชููููุ
- ูู ุชุญุณู ุฒูู ุงูุงุณุชุฌุงุจุฉ ูููุณุชูู ุงููุทููุจุ
- ูู ุชู ุญู ูุดููุฉ ุงูุงุณุชุฏุนุงุกุงุช ุงููุชูุฑุฑุฉุ

## ุฎุงุชูุฉ

ุงูุชุญุณููุงุช ุงูุญุงููุฉ ุฅูุฌุงุจูุฉ ูููู ูู ุชุตู ูููุฏู ุงููุทููุจ. 
ุชุทุจูู UnifiedDataContext ุณูุญูู ุงููุชุงุฆุฌ ุงููุณุชูุฏูุฉ ููุงุฆูุงู.

**ุงูุฎุทูุฉ ุงูุชุงููุฉ**: ุชุทุจูู UnifiedDataContext ูู App.tsx ูุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ.