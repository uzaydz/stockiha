# ๐ ุฏููู ูุธุงู ุงูุชุญุฏูุซ ุงูุชููุงุฆู ูุชุทุจูู Stockiha Electron

## ๐ ุงููุญุชููุงุช
1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ุขููุฉ ุงูุนูู](#ุขููุฉ-ุงูุนูู)
3. [ุงููููุงุช ุงูููุดุฃุฉ](#ุงููููุงุช-ุงูููุดุฃุฉ)
4. [ุฅุนุฏุงุฏ GitHub Releases](#ุฅุนุฏุงุฏ-github-releases)
5. [ููููุฉ ุงููุดุฑ](#ููููุฉ-ุงููุดุฑ)
6. [ุงูุงุฎุชุจุงุฑ](#ุงูุงุฎุชุจุงุฑ)
7. [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก](#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก)

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ุชุญุฏูุซ ุชููุงุฆู ูุชูุฏู ุจุงุณุชุฎุฏุงู **electron-updater** ูุณูุญ ุจู:
- โ ุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุชุญุฏูุซุงุช ูู 4 ุณุงุนุงุช
- โ ุฅุดุนุงุฑ ุงููุณุชุฎุฏู ุจุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ
- โ ุชูุฒูู ุงูุชุญุฏูุซุงุช ูู ุงูุฎูููุฉ
- โ ุชุซุจูุช ุชููุงุฆู ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู
- โ ุจุฏูู ุญุฐู ุงูุชุทุจูู ุฃู ููุฏุงู ุงูุจูุงูุงุช

---

## ๐ ุขููุฉ ุงูุนูู

### ุงููุฑุงุญู ุงูุฃุณุงุณูุฉ:

```mermaid
graph TD
    A[ุจุฏุก ุงูุชุทุจูู] --> B[ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช]
    B --> C{ุชุญุฏูุซ ูุชุงุญุ}
    C -->|ูุนู| D[ุฅุธูุงุฑ ุฅุดุนุงุฑ]
    C -->|ูุง| E[ูุชุงุจุนุฉ ุงูุนูู]
    D --> F{ุงููุณุชุฎุฏู ููุงููุ}
    F -->|ูุนู| G[ุชูุฒูู ุงูุชุญุฏูุซ]
    F -->|ูุง| E
    G --> H[ุฅุธูุงุฑ ุงูุชูุฏู]
    H --> I[ุงูุชูุฒูู ุงูุชูู]
    I --> J{ุชุซุจูุช ุงูุขูุ}
    J -->|ูุนู| K[ุฅุนุงุฏุฉ ุงูุชุดุบูู]
    J -->|ูุง| L[ุชุซุจูุช ุนูุฏ ุงูุฅุบูุงู]
```

### ุงูุชุฏูู ุงูุชูุตููู:

1. **ุนูุฏ ุจุฏุก ุงูุชุทุจูู:**
   - ููุชุธุฑ 3 ุซูุงูู
   - ูุชุญูู ูู ุงูุชุญุฏูุซุงุช ุชููุงุฆูุงู

2. **ุงูุชุญูู ุงูุฏูุฑู:**
   - ูู 4 ุณุงุนุงุช ูุชุญูู ูู ุงูุชุญุฏูุซุงุช
   - ุจุฏูู ุฅุฒุนุงุฌ ุงููุณุชุฎุฏู

3. **ุนูุฏ ูุฌูุฏ ุชุญุฏูุซ:**
   - ูุธูุฑ ูุงูุฐุฉ ุญูุงุฑ
   - ุฎูุงุฑุงู: ุชูุฒูู ุงูุขู ุฃู ูุงุญูุงู

4. **ุฃุซูุงุก ุงูุชูุฒูู:**
   - ูุนุฑุถ ุดุฑูุท ุงูุชูุฏู
   - ุงูุณุฑุนุฉ ูุงูุญุฌู
   - ุงููุณุจุฉ ุงููุฆููุฉ

5. **ุจุนุฏ ุงูุชูุฒูู:**
   - ูุธูุฑ ุฅุดุนุงุฑ ุจุฌุงูุฒูุฉ ุงูุชุญุฏูุซ
   - ุฎูุงุฑุงู: ุชุซุจูุช ุงูุขู ุฃู ุนูุฏ ุงูุฅุบูุงู

---

## ๐ ุงููููุงุช ุงูููุดุฃุฉ

### 1. **electron/updater.cjs**
ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุญุฏูุซุงุช ุงูุฃุณุงุณู.

**ุงููุณุคูููุงุช:**
- ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช
- ุชูุฒูู ุงูุชุญุฏูุซุงุช
- ุชุซุจูุช ุงูุชุญุฏูุซุงุช
- ุฅุฏุงุฑุฉ ุงูุฃุญุฏุงุซ

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**
```javascript
- initialize(mainWindow)        // ุชููุฆุฉ ุงููุธุงู
- checkForUpdates(silent)       // ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช
- downloadUpdate()              // ุชูุฒูู ุงูุชุญุฏูุซ
- quitAndInstall()              // ุชุซุจูุช ูุฅุนุงุฏุฉ ุงูุชุดุบูู
```

### 2. **electron/main.cjs** (ุงููุญุฏุซ)
ุชู ุฅุถุงูุฉ:
- Import ููู updater
- ุชููุฆุฉ ุงููุธุงู ุนูุฏ ุงูุจุฏุก
- IPC handlers ููุชูุงุตู ูุน Frontend
- ุชูุธูู ุงูููุงุฑุฏ ุนูุฏ ุงูุฅุบูุงู

**IPC Handlers ุงููุถุงูุฉ:**
```javascript
- updater:check-for-updates     // ุงูุชุญูู ูุฏููุงู
- updater:download-update       // ุจุฏุก ุงูุชูุฒูู
- updater:quit-and-install      // ุงูุชุซุจูุช ุงูููุฑู
- updater:get-version           // ุงูุฅุตุฏุงุฑ ุงูุญุงูู
```

### 3. **electron/preload.cjs** (ุงููุญุฏุซ)
ุชู ุฅุถุงูุฉ `window.electronAPI.updater`:
```javascript
{
  checkForUpdates()             // ุฏุงูุฉ ุงูุชุญูู
  downloadUpdate()              // ุฏุงูุฉ ุงูุชูุฒูู
  quitAndInstall()              // ุฏุงูุฉ ุงูุชุซุจูุช
  getVersion()                  // ุฌูุจ ุงูุฅุตุฏุงุฑ
  onCheckingForUpdate()         // ุญุฏุซ ุงูุชุญูู
  onUpdateAvailable()           // ุญุฏุซ ุชููุฑ ุชุญุฏูุซ
  onUpdateNotAvailable()        // ุญุฏุซ ุนุฏู ุงูุชููุฑ
  onDownloadProgress()          // ุญุฏุซ ุงูุชูุฏู
  onUpdateDownloaded()          // ุญุฏุซ ุงูุชูุงู ุงูุชูุฒูู
  onUpdateError()               // ุญุฏุซ ุงูุฎุทุฃ
}
```

### 4. **src/pages/UpdatesPage.tsx**
ุตูุญุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุงููุฉ.

**ุงูููุฒุงุช:**
- โ ุนุฑุถ ุงูุฅุตุฏุงุฑ ุงูุญุงูู
- โ ุฒุฑ ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช
- โ ุนุฑุถ ูุนูููุงุช ุงูุชุญุฏูุซ
- โ ุดุฑูุท ุชูุฏู ุงูุชูุฒูู
- โ ุฒุฑ ุงูุชุซุจูุช ุงูููุฑู
- โ ุฑุณุงุฆู ุงูุฃุฎุทุงุก
- โ ูุนูููุงุช ุชูุถูุญูุฉ

### 5. **package.json** (ุงููุญุฏุซ)
ุชู ุฅุถุงูุฉ ูุณู `build`:
```json
{
  "build": {
    "appId": "com.stockiha.desktop",
    "productName": "Stockiha",
    "publish": {
      "provider": "github",
      "owner": "uzaydz",
      "repo": "bazaar-console-connect"
    }
  }
}
```

---

## ๐ง ุฅุนุฏุงุฏ GitHub Releases

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก GitHub Token

1. ุงุฐูุจ ุฅูู: https://github.com/settings/tokens
2. ุงููุฑ ุนูู "Generate new token" โ "Classic"
3. ุงุฎุชุฑ ุงูุตูุงุญูุงุช:
   - โ `repo` (ูุงูู)
   - โ `write:packages`
4. ุงูุณุฎ ุงูู Token (ุณูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท!)

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ Token ุฅูู ุงูุจูุฆุฉ

**ุนูู Mac/Linux:**
```bash
export GH_TOKEN="your_token_here"
# ุฃู ุฃุถูู ูู ~/.zshrc ุฃู ~/.bashrc
echo 'export GH_TOKEN="your_token_here"' >> ~/.zshrc
```

**ุนูู Windows:**
```cmd
set GH_TOKEN=your_token_here
# ุฃู ุฃุถูู ูู Environment Variables
```

### ุงูุฎุทูุฉ 3: ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช ุงูู Repository

1. ุงุฐูุจ ุฅูู: `https://github.com/uzaydz/bazaar-console-connect/settings`
2. ุชุญูู ูู:
   - โ Releases ููุนูุฉ
   - โ ูุฏูู ุตูุงุญูุงุช ุงููุชุงุจุฉ

---

## ๐ ููููุฉ ุงููุดุฑ

### ุงูุทุฑููุฉ 1: ุงููุดุฑ ุงููุฏูู

```bash
# 1. ุจูุงุก ุงูุชุทุจูู
npm run desktop:build

# 2. ุงููุดุฑ ุนูู GitHub Releases
npm run desktop:dist -- --publish always

# ุฃู ูููุดุฑ ุจุฏูู ุจูุงุก
electron-builder --publish always
```

### ุงูุทุฑููุฉ 2: ุงููุดุฑ ุงูุชููุงุฆู ูุน GitHub Actions

ุฃูุดุฆ ููู `.github/workflows/release.yml`:

```yaml
name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  release:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [macos-latest, ubuntu-latest, windows-latest]

    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: npm install
      
      - name: Build and Release
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}
        run: |
          npm run desktop:build
          npm run desktop:dist -- --publish always
```

**ูุฅุตุฏุงุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ:**
```bash
# 1. ุญุฏูุซ ุฑูู ุงูุฅุตุฏุงุฑ ูู package.json
npm version patch  # ุฃู minor ุฃู major

# 2. ุงุฏูุน ุงูู tag
git push --tags

# 3. GitHub Actions ุณุชูุดุฆ Release ุชููุงุฆูุงู
```

### ุงูุทุฑููุฉ 3: ุงููุดุฑ ุงููุฏูู ุนุจุฑ GitHub

1. ุงุฐูุจ ุฅูู Releases ูู GitHub
2. ุงููุฑ "Draft a new release"
3. ุฃูุดุฆ Tag ุฌุฏูุฏ (ูุซูุงู: v1.0.1)
4. ุงุฑูุน ุงููููุงุช ุงููุจููุฉ:
   - `.dmg` ููู macOS
   - `.exe` ููู Windows
   - `.AppImage` ููู Linux

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ูุญูู:

```bash
# 1. ุจูุงุก ุงูุชุทุจูู
npm run desktop:build

# 2. ุชุดุบูู ูู ูุถุน ุงูุฅูุชุงุฌ
npm run desktop:dist

# 3. ุงูุชุญ ุงูุชุทุจูู ุงููุจูู ูู dist-electron/
```

### ูุญุงูุงุฉ ุงูุชุญุฏูุซ:

1. **ุฃูุดุฆ ุฅุตุฏุงุฑ ูููู:**
```bash
# ุบูุฑ ุงูุฅุตุฏุงุฑ ูู package.json ูู 1.0.0 ุฅูู 1.0.1
# ุงุจูู ุงูุชุทุจูู
npm run desktop:build
```

2. **ุงูุดุฑ ุนูู GitHub:**
```bash
npm run desktop:dist -- --publish always
```

3. **ุบูุฑ ุงูุฅุตุฏุงุฑ ููุฃูุฏู:**
```bash
# ุบูุฑ package.json ุฅูู 1.0.0
# ุดุบู ุงูุชุทุจูู
```

4. **ูุฌุจ ุฃู ููุชุดู ุงูุชุญุฏูุซ 1.0.1 ุชููุงุฆูุงู**

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูุชุญูู ูู ุงูุชุญุฏูุซุงุช

**ุงูุญู:**
1. ุชุฃูุฏ ุฃูู ูู ูุถุน ุงูุฅูุชุงุฌ (ููุณ ุงูุชุทููุฑ)
2. ุชุญูู ูู Console logs
3. ุชุฃูุฏ ูู ูุฌูุฏ GH_TOKEN

```javascript
// ูู main.cjsุ ุชุญูู ูู:
console.log('[Electron] isDev:', isDev);
// ูุฌุจ ุฃู ูููู false
```

### ุงููุดููุฉ: ุฎุทุฃ ูู ุงููุดุฑ

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. GH_TOKEN ุบูุฑ ุตุญูุญ
2. ูุง ุชูุฌุฏ ุตูุงุญูุงุช ุนูู ุงูู Repo
3. ุงุณู ุงูู Owner ุฃู Repo ุฎุงุทุฆ ูู package.json

**ุงูุญู:**
```bash
# ุชุญูู ูู ุงูู Token
echo $GH_TOKEN

# ุชุญูู ูู package.json
cat package.json | grep publish
```

### ุงููุดููุฉ: ุงูุชูุฒูู ูุดู

**ุงูุญููู:**
1. ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
2. ุชุฃูุฏ ูู ูุฌูุฏ Release ุนูู GitHub
3. ุชุญูู ูู ุญุฌู ุงูููู (ูุฌุจ ุฃู ูููู ูุนููู)

### ุงููุดููุฉ: ุงูุชุซุจูุช ูุดู

**ุงูุญููู:**
1. ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ
2. ุฃุบูู ุฌููุน ูุณุฎ ุงูุชุทุจูู
3. ุนูู Mac: ุฃุนุท ุตูุงุญูุงุช ูู System Preferences

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ุฃูุงู:
- โ ุงูุชุญุฏูุซุงุช ูููุนุฉ ุฑูููุงู
- โ ุงูุชุญูู ูู ุงูู Signature ุชููุงุฆูุงู
- โ HTTPS ููุท ููุชูุฒูู

### ุงูุฃุฏุงุก:
- โ ุงูุชูุฒูู ูู ุงูุฎูููุฉ
- โ ูุง ูุคุซุฑ ุนูู ุนูู ุงูุชุทุจูู
- โ ุงุณุชููุงู ููุฎูุถ ููููุงุฑุฏ

### ุงูุจูุงูุงุช:
- โ ุฌููุน ุจูุงูุงุช ุงููุณุชุฎุฏู ุขููุฉ
- โ ูุง ูุชู ุญุฐู ุฃู ุดูุก
- โ ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

- [electron-updater Docs](https://www.electron.build/auto-update)
- [electron-builder Docs](https://www.electron.build/)
- [GitHub Releases Guide](https://docs.github.com/en/repositories/releasing-projects-on-github)

---

## โ Checklist ูุจู ุงููุดุฑ

- [ ] ุชุญุฏูุซ ุฑูู ุงูุฅุตุฏุงุฑ ูู package.json
- [ ] ุงุฎุชุจุงุฑ ุงูุชุทุจูู ูุญููุงู
- [ ] ุฅุถุงูุฉ Release Notes
- [ ] ุงูุชุฃูุฏ ูู GH_TOKEN
- [ ] ุจูุงุก ูุฌููุน ุงูููุตุงุช
- [ ] ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- [ ] ูุดุฑ ุนูู GitHub Releases

---

## ๐ง ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู Console Logs
2. ุฑุงุฌุน ูุฐุง ุงูุฏููู
3. ุงุจุญุซ ูู GitHub Issues
4. ุงุณุฃู ูู ุงููุฌุชูุน

---

**ุชู ุฅูุดุงุคู ุจูุงุณุทุฉ:** Cascade AI  
**ุงูุชุงุฑูุฎ:** 2024  
**ุงูุฅุตุฏุงุฑ:** 1.0.0
