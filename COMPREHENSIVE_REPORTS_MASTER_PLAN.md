# ğŸ“Š Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© - Ù„ÙˆØ­Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„Ø©
## 100% Offline - PowerSync Local Database

---

# ğŸ“‹ Ø§Ù„ÙÙ‡Ø±Ø³
1. [ØªØ­Ù„ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#-ØªØ­Ù„ÙŠÙ„-Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
2. [Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª](#-Ø£Ù†ÙˆØ§Ø¹-Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª-ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª)
3. [Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©](#-Ù…Ø¹Ø§Ø¯Ù„Ø§Øª-Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª-Ø§Ù„ÙƒØ§Ù…Ù„Ø©)
4. [Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª](#-Ù‡ÙŠÙƒÙ„-Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª)
5. [ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ù…ÙƒÙˆÙ†](#-ØªÙØ§ØµÙŠÙ„-ÙƒÙ„-Ù…ÙƒÙˆÙ†)
6. [Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°](#-Ø®Ø·Ø©-Ø§Ù„ØªÙ†ÙÙŠØ°)

---

# ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

## Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…ØªØ§Ø­Ø© (53 Ø¬Ø¯ÙˆÙ„)

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (9 Ø¬Ø¯Ø§ÙˆÙ„)
| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± |
|--------|-------|--------------------------|
| `products` | Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª | price, purchase_price, stock_quantity, available_weight, available_length, available_boxes |
| `product_colors` | Ø§Ù„Ø£Ù„ÙˆØ§Ù† | quantity, price, purchase_price |
| `product_sizes` | Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª | quantity, price, purchase_price |
| `product_categories` | Ø§Ù„ÙØ¦Ø§Øª | name, type |
| `product_wholesale_tiers` | Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¬Ù…Ù„Ø© | min_quantity, price_per_unit |
| `inventory_batches` | Ø§Ù„Ø¯ÙØ¹Ø§Øª | quantity_received, quantity_remaining, purchase_price, expiry_date |
| `product_serial_numbers` | Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠØ© | status, purchase_price, sold_price |

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (2 Ø¬Ø¯Ø§ÙˆÙ„)
| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± |
|--------|-------|--------------------------|
| `orders` | Ø§Ù„Ø·Ù„Ø¨Ø§Øª | total, subtotal, tax, discount, payment_method, payment_status, amount_paid, remaining_amount |
| `order_items` | Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ù„Ø¨ | quantity, unit_price, total_price, sale_type, weight_sold, meters_sold, boxes_sold |

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª (6 Ø¬Ø¯Ø§ÙˆÙ„)
| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± |
|--------|-------|--------------------------|
| `supplier_purchases` | Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª | total_amount, paid_amount, balance_due, items_count |
| `supplier_purchase_items` | Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª | quantity, unit_price, total_cost |
| `supplier_payments` | Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† | amount, payment_method |
| `purchase_landed_costs` | ØªÙƒØ§Ù„ÙŠÙ Ø¥Ø¶Ø§ÙÙŠØ© | amount, cost_type |

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠØ© (4 Ø¬Ø¯Ø§ÙˆÙ„)
| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± |
|--------|-------|--------------------------|
| `expenses` | Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ | amount, category, expense_date |
| `expense_categories` | ÙØ¦Ø§Øª Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ | name, color |
| `customer_debts` | Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ | total_amount, paid_amount, remaining_amount |
| `invoices` | Ø§Ù„ÙÙˆØ§ØªÙŠØ± | total_amount, tax_amount, discount_amount |

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø± (4 Ø¬Ø¯Ø§ÙˆÙ„)
| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± |
|--------|-------|--------------------------|
| `returns` | Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª | return_amount, refund_amount, restocking_fee |
| `return_items` | Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ | return_quantity, total_return_amount |
| `losses` | Ø§Ù„Ø®Ø³Ø§Ø¦Ø± | total_cost_value, total_selling_value, loss_type |
| `loss_items` | Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø®Ø³Ø§Ø¦Ø± | lost_quantity, unit_cost_price, unit_selling_price |

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª (5 Ø¬Ø¯Ø§ÙˆÙ„)
| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± |
|--------|-------|--------------------------|
| `repair_orders` | Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­ | total_price, paid_amount, status |
| `subscription_transactions` | Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª | amount, cost, profit |
| `staff_work_sessions` | Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¹Ù…Ù„ | total_sales, cash_sales, card_sales |

---

# ğŸ·ï¸ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª

## 1. Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### Ø£. Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„Ù‚Ø·Ø¹Ø© (Piece)
```typescript
// Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø³ÙŠØ·
Ø³Ø¹Ø±_Ø§Ù„Ø¨ÙŠØ¹ = product.price
Ø³Ø¹Ø±_Ø§Ù„Ø´Ø±Ø§Ø¡ = product.purchase_price
Ø§Ù„Ø±Ø¨Ø­_Ù„ÙƒÙ„_Ù‚Ø·Ø¹Ø© = Ø³Ø¹Ø±_Ø§Ù„Ø¨ÙŠØ¹ - Ø³Ø¹Ø±_Ø§Ù„Ø´Ø±Ø§Ø¡
Ù‡Ø§Ù…Ø´_Ø§Ù„Ø±Ø¨Ø­% = (Ø§Ù„Ø±Ø¨Ø­_Ù„ÙƒÙ„_Ù‚Ø·Ø¹Ø© / Ø³Ø¹Ø±_Ø§Ù„Ø¨ÙŠØ¹) * 100

// Ù…Ø¹ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª (Ø£Ù„ÙˆØ§Ù†/Ù…Ù‚Ø§Ø³Ø§Øª)
Ø³Ø¹Ø±_Ø§Ù„Ø¨ÙŠØ¹ = color.price || size.price || product.price
Ø³Ø¹Ø±_Ø§Ù„Ø´Ø±Ø§Ø¡ = color.purchase_price || size.purchase_price || product.purchase_price
```

### Ø¨. Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„ÙˆØ²Ù† (Weight)
```typescript
// Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬
product.sell_by_weight = true
product.weight_unit = 'kg' | 'g' | 'lb' | 'oz'
product.price_per_weight_unit = Ø§Ù„Ø³Ø¹Ø± Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø© ÙˆØ²Ù†
product.available_weight = Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…ØªØ§Ø­ Ù„Ù„Ø¨ÙŠØ¹
product.total_weight_purchased = Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø´ØªØ±Ù‰

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨ÙŠØ¹
Ø§Ù„ÙˆØ²Ù†_Ø§Ù„Ù…Ø¨Ø§Ø¹ = order_item.weight_sold
Ø§Ù„Ø³Ø¹Ø±_Ù„Ù„ÙˆØ­Ø¯Ø© = order_item.price_per_weight_unit
Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„Ø¨ÙŠØ¹ = Ø§Ù„ÙˆØ²Ù†_Ø§Ù„Ù…Ø¨Ø§Ø¹ Ã— Ø§Ù„Ø³Ø¹Ø±_Ù„Ù„ÙˆØ­Ø¯Ø©

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
Ø§Ù„Ù…Ø®Ø²ÙˆÙ†_Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ = available_weight - Ø§Ù„ÙˆØ²Ù†_Ø§Ù„Ù…Ø¨Ø§Ø¹

// Ø­Ø³Ø§Ø¨ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
Ø±Ø£Ø³_Ø§Ù„Ù…Ø§Ù„_Ø¨Ø§Ù„ÙˆØ²Ù† = available_weight Ã— purchase_price_per_weight_unit
```

### Ø¬. Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„Ù…ØªØ± (Meter)
```typescript
// Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬
product.sell_by_meter = true
product.meter_unit = 'm' | 'cm' | 'ft' | 'inch'
product.price_per_meter = Ø§Ù„Ø³Ø¹Ø± Ù„ÙƒÙ„ Ù…ØªØ±
product.available_length = Ø§Ù„Ø£Ù…ØªØ§Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©
product.total_meters_purchased = Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù…ØªØ§Ø± Ø§Ù„Ù…Ø´ØªØ±Ø§Ø©

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨ÙŠØ¹
Ø§Ù„Ø£Ù…ØªØ§Ø±_Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© = order_item.meters_sold
Ø§Ù„Ø³Ø¹Ø±_Ù„Ù„Ù…ØªØ± = order_item.price_per_meter
Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„Ø¨ÙŠØ¹ = Ø§Ù„Ø£Ù…ØªØ§Ø±_Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© Ã— Ø§Ù„Ø³Ø¹Ø±_Ù„Ù„Ù…ØªØ±

// Ø­Ø³Ø§Ø¨ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
Ø±Ø£Ø³_Ø§Ù„Ù…Ø§Ù„_Ø¨Ø§Ù„Ø£Ù…ØªØ§Ø± = available_length Ã— purchase_price_per_meter
```

### Ø¯. Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„Ø¹Ù„Ø¨Ø©/Ø§Ù„ÙƒØ±ØªÙˆÙ† (Box)
```typescript
// Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬
product.sell_by_box = true
product.units_per_box = Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ­Ø¯Ø§Øª ÙÙŠ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
product.box_price = Ø³Ø¹Ø± Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
product.available_boxes = Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ù…ØªØ§Ø­Ø©

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨ÙŠØ¹
Ø¹Ø¯Ø¯_Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚_Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© = order_item.boxes_sold
Ø³Ø¹Ø±_Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ = order_item.box_price
Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„Ø¨ÙŠØ¹ = Ø¹Ø¯Ø¯_Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ã— Ø³Ø¹Ø±_Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚

// Ø£Ùˆ Ø¨ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª Ù…Ù† ØµÙ†Ø¯ÙˆÙ‚
Ø§Ù„ÙˆØ­Ø¯Ø§Øª_Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© = order_item.quantity
Ø³Ø¹Ø±_Ø§Ù„ÙˆØ­Ø¯Ø© = product.price
Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„Ø¨ÙŠØ¹ = Ø§Ù„ÙˆØ­Ø¯Ø§Øª_Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© Ã— Ø³Ø¹Ø±_Ø§Ù„ÙˆØ­Ø¯Ø©

// Ø­Ø³Ø§Ø¨ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
Ø±Ø£Ø³_Ø§Ù„Ù…Ø§Ù„_Ø¨Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ = available_boxes Ã— box_purchase_price
```

## 2. Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ¹ Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„

### Ø£. Ø¨ÙŠØ¹ Ø§Ù„ØªØ¬Ø²Ø¦Ø© (Retail)
```typescript
order_item.sale_type = 'retail'
Ø§Ù„Ø³Ø¹Ø± = product.price
Ø§Ù„Ø´Ø±Ø·: product.allow_retail = true
```

### Ø¨. Ø¨ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„Ø© (Wholesale)
```typescript
order_item.sale_type = 'wholesale'
Ø§Ù„Ø³Ø¹Ø± = product.wholesale_price
Ø§Ù„Ø´Ø±Ø·:
  - product.allow_wholesale = true
  - Ø§Ù„ÙƒÙ…ÙŠØ© >= product.min_wholesale_quantity

// Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¬Ù…Ù„Ø©
wholesale_tiers.forEach(tier => {
  if (Ø§Ù„ÙƒÙ…ÙŠØ© >= tier.min_quantity) {
    Ø§Ù„Ø³Ø¹Ø± = tier.price_per_unit
  }
})
```

### Ø¬. Ø¨ÙŠØ¹ Ù†ØµÙ Ø§Ù„Ø¬Ù…Ù„Ø© (Partial Wholesale)
```typescript
order_item.sale_type = 'partial_wholesale'
Ø§Ù„Ø³Ø¹Ø± = product.partial_wholesale_price
Ø§Ù„Ø´Ø±Ø·:
  - product.allow_partial_wholesale = true
  - Ø§Ù„ÙƒÙ…ÙŠØ© >= product.min_partial_wholesale_quantity
```

---

# ğŸ”¢ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©

## 1. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

### Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
```sql
SELECT
  SUM(total) as total_sales,
  SUM(subtotal) as subtotal,
  SUM(tax) as total_tax,
  SUM(discount) as total_discount,
  COUNT(*) as orders_count,
  AVG(total) as average_order_value
FROM orders
WHERE organization_id = ?
  AND status NOT IN ('cancelled', 'refunded')
  AND created_at BETWEEN ? AND ?
```

### Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¹
```sql
SELECT
  oi.sale_type,
  SUM(oi.total_price) as total,
  COUNT(DISTINCT o.id) as orders_count
FROM order_items oi
JOIN orders o ON oi.order_id = o.id
WHERE o.organization_id = ?
  AND o.status NOT IN ('cancelled', 'refunded')
GROUP BY oi.sale_type
```

### Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ ÙˆØ­Ø¯Ø© Ø§Ù„Ø¨ÙŠØ¹
```sql
SELECT
  CASE
    WHEN oi.weight_sold > 0 THEN 'weight'
    WHEN oi.meters_sold > 0 THEN 'meter'
    WHEN oi.boxes_sold > 0 THEN 'box'
    ELSE 'piece'
  END as selling_unit,
  SUM(oi.total_price) as total,
  COUNT(*) as items_count
FROM order_items oi
JOIN orders o ON oi.order_id = o.id
WHERE o.organization_id = ?
GROUP BY selling_unit
```

## 2. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­

### Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
```typescript
// Ù„ÙƒÙ„ Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ø·Ù„Ø¨
const calculateItemProfit = (item: OrderItem, product: Product) => {
  let costPrice = 0;
  let sellingPrice = item.total_price;

  // Ø­Ø³Ø¨ ÙˆØ­Ø¯Ø© Ø§Ù„Ø¨ÙŠØ¹
  if (item.weight_sold > 0) {
    // Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„ÙˆØ²Ù†
    costPrice = item.weight_sold * (product.purchase_price_per_weight_unit || 0);
  } else if (item.meters_sold > 0) {
    // Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„Ù…ØªØ±
    costPrice = item.meters_sold * (product.purchase_price_per_meter || 0);
  } else if (item.boxes_sold > 0) {
    // Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
    costPrice = item.boxes_sold * (product.box_purchase_price || 0);
  } else {
    // Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø§Ù„Ù‚Ø·Ø¹Ø©
    // Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
    if (item.color_id && item.size_id) {
      const size = getSize(item.size_id);
      costPrice = item.quantity * (size?.purchase_price || product.purchase_price);
    } else if (item.color_id) {
      const color = getColor(item.color_id);
      costPrice = item.quantity * (color?.purchase_price || product.purchase_price);
    } else {
      costPrice = item.quantity * product.purchase_price;
    }
  }

  return {
    revenue: sellingPrice,
    cost: costPrice,
    profit: sellingPrice - costPrice,
    margin: ((sellingPrice - costPrice) / sellingPrice) * 100
  };
};
```

### ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­
```typescript
const calculateNetProfit = (period: DateRange) => {
  // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
  const grossRevenue = orders.reduce((sum, o) => sum + o.total, 0);

  // ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© (COGS)
  const cogs = calculateTotalCOGS(orderItems, products);

  // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø¨Ø­
  const grossProfit = grossRevenue - cogs;

  // Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©
  const operatingExpenses = expenses.reduce((sum, e) => sum + e.amount, 0);

  // Ø®Ø³Ø§Ø¦Ø± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
  const inventoryLosses = losses.reduce((sum, l) => sum + l.total_cost_value, 0);

  // Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
  const totalReturns = returns.reduce((sum, r) => sum + r.refund_amount, 0);

  // Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª
  const repairRevenue = repairs
    .filter(r => r.status === 'completed')
    .reduce((sum, r) => sum + r.total_price, 0);

  // Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
  const subscriptionRevenue = subscriptionTransactions
    .reduce((sum, t) => sum + t.profit, 0);

  // ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­
  const netProfit = grossProfit
    - operatingExpenses
    - inventoryLosses
    - totalReturns
    + repairRevenue
    + subscriptionRevenue;

  return {
    grossRevenue,
    cogs,
    grossProfit,
    grossProfitMargin: (grossProfit / grossRevenue) * 100,
    operatingExpenses,
    inventoryLosses,
    totalReturns,
    repairRevenue,
    subscriptionRevenue,
    netProfit,
    netProfitMargin: (netProfit / grossRevenue) * 100
  };
};
```

## 3. Ø­Ø³Ø§Ø¨Ø§Øª Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„

### Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```typescript
const calculateInventoryCapital = () => {
  let totalCapital = 0;

  products.forEach(product => {
    // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
    if (!product.has_variants && !product.sell_by_weight && !product.sell_by_meter && !product.sell_by_box) {
      totalCapital += product.stock_quantity * product.purchase_price;
    }

    // Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ù„ÙˆØ§Ù† ÙÙ‚Ø·
    if (product.has_variants && !product.use_sizes) {
      product.colors?.forEach(color => {
        const price = color.purchase_price || product.purchase_price;
        totalCapital += color.quantity * price;
      });
    }

    // Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ù„ÙˆØ§Ù† ÙˆÙ…Ù‚Ø§Ø³Ø§Øª
    if (product.has_variants && product.use_sizes) {
      product.colors?.forEach(color => {
        color.sizes?.forEach(size => {
          const price = size.purchase_price || color.purchase_price || product.purchase_price;
          totalCapital += size.quantity * price;
        });
      });
    }

    // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ÙˆØ²Ù†
    if (product.sell_by_weight) {
      totalCapital += (product.available_weight || 0) * (product.purchase_price_per_weight_unit || 0);
    }

    // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ±
    if (product.sell_by_meter) {
      totalCapital += (product.available_length || 0) * (product.purchase_price_per_meter || 0);
    }

    // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
    if (product.sell_by_box) {
      totalCapital += (product.available_boxes || 0) * (product.box_purchase_price || 0);
    }
  });

  return totalCapital;
};
```

### Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø¯ÙØ¹Ø§Øª (Batches)
```typescript
const calculateBatchCapital = () => {
  return inventoryBatches
    .filter(batch => batch.quantity_remaining > 0)
    .reduce((sum, batch) => {
      return sum + (batch.quantity_remaining * batch.purchase_price);
    }, 0);
};
```

## 4. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø¯ÙŠÙˆÙ†ÙŠØ§Øª

### Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
```typescript
const calculateCustomerDebts = () => {
  // Ù…Ù† Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯ÙŠÙˆÙ†
  const directDebts = customerDebts.reduce((sum, debt) => {
    return sum + debt.remaining_amount;
  }, 0);

  // Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
  const orderDebts = orders
    .filter(o => o.remaining_amount > 0 && o.payment_status !== 'paid')
    .reduce((sum, o) => sum + o.remaining_amount, 0);

  return {
    totalDebts: directDebts + orderDebts,
    debtsByCustomer: groupByCustomer(customerDebts),
    overdueDebts: customerDebts.filter(d => new Date(d.due_date) < new Date()),
    upcomingDebts: customerDebts.filter(d => new Date(d.due_date) >= new Date())
  };
};
```

### Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
```typescript
const calculateSupplierDebts = () => {
  return supplierPurchases
    .filter(p => p.balance_due > 0)
    .reduce((acc, purchase) => {
      return {
        total: acc.total + purchase.balance_due,
        bySupplier: {
          ...acc.bySupplier,
          [purchase.supplier_id]: (acc.bySupplier[purchase.supplier_id] || 0) + purchase.balance_due
        }
      };
    }, { total: 0, bySupplier: {} });
};
```

## 5. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø²ÙƒØ§Ø©

### Ø²ÙƒØ§Ø© Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªØ¬Ø§Ø±Ø©
```typescript
const calculateZakat = () => {
  // 1. Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Ø¨Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹)
  const inventoryAtSellingPrice = calculateInventoryAtSellingPrice();

  // 2. Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„Ù…ØªØ§Ø­ (Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª - Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ)
  const cashAvailable = calculateCashBalance();

  // 3. Ø¯ÙŠÙˆÙ† Ù…Ø³ØªØ­Ù‚Ø© Ù„Ù†Ø§ (Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­ØµÙŠÙ„)
  const collectableDebts = customerDebts
    .filter(d => d.status !== 'bad_debt')
    .reduce((sum, d) => sum + d.remaining_amount, 0);

  // 4. Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø²ÙƒÙˆÙŠØ©
  const totalZakatableAssets = inventoryAtSellingPrice + cashAvailable + collectableDebts;

  // 5. Ø®ØµÙ… Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© Ø¹Ù„ÙŠÙ†Ø§
  const liabilities = calculateSupplierDebts().total;

  // 6. ØµØ§ÙÙŠ Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø²ÙƒÙˆÙŠØ©
  const netZakatableAssets = totalZakatableAssets - liabilities;

  // 7. Ø§Ù„Ù†ØµØ§Ø¨ (85 Ø¬Ø±Ø§Ù… Ø°Ù‡Ø¨ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹)
  const nisabInLocalCurrency = 85 * goldPricePerGram;

  // 8. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²ÙƒØ§Ø©
  const zakatDue = netZakatableAssets >= nisabInLocalCurrency
    ? netZakatableAssets * 0.025 // 2.5%
    : 0;

  return {
    inventoryValue: inventoryAtSellingPrice,
    cashBalance: cashAvailable,
    collectableDebts,
    totalAssets: totalZakatableAssets,
    liabilities,
    netAssets: netZakatableAssets,
    nisab: nisabInLocalCurrency,
    isZakatDue: netZakatableAssets >= nisabInLocalCurrency,
    zakatAmount: zakatDue,
    zakatPercentage: 2.5
  };
};

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹
const calculateInventoryAtSellingPrice = () => {
  let total = 0;

  products.forEach(product => {
    if (product.has_variants) {
      product.colors?.forEach(color => {
        if (color.has_sizes) {
          color.sizes?.forEach(size => {
            total += size.quantity * (size.price || color.price || product.price);
          });
        } else {
          total += color.quantity * (color.price || product.price);
        }
      });
    } else if (product.sell_by_weight) {
      total += (product.available_weight || 0) * product.price_per_weight_unit;
    } else if (product.sell_by_meter) {
      total += (product.available_length || 0) * product.price_per_meter;
    } else if (product.sell_by_box) {
      total += (product.available_boxes || 0) * product.box_price;
    } else {
      total += product.stock_quantity * product.price;
    }
  });

  return total;
};
```

## 6. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø³Ø§Ø¦Ø±

```typescript
const calculateLosses = (period: DateRange) => {
  const periodLosses = losses.filter(l =>
    new Date(l.incident_date) >= period.start &&
    new Date(l.incident_date) <= period.end
  );

  return {
    totalCostValue: periodLosses.reduce((sum, l) => sum + l.total_cost_value, 0),
    totalSellingValue: periodLosses.reduce((sum, l) => sum + l.total_selling_value, 0),
    lostProfit: periodLosses.reduce((sum, l) =>
      sum + (l.total_selling_value - l.total_cost_value), 0
    ),
    byType: groupBy(periodLosses, 'loss_type'),
    byCategory: groupBy(periodLosses, 'loss_category'),
    itemsCount: periodLosses.reduce((sum, l) => sum + l.total_items_count, 0)
  };
};
```

## 7. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª

```typescript
const calculateReturns = (period: DateRange) => {
  const periodReturns = returns.filter(r =>
    new Date(r.created_at) >= period.start &&
    new Date(r.created_at) <= period.end &&
    r.status !== 'rejected'
  );

  return {
    totalReturnAmount: periodReturns.reduce((sum, r) => sum + r.return_amount, 0),
    totalRefundAmount: periodReturns.reduce((sum, r) => sum + r.refund_amount, 0),
    totalRestockingFees: periodReturns.reduce((sum, r) => sum + (r.restocking_fee || 0), 0),
    returnRate: (periodReturns.length / orders.length) * 100,
    byReason: groupBy(periodReturns, 'return_reason'),
    byType: groupBy(periodReturns, 'return_type'),
    itemsReturned: returnItems.reduce((sum, ri) => sum + ri.return_quantity, 0)
  };
};
```

## 8. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª

```typescript
const calculateRepairs = (period: DateRange) => {
  const periodRepairs = repairOrders.filter(r =>
    new Date(r.created_at) >= period.start &&
    new Date(r.created_at) <= period.end
  );

  const completed = periodRepairs.filter(r => r.status === 'completed');
  const pending = periodRepairs.filter(r => r.status === 'pending');
  const inProgress = periodRepairs.filter(r => r.status === 'in_progress');

  return {
    totalRevenue: completed.reduce((sum, r) => sum + r.total_price, 0),
    totalPaid: completed.reduce((sum, r) => sum + r.paid_amount, 0),
    totalPending: completed.reduce((sum, r) => sum + (r.total_price - r.paid_amount), 0),
    ordersCount: periodRepairs.length,
    completedCount: completed.length,
    pendingCount: pending.length,
    inProgressCount: inProgress.length,
    completionRate: (completed.length / periodRepairs.length) * 100,
    averageRepairValue: completed.reduce((sum, r) => sum + r.total_price, 0) / completed.length,
    byDeviceType: groupBy(periodRepairs, 'device_type'),
    byLocation: groupBy(periodRepairs, 'repair_location_id'),
    byStatus: groupBy(periodRepairs, 'status')
  };
};
```

## 9. Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª

```typescript
const calculateSubscriptions = (period: DateRange) => {
  const periodTransactions = subscriptionTransactions.filter(t =>
    new Date(t.transaction_date) >= period.start &&
    new Date(t.transaction_date) <= period.end
  );

  return {
    totalRevenue: periodTransactions.reduce((sum, t) => sum + t.amount, 0),
    totalCost: periodTransactions.reduce((sum, t) => sum + t.cost, 0),
    totalProfit: periodTransactions.reduce((sum, t) => sum + t.profit, 0),
    transactionsCount: periodTransactions.length,
    byProvider: groupBy(periodTransactions, 'provider'),
    byService: groupBy(periodTransactions, 'service_name'),
    averageProfit: periodTransactions.reduce((sum, t) => sum + t.profit, 0) / periodTransactions.length
  };
};
```

## 10. Ø­Ø³Ø§Ø¨Ø§Øª Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¹Ù…Ù„

```typescript
const calculateWorkSessions = (period: DateRange) => {
  const periodSessions = workSessions.filter(s =>
    new Date(s.started_at) >= period.start &&
    new Date(s.started_at) <= period.end
  );

  return {
    totalSales: periodSessions.reduce((sum, s) => sum + s.total_sales, 0),
    totalOrders: periodSessions.reduce((sum, s) => sum + s.total_orders, 0),
    cashSales: periodSessions.reduce((sum, s) => sum + s.cash_sales, 0),
    cardSales: periodSessions.reduce((sum, s) => sum + s.card_sales, 0),
    cashDifference: periodSessions.reduce((sum, s) => sum + s.cash_difference, 0),
    sessionsCount: periodSessions.length,
    byStaff: groupBy(periodSessions, 'staff_id'),
    averageSalesPerSession: periodSessions.reduce((sum, s) => sum + s.total_sales, 0) / periodSessions.length
  };
};
```

---

# ğŸ—ï¸ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª

## Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (15 Ù…ÙƒÙˆÙ†)

```
src/components/comprehensive-reports/
â”‚
â”œâ”€â”€ ğŸ“Š index.ts                           # Ø§Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ ğŸ“Š ComprehensiveReportsDashboard.tsx  # Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚
â”œâ”€â”€ ğŸ“ 01-overview/                       # Ø§Ù„Ù†Ø¸Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©
â”‚   â”œâ”€â”€ OverviewSection.tsx
â”‚   â”œâ”€â”€ MainKPIGrid.tsx
â”‚   â”œâ”€â”€ QuickStatsCards.tsx
â”‚   â””â”€â”€ PeriodComparison.tsx
â”‚
â”œâ”€â”€ ğŸ“ 02-sales/                          # Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
â”‚   â”œâ”€â”€ SalesSection.tsx
â”‚   â”œâ”€â”€ SalesKPICards.tsx
â”‚   â”œâ”€â”€ SalesLineChart.tsx
â”‚   â”œâ”€â”€ SalesByCategory.tsx
â”‚   â”œâ”€â”€ SalesByPaymentMethod.tsx
â”‚   â”œâ”€â”€ SalesHeatmap.tsx
â”‚   â””â”€â”€ TopSellingProducts.tsx
â”‚
â”œâ”€â”€ ğŸ“ 03-profits/                        # Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
â”‚   â”œâ”€â”€ ProfitsSection.tsx
â”‚   â”œâ”€â”€ ProfitKPICards.tsx
â”‚   â”œâ”€â”€ GrossProfitChart.tsx
â”‚   â”œâ”€â”€ NetProfitChart.tsx
â”‚   â”œâ”€â”€ ProfitMarginGauge.tsx
â”‚   â”œâ”€â”€ ProfitByCategory.tsx
â”‚   â””â”€â”€ ProfitTrend.tsx
â”‚
â”œâ”€â”€ ğŸ“ 04-inventory/                      # Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
â”‚   â”œâ”€â”€ InventorySection.tsx
â”‚   â”œâ”€â”€ InventoryKPICards.tsx
â”‚   â”œâ”€â”€ StockValueChart.tsx
â”‚   â”œâ”€â”€ LowStockAlert.tsx
â”‚   â”œâ”€â”€ ExpiringProducts.tsx
â”‚   â”œâ”€â”€ InventoryByCategory.tsx
â”‚   â””â”€â”€ StockMovement.tsx
â”‚
â”œâ”€â”€ ğŸ“ 05-capital/                        # Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
â”‚   â”œâ”€â”€ CapitalSection.tsx
â”‚   â”œâ”€â”€ CapitalKPICards.tsx
â”‚   â”œâ”€â”€ CapitalDistribution.tsx
â”‚   â”œâ”€â”€ CapitalByProductType.tsx
â”‚   â”œâ”€â”€ CapitalTrend.tsx
â”‚   â””â”€â”€ CapitalROI.tsx
â”‚
â”œâ”€â”€ ğŸ“ 06-expenses/                       # Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ
â”‚   â”œâ”€â”€ ExpensesSection.tsx
â”‚   â”œâ”€â”€ ExpenseKPICards.tsx
â”‚   â”œâ”€â”€ ExpensesByCategory.tsx
â”‚   â”œâ”€â”€ ExpensesTrend.tsx
â”‚   â”œâ”€â”€ ExpensesVsRevenue.tsx
â”‚   â””â”€â”€ RecurringExpenses.tsx
â”‚
â”œâ”€â”€ ğŸ“ 07-debts/                          # Ø§Ù„Ù…Ø¯ÙŠÙˆÙ†ÙŠØ§Øª
â”‚   â”œâ”€â”€ DebtsSection.tsx
â”‚   â”œâ”€â”€ DebtKPICards.tsx
â”‚   â”œâ”€â”€ CustomerDebtsTable.tsx
â”‚   â”œâ”€â”€ SupplierDebtsTable.tsx
â”‚   â”œâ”€â”€ DebtAgingChart.tsx
â”‚   â”œâ”€â”€ DebtCollectionRate.tsx
â”‚   â””â”€â”€ OverdueDebts.tsx
â”‚
â”œâ”€â”€ ğŸ“ 08-customers/                      # Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”‚   â”œâ”€â”€ CustomersSection.tsx
â”‚   â”œâ”€â”€ CustomerKPICards.tsx
â”‚   â”œâ”€â”€ CustomerGrowth.tsx
â”‚   â”œâ”€â”€ TopCustomers.tsx
â”‚   â”œâ”€â”€ CustomerSegments.tsx
â”‚   â”œâ”€â”€ CustomerRetention.tsx
â”‚   â””â”€â”€ CustomerLifetimeValue.tsx
â”‚
â”œâ”€â”€ ğŸ“ 09-returns/                        # Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª
â”‚   â”œâ”€â”€ ReturnsSection.tsx
â”‚   â”œâ”€â”€ ReturnKPICards.tsx
â”‚   â”œâ”€â”€ ReturnsByReason.tsx
â”‚   â”œâ”€â”€ ReturnTrend.tsx
â”‚   â”œâ”€â”€ ReturnRate.tsx
â”‚   â””â”€â”€ TopReturnedProducts.tsx
â”‚
â”œâ”€â”€ ğŸ“ 10-losses/                         # Ø§Ù„Ø®Ø³Ø§Ø¦Ø±
â”‚   â”œâ”€â”€ LossesSection.tsx
â”‚   â”œâ”€â”€ LossKPICards.tsx
â”‚   â”œâ”€â”€ LossesByType.tsx
â”‚   â”œâ”€â”€ LossTrend.tsx
â”‚   â”œâ”€â”€ LossImpact.tsx
â”‚   â””â”€â”€ LossPreventionSuggestions.tsx
â”‚
â”œâ”€â”€ ğŸ“ 11-repairs/                        # Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª
â”‚   â”œâ”€â”€ RepairsSection.tsx
â”‚   â”œâ”€â”€ RepairKPICards.tsx
â”‚   â”œâ”€â”€ RepairsByDevice.tsx
â”‚   â”œâ”€â”€ RepairsTrend.tsx
â”‚   â”œâ”€â”€ RepairsByLocation.tsx
â”‚   â”œâ”€â”€ RepairCompletionRate.tsx
â”‚   â””â”€â”€ RepairRevenue.tsx
â”‚
â”œâ”€â”€ ğŸ“ 12-subscriptions/                  # Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
â”‚   â”œâ”€â”€ SubscriptionsSection.tsx
â”‚   â”œâ”€â”€ SubscriptionKPICards.tsx
â”‚   â”œâ”€â”€ SubscriptionsByProvider.tsx
â”‚   â”œâ”€â”€ SubscriptionProfit.tsx
â”‚   â”œâ”€â”€ SubscriptionTrend.tsx
â”‚   â””â”€â”€ TopServices.tsx
â”‚
â”œâ”€â”€ ğŸ“ 13-zakat/                          # Ø§Ù„Ø²ÙƒØ§Ø©
â”‚   â”œâ”€â”€ ZakatSection.tsx
â”‚   â”œâ”€â”€ ZakatCalculator.tsx
â”‚   â”œâ”€â”€ ZakatBreakdown.tsx
â”‚   â”œâ”€â”€ ZakatHistory.tsx
â”‚   â””â”€â”€ ZakatReminder.tsx
â”‚
â”œâ”€â”€ ğŸ“ 14-staff/                          # Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
â”‚   â”œâ”€â”€ StaffSection.tsx
â”‚   â”œâ”€â”€ StaffKPICards.tsx
â”‚   â”œâ”€â”€ StaffPerformance.tsx
â”‚   â”œâ”€â”€ SalesByStaff.tsx
â”‚   â”œâ”€â”€ WorkSessionsAnalysis.tsx
â”‚   â””â”€â”€ StaffCommissions.tsx
â”‚
â”œâ”€â”€ ğŸ“ 15-comparative/                    # Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø§Øª
â”‚   â”œâ”€â”€ ComparativeSection.tsx
â”‚   â”œâ”€â”€ PeriodComparison.tsx
â”‚   â”œâ”€â”€ YearOverYear.tsx
â”‚   â”œâ”€â”€ MonthOverMonth.tsx
â”‚   â”œâ”€â”€ CategoryComparison.tsx
â”‚   â””â”€â”€ BranchComparison.tsx
â”‚
â”œâ”€â”€ ğŸ“ shared/                            # Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø´ØªØ±ÙƒØ©
â”‚   â”œâ”€â”€ KPICard.tsx
â”‚   â”œâ”€â”€ SectionHeader.tsx
â”‚   â”œâ”€â”€ ChartContainer.tsx
â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â”œâ”€â”€ LoadingSkeleton.tsx
â”‚   â”œâ”€â”€ EmptyState.tsx
â”‚   â”œâ”€â”€ ErrorState.tsx
â”‚   â””â”€â”€ AnimatedNumber.tsx
â”‚
â”œâ”€â”€ ğŸ“ filters/                           # Ø§Ù„ÙÙ„Ø§ØªØ±
â”‚   â”œâ”€â”€ DateRangePicker.tsx
â”‚   â”œâ”€â”€ CategoryFilter.tsx
â”‚   â”œâ”€â”€ ProductTypeFilter.tsx
â”‚   â”œâ”€â”€ SaleTypeFilter.tsx
â”‚   â”œâ”€â”€ PaymentMethodFilter.tsx
â”‚   â””â”€â”€ FilterPresets.tsx
â”‚
â”œâ”€â”€ ğŸ“ export/                            # Ø§Ù„ØªØµØ¯ÙŠØ±
â”‚   â”œâ”€â”€ ExportButton.tsx
â”‚   â”œâ”€â”€ PDFReport.tsx
â”‚   â”œâ”€â”€ ExcelExport.tsx
â”‚   â””â”€â”€ PrintView.tsx
â”‚
â”œâ”€â”€ ğŸ“ hooks/                             # Hooks
â”‚   â”œâ”€â”€ useReportsData.ts
â”‚   â”œâ”€â”€ useSalesData.ts
â”‚   â”œâ”€â”€ useProfitsData.ts
â”‚   â”œâ”€â”€ useInventoryData.ts
â”‚   â”œâ”€â”€ useCapitalData.ts
â”‚   â”œâ”€â”€ useExpensesData.ts
â”‚   â”œâ”€â”€ useDebtsData.ts
â”‚   â”œâ”€â”€ useCustomersData.ts
â”‚   â”œâ”€â”€ useReturnsData.ts
â”‚   â”œâ”€â”€ useLossesData.ts
â”‚   â”œâ”€â”€ useRepairsData.ts
â”‚   â”œâ”€â”€ useSubscriptionsData.ts
â”‚   â”œâ”€â”€ useZakatData.ts
â”‚   â”œâ”€â”€ useStaffData.ts
â”‚   â”œâ”€â”€ useComparativeData.ts
â”‚   â””â”€â”€ useChartConfig.ts
â”‚
â”œâ”€â”€ ğŸ“ utils/                             # Ø£Ø¯ÙˆØ§Øª
â”‚   â”œâ”€â”€ calculations.ts
â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”œâ”€â”€ chartHelpers.ts
â”‚   â”œâ”€â”€ colorPalettes.ts
â”‚   â””â”€â”€ queries.ts
â”‚
â””â”€â”€ ğŸ“ types/                             # Ø§Ù„Ø£Ù†ÙˆØ§Ø¹
    â””â”€â”€ reports.types.ts
```

---

# ğŸ“Š ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ù…ÙƒÙˆÙ†

## 1. Ø§Ù„Ù†Ø¸Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© (Overview)

### MainKPIGrid - Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```typescript
interface MainKPIs {
  // Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
  totalSales: number;
  salesGrowth: number; // Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ±

  // Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
  netProfit: number;
  profitMargin: number;

  // Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
  inventoryCapital: number;
  capitalROI: number;

  // Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  ordersCount: number;
  averageOrderValue: number;

  // Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
  customersCount: number;
  newCustomers: number;

  // Ø§Ù„Ù…Ø¯ÙŠÙˆÙ†ÙŠØ§Øª
  totalReceivables: number;
  totalPayables: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
- **Ø®Ø· Ø²Ù…Ù†ÙŠ Ù„Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª** (Nivo Line)
- **ÙØ·ÙŠØ±Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª** (Nivo Pie)
- **Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©** (Nivo Bar)

---

## 2. Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Sales)

### SalesKPICards
```typescript
interface SalesKPIs {
  totalSales: number;
  totalOrders: number;
  averageOrderValue: number;
  salesGrowth: number;
  retailSales: number;
  wholesaleSales: number;
  partialWholesaleSales: number;
  cashSales: number;
  cardSales: number;
  creditSales: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **SalesLineChart** - Ø®Ø· Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø²Ù…Ù†
2. **SalesByCategory** - Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© (Sunburst)
3. **SalesByPaymentMethod** - Ø­Ø³Ø¨ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ (Pie)
4. **SalesHeatmap** - Ø®Ø±ÙŠØ·Ø© Ø­Ø±Ø§Ø±ÙŠØ© (ÙŠÙˆÙ…/Ø³Ø§Ø¹Ø©)
5. **TopSellingProducts** - Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Bar)

### Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª
```sql
-- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
SELECT
  DATE(created_at) as date,
  SUM(total) as total,
  COUNT(*) as orders,
  AVG(total) as avg_order
FROM orders
WHERE organization_id = ?
  AND status NOT IN ('cancelled', 'refunded')
  AND created_at BETWEEN ? AND ?
GROUP BY DATE(created_at)
ORDER BY date

-- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
SELECT
  c.name as category_name,
  SUM(oi.total_price) as total,
  COUNT(DISTINCT o.id) as orders_count
FROM order_items oi
JOIN orders o ON oi.order_id = o.id
JOIN products p ON oi.product_id = p.id
JOIN product_categories c ON p.category_id = c.id
WHERE o.organization_id = ?
GROUP BY c.id, c.name
```

---

## 3. Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ (Profits)

### ProfitKPICards
```typescript
interface ProfitKPIs {
  grossProfit: number;
  grossProfitMargin: number;
  netProfit: number;
  netProfitMargin: number;
  operatingExpenses: number;
  cogs: number; // ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©
  profitGrowth: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **GrossProfitChart** - Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Area)
2. **NetProfitChart** - ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ (Line with gradient)
3. **ProfitMarginGauge** - Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ (Gauge)
4. **ProfitByCategory** - Ø§Ù„Ø±Ø¨Ø­ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© (Bar)
5. **ProfitTrend** - Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø±Ø¨Ø­ (Bump)

---

## 4. Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory)

### InventoryKPICards
```typescript
interface InventoryKPIs {
  totalProducts: number;
  totalValue: number; // Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
  lowStockCount: number;
  outOfStockCount: number;
  expiringCount: number; // Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø±ÙŠØ¨Ø© Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
  stockTurnover: number; // Ù…Ø¹Ø¯Ù„ Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **StockValueChart** - Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Treemap)
2. **LowStockAlert** - ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶ (Table)
3. **ExpiringProducts** - Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© (Timeline)
4. **InventoryByCategory** - Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© (Pie)
5. **StockMovement** - Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Line)

---

## 5. Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ (Capital)

### CapitalKPICards
```typescript
interface CapitalKPIs {
  totalCapital: number;
  capitalInPieces: number; // Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ù‚Ø·Ø¹
  capitalInWeight: number; // Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ ÙÙŠ Ø§Ù„ÙˆØ²Ù†
  capitalInMeters: number; // Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ø£Ù…ØªØ§Ø±
  capitalInBoxes: number;  // Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ ÙÙŠ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚
  capitalROI: number;
  capitalTurnover: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **CapitalDistribution** - ØªÙˆØ²ÙŠØ¹ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ (Sunburst)
2. **CapitalByProductType** - Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬ (Bar)
3. **CapitalTrend** - Ø§ØªØ¬Ø§Ù‡ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ (Area)
4. **CapitalROI** - Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (Gauge)

---

## 6. Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ (Expenses)

### ExpenseKPICards
```typescript
interface ExpenseKPIs {
  totalExpenses: number;
  expenseGrowth: number;
  largestCategory: string;
  recurringExpenses: number;
  oneTimeExpenses: number;
  expenseToRevenueRatio: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **ExpensesByCategory** - Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© (Pie/Sunburst)
2. **ExpensesTrend** - Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ (Line)
3. **ExpensesVsRevenue** - Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Dual Axis)
4. **RecurringExpenses** - Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© (Table)

---

## 7. Ø§Ù„Ù…Ø¯ÙŠÙˆÙ†ÙŠØ§Øª (Debts)

### DebtKPICards
```typescript
interface DebtKPIs {
  totalReceivables: number; // Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù„Ù†Ø§
  totalPayables: number;    // Ø¯ÙŠÙˆÙ†Ù†Ø§ Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
  netDebtPosition: number;
  overdueReceivables: number;
  collectionRate: number;
  averageCollectionDays: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **CustomerDebtsTable** - Ø¬Ø¯ÙˆÙ„ Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
2. **SupplierDebtsTable** - Ø¬Ø¯ÙˆÙ„ Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
3. **DebtAgingChart** - ØªÙ‚Ø§Ø¯Ù… Ø§Ù„Ø¯ÙŠÙˆÙ† (Bar stacked)
4. **DebtCollectionRate** - Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ØµÙŠÙ„ (Gauge)
5. **OverdueDebts** - Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ØªØ£Ø®Ø±Ø© (Table with highlight)

---

## 8. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customers)

### CustomerKPICards
```typescript
interface CustomerKPIs {
  totalCustomers: number;
  newCustomers: number;
  activeCustomers: number;
  customerGrowth: number;
  averageCustomerValue: number;
  topCustomerValue: number;
  retentionRate: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **CustomerGrowth** - Ù†Ù…Ùˆ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Area)
2. **TopCustomers** - Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Bar)
3. **CustomerSegments** - Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Pie)
4. **CustomerRetention** - Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ (Funnel)
5. **CustomerLifetimeValue** - Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø§Ø¦Ù…Ø© (Scatter)

---

## 9. Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª (Returns)

### ReturnKPICards
```typescript
interface ReturnKPIs {
  totalReturns: number;
  returnAmount: number;
  refundAmount: number;
  restockingFees: number;
  returnRate: number;
  topReturnReason: string;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **ReturnsByReason** - Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¨Ø¨ (Pie)
2. **ReturnTrend** - Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª (Line)
3. **ReturnRate** - Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ (Gauge)
4. **TopReturnedProducts** - Ø£ÙƒØ«Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¥Ø±Ø¬Ø§Ø¹Ø§Ù‹ (Bar)

---

## 10. Ø§Ù„Ø®Ø³Ø§Ø¦Ø± (Losses)

### LossKPICards
```typescript
interface LossKPIs {
  totalLossCost: number;
  totalLossSellingValue: number;
  lostProfit: number;
  lossRate: number;
  mostCommonLossType: string;
  itemsLost: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **LossesByType** - Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ (Pie)
2. **LossTrend** - Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø®Ø³Ø§Ø¦Ø± (Line)
3. **LossImpact** - ØªØ£Ø«ÙŠØ± Ø§Ù„Ø®Ø³Ø§Ø¦Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¨Ø­ (Waterfall)
4. **LossPreventionSuggestions** - Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…Ù†Ø¹ Ø§Ù„Ø®Ø³Ø§Ø¦Ø± (Cards)

---

## 11. Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª (Repairs)

### RepairKPICards
```typescript
interface RepairKPIs {
  totalRepairs: number;
  totalRevenue: number;
  completedRepairs: number;
  pendingRepairs: number;
  averageRepairValue: number;
  completionRate: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **RepairsByDevice** - Ø­Ø³Ø¨ Ø§Ù„Ø¬Ù‡Ø§Ø² (Bar)
2. **RepairsTrend** - Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª (Line)
3. **RepairsByLocation** - Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Map/Pie)
4. **RepairCompletionRate** - Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ (Gauge)
5. **RepairRevenue** - Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­ (Area)

---

## 12. Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª (Subscriptions)

### SubscriptionKPICards
```typescript
interface SubscriptionKPIs {
  totalRevenue: number;
  totalCost: number;
  totalProfit: number;
  transactionsCount: number;
  averageProfit: number;
  topProvider: string;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **SubscriptionsByProvider** - Ø­Ø³Ø¨ Ø§Ù„Ù…Ø²ÙˆØ¯ (Pie)
2. **SubscriptionProfit** - Ø±Ø¨Ø­ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª (Bar)
3. **SubscriptionTrend** - Ø§Ù„Ø§ØªØ¬Ø§Ù‡ (Line)
4. **TopServices** - Ø£ÙØ¶Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Bar)

---

## 13. Ø§Ù„Ø²ÙƒØ§Ø© (Zakat)

### ZakatCalculator
```typescript
interface ZakatData {
  inventoryValue: number;
  cashBalance: number;
  collectableDebts: number;
  totalAssets: number;
  liabilities: number;
  netAssets: number;
  nisab: number;
  isZakatDue: boolean;
  zakatAmount: number;
}
```

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
1. **ZakatCalculator** - Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø²ÙƒØ§Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©
2. **ZakatBreakdown** - ØªÙØµÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²ÙƒØ§Ø©
3. **ZakatHistory** - Ø³Ø¬Ù„ Ø§Ù„Ø²ÙƒØ§Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©
4. **ZakatReminder** - ØªØ°ÙƒÙŠØ± Ø¨Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø²ÙƒØ§Ø©

---

## 14. Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (Staff)

### StaffKPICards
```typescript
interface StaffKPIs {
  totalStaff: number;
  activeStaff: number;
  totalSalesByStaff: number;
  topPerformer: string;
  averageSalesPerStaff: number;
  totalCommissions: number;
}
```

### Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
1. **StaffPerformance** - Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (Radar)
2. **SalesByStaff** - Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ¸Ù (Bar)
3. **WorkSessionsAnalysis** - ØªØ­Ù„ÙŠÙ„ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¹Ù…Ù„ (Heatmap)
4. **StaffCommissions** - Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª (Table)

---

## 15. Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø§Øª (Comparative)

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
1. **PeriodComparison** - Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØªØ±Ø§Øª
2. **YearOverYear** - Ø³Ù†Ø© Ø¹Ù„Ù‰ Ø³Ù†Ø©
3. **MonthOverMonth** - Ø´Ù‡Ø± Ø¹Ù„Ù‰ Ø´Ù‡Ø±
4. **CategoryComparison** - Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØ¦Ø§Øª
5. **BranchComparison** - Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØ±ÙˆØ¹

---

# ğŸš€ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°

## Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª (Foundation)
- [ ] ØªØ«Ø¨ÙŠØª Nivo + Framer Motion
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø«ÙŠÙ…Ø§Øª
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Types Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© (KPICard, SectionHeader, etc.)

## Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„Ù€ Hooks (Data Layer)
- [ ] useReportsData - Hook Ø±Ø¦ÙŠØ³ÙŠ
- [ ] useSalesData
- [ ] useProfitsData
- [ ] useInventoryData
- [ ] useCapitalData
- [ ] useExpensesData
- [ ] useDebtsData
- [ ] useCustomersData
- [ ] useReturnsData
- [ ] useLossesData
- [ ] useRepairsData
- [ ] useSubscriptionsData
- [ ] useZakatData
- [ ] useStaffData

## Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- [ ] 01-overview
- [ ] 02-sales
- [ ] 03-profits
- [ ] 04-inventory
- [ ] 05-capital
- [ ] 06-expenses
- [ ] 07-debts
- [ ] 08-customers
- [ ] 09-returns
- [ ] 10-losses
- [ ] 11-repairs
- [ ] 12-subscriptions
- [ ] 13-zakat
- [ ] 14-staff
- [ ] 15-comparative

## Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ø§Ù„ÙÙ„Ø§ØªØ± ÙˆØ§Ù„ØªØµØ¯ÙŠØ±
- [ ] DateRangePicker
- [ ] ÙÙ„Ø§ØªØ± Ø¥Ø¶Ø§ÙÙŠØ©
- [ ] PDFReport
- [ ] ExcelExport
- [ ] PrintView

## Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„ØªÙƒØ§Ù…Ù„ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†
- [ ] ComprehensiveReportsDashboard
- [ ] Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
- [ ] Animations
- [ ] Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†
- [ ] Ø§Ù„ØªÙˆØ«ÙŠÙ‚

---

# ğŸ“¦ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```bash
# Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
pnpm add @nivo/core @nivo/line @nivo/bar @nivo/pie @nivo/heatmap @nivo/radar @nivo/funnel @nivo/bump @nivo/treemap @nivo/sunburst @nivo/waffle @nivo/calendar

# Ø§Ù„Ø­Ø±ÙƒØ§Øª
pnpm add framer-motion

# ØªØµØ¯ÙŠØ± PDF
pnpm add @react-pdf/renderer jspdf html2canvas

# Ø§Ù„ØªØ§Ø±ÙŠØ®
pnpm add date-fns date-fns-tz

# Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª (Ø¥Ù† Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©)
pnpm add lucide-react
```

---

# ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ø´Ø§Ù…Ù„ ÙˆØ§Ù„Ù‚ÙˆÙŠ (Advanced Filter System)

## Ù‡ÙŠÙƒÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„ØªØ±Ø©

```
src/components/comprehensive-reports/filters/
â”œâ”€â”€ index.ts
â”œâ”€â”€ FilterProvider.tsx              # Context Ù„Ù„ÙÙ„Ø§ØªØ±
â”œâ”€â”€ FilterBar.tsx                   # Ø´Ø±ÙŠØ· Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ FilterDrawer.tsx                # Ø¯Ø±Ø¬ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© (Ù…ÙˆØ¨Ø§ÙŠÙ„)
â”œâ”€â”€ FilterChips.tsx                 # Ø¹Ø±Ø¶ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù†Ø´Ø·Ø©
â”œâ”€â”€ FilterReset.tsx                 # Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±
â”‚
â”œâ”€â”€ date/
â”‚   â”œâ”€â”€ DateRangePicker.tsx         # Ø§Ø®ØªÙŠØ§Ø± Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
â”‚   â”œâ”€â”€ DatePresets.tsx             # Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø© (Ø§Ù„ÙŠÙˆÙ…ØŒ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŒ Ø§Ù„Ø´Ù‡Ø±...)
â”‚   â”œâ”€â”€ QuickDateButtons.tsx        # Ø£Ø²Ø±Ø§Ø± Ø³Ø±ÙŠØ¹Ø©
â”‚   â”œâ”€â”€ CustomDateRange.tsx         # Ù†Ø·Ø§Ù‚ Ù…Ø®ØµØµ
â”‚   â””â”€â”€ DateComparison.tsx          # Ù…Ù‚Ø§Ø±Ù†Ø© ÙØªØ±ØªÙŠÙ†
â”‚
â”œâ”€â”€ categories/
â”‚   â”œâ”€â”€ CategoryFilter.tsx          # ÙÙ„ØªØ± Ø§Ù„ÙØ¦Ø§Øª
â”‚   â”œâ”€â”€ SubcategoryFilter.tsx       # ÙÙ„ØªØ± Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
â”‚   â”œâ”€â”€ CategoryTree.tsx            # Ø´Ø¬Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª
â”‚   â””â”€â”€ MultiCategorySelect.tsx     # Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯
â”‚
â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ ProductFilter.tsx           # ÙÙ„ØªØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”‚   â”œâ”€â”€ ProductSearch.tsx           # Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”‚   â”œâ”€â”€ ProductTypeFilter.tsx       # Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬ (Ù‚Ø·Ø¹Ø©/ÙˆØ²Ù†/Ù…ØªØ±/Ø¹Ù„Ø¨Ø©)
â”‚   â”œâ”€â”€ BrandFilter.tsx             # ÙÙ„ØªØ± Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©
â”‚   â””â”€â”€ VariantFilter.tsx           # ÙÙ„ØªØ± Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
â”‚
â”œâ”€â”€ sales/
â”‚   â”œâ”€â”€ SaleTypeFilter.tsx          # Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¹ (ØªØ¬Ø²Ø¦Ø©/Ø¬Ù…Ù„Ø©)
â”‚   â”œâ”€â”€ PaymentMethodFilter.tsx     # Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
â”‚   â”œâ”€â”€ PaymentStatusFilter.tsx     # Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹
â”‚   â”œâ”€â”€ OrderStatusFilter.tsx       # Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
â”‚   â””â”€â”€ ChannelFilter.tsx           # Ù‚Ù†Ø§Ø© Ø§Ù„Ø¨ÙŠØ¹ (POS/Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†)
â”‚
â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ CustomerFilter.tsx          # ÙÙ„ØªØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”‚   â”œâ”€â”€ CustomerSegmentFilter.tsx   # Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”‚   â”œâ”€â”€ SupplierFilter.tsx          # ÙÙ„ØªØ± Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
â”‚   â”œâ”€â”€ StaffFilter.tsx             # ÙÙ„ØªØ± Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
â”‚   â””â”€â”€ BranchFilter.tsx            # ÙÙ„ØªØ± Ø§Ù„ÙØ±ÙˆØ¹
â”‚
â”œâ”€â”€ financial/
â”‚   â”œâ”€â”€ AmountRangeFilter.tsx       # Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ø¨Ø§Ù„Øº
â”‚   â”œâ”€â”€ ProfitMarginFilter.tsx      # Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­
â”‚   â”œâ”€â”€ ExpenseCategoryFilter.tsx   # ÙØ¦Ø§Øª Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ
â”‚   â””â”€â”€ DebtStatusFilter.tsx        # Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙŠÙˆÙ†
â”‚
â”œâ”€â”€ advanced/
â”‚   â”œâ”€â”€ AdvancedFilters.tsx         # Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
â”‚   â”œâ”€â”€ FilterBuilder.tsx           # Ø¨Ù†Ø§Ø¡ ÙÙ„ØªØ± Ù…Ø®ØµØµ
â”‚   â”œâ”€â”€ SavedFilters.tsx            # Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
â”‚   â””â”€â”€ FilterTemplates.tsx         # Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„ÙÙ„Ø§ØªØ±
â”‚
â””â”€â”€ hooks/
    â”œâ”€â”€ useFilters.ts               # Hook Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„ÙÙ„Ø§ØªØ±
    â”œâ”€â”€ useFilterPresets.ts         # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
    â”œâ”€â”€ useFilterPersistence.ts     # Ø­ÙØ¸ Ø§Ù„ÙÙ„Ø§ØªØ±
    â””â”€â”€ useFilterValidation.ts      # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙ„Ø§ØªØ±
```

## ğŸ“‹ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ÙˆØ­Ø¯Ø©

```typescript
// types/filters.types.ts

// ==================== Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================

export interface DateRangeFilter {
  start: Date | null;
  end: Date | null;
  preset?: DatePreset;
  comparison?: {
    enabled: boolean;
    start: Date | null;
    end: Date | null;
  };
}

export type DatePreset =
  | 'today'
  | 'yesterday'
  | 'last_7_days'
  | 'last_14_days'
  | 'last_30_days'
  | 'this_week'
  | 'last_week'
  | 'this_month'
  | 'last_month'
  | 'this_quarter'
  | 'last_quarter'
  | 'this_year'
  | 'last_year'
  | 'all_time'
  | 'custom';

export interface CategoryFilter {
  categoryIds: string[];
  subcategoryIds: string[];
  includeSubcategories: boolean;
}

export interface ProductFilter {
  productIds: string[];
  productTypes: ProductType[];
  brands: string[];
  hasVariants?: boolean;
  stockStatus?: 'all' | 'in_stock' | 'low_stock' | 'out_of_stock';
  priceRange?: {
    min: number | null;
    max: number | null;
  };
}

export type ProductType =
  | 'piece'           // Ù‚Ø·Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©
  | 'piece_with_colors'  // Ù‚Ø·Ø¹Ø© Ø¨Ø£Ù„ÙˆØ§Ù†
  | 'piece_with_sizes'   // Ù‚Ø·Ø¹Ø© Ø¨Ø£Ù„ÙˆØ§Ù† ÙˆÙ…Ù‚Ø§Ø³Ø§Øª
  | 'weight'          // ÙˆØ²Ù†
  | 'meter'           // Ù…ØªØ±
  | 'box';            // Ø¹Ù„Ø¨Ø©/ÙƒØ±ØªÙˆÙ†

export interface SalesFilter {
  saleTypes: SaleType[];
  paymentMethods: string[];
  paymentStatuses: PaymentStatus[];
  orderStatuses: OrderStatus[];
  channels: SalesChannel[];
  hasDiscount?: boolean;
  hasRemaining?: boolean;
}

export type SaleType = 'retail' | 'wholesale' | 'partial_wholesale';
export type PaymentStatus = 'paid' | 'pending' | 'partial' | 'failed';
export type OrderStatus = 'pending' | 'processing' | 'completed' | 'cancelled' | 'refunded';
export type SalesChannel = 'pos' | 'online' | 'all';

export interface EntityFilter {
  customerIds: string[];
  customerSegments: string[];
  supplierIds: string[];
  staffIds: string[];
  branchIds: string[];
}

export interface FinancialFilter {
  amountRange: {
    min: number | null;
    max: number | null;
  };
  profitMarginRange: {
    min: number | null;
    max: number | null;
  };
  expenseCategories: string[];
  debtStatuses: DebtStatus[];
}

export type DebtStatus = 'current' | 'overdue' | 'paid' | 'bad_debt';

export interface AdvancedFilter {
  // ÙÙ„Ø§ØªØ± Ø§Ù„Ø®Ø³Ø§Ø¦Ø±
  lossTypes?: LossType[];
  lossCategories?: string[];

  // ÙÙ„Ø§ØªØ± Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª
  returnReasons?: string[];
  returnTypes?: ReturnType[];

  // ÙÙ„Ø§ØªØ± Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª
  deviceTypes?: string[];
  repairStatuses?: string[];
  repairLocations?: string[];

  // ÙÙ„Ø§ØªØ± Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
  providers?: string[];
  services?: string[];

  // ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
  expiringWithinDays?: number;
  batchIds?: string[];
  hasSerialNumbers?: boolean;
  hasWarranty?: boolean;
}

export type LossType = 'damage' | 'theft' | 'expiry' | 'shortage' | 'breakage' | 'other';
export type ReturnType = 'full' | 'partial' | 'exchange';

// ==================== Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ù…ÙˆØ­Ø¯ Ø§Ù„Ø´Ø§Ù…Ù„ ====================

export interface ComprehensiveFilters {
  // Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  dateRange: DateRangeFilter;
  categories: CategoryFilter;
  products: ProductFilter;
  sales: SalesFilter;
  entities: EntityFilter;
  financial: FinancialFilter;
  advanced: AdvancedFilter;

  // Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
  groupBy?: GroupByOption;
  sortBy?: SortOption;
  limit?: number;

  // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
  searchQuery?: string;
  searchFields?: string[];
}

export type GroupByOption =
  | 'day' | 'week' | 'month' | 'quarter' | 'year'
  | 'category' | 'subcategory' | 'product' | 'brand'
  | 'customer' | 'staff' | 'branch'
  | 'payment_method' | 'sale_type';

export interface SortOption {
  field: string;
  direction: 'asc' | 'desc';
}

// ==================== Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ====================

export interface SavedFilter {
  id: string;
  name: string;
  description?: string;
  filters: Partial<ComprehensiveFilters>;
  isDefault?: boolean;
  createdAt: Date;
  updatedAt: Date;
}

export interface FilterPreset {
  id: string;
  name: string;
  nameAr: string;
  icon: string;
  filters: Partial<ComprehensiveFilters>;
  category: 'quick' | 'analysis' | 'report' | 'custom';
}
```

## ğŸ›ï¸ Ù…ÙƒÙˆÙ† Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ

```typescript
// FilterProvider.tsx
import { createContext, useContext, useState, useCallback, useMemo } from 'react';

interface FilterContextType {
  filters: ComprehensiveFilters;
  setFilters: (filters: Partial<ComprehensiveFilters>) => void;
  resetFilters: () => void;
  applyPreset: (preset: FilterPreset) => void;
  saveFilter: (name: string) => void;
  loadSavedFilter: (id: string) => void;
  activeFiltersCount: number;
  isFiltered: boolean;
}

const defaultFilters: ComprehensiveFilters = {
  dateRange: {
    start: null,
    end: null,
    preset: 'this_month',
    comparison: { enabled: false, start: null, end: null }
  },
  categories: {
    categoryIds: [],
    subcategoryIds: [],
    includeSubcategories: true
  },
  products: {
    productIds: [],
    productTypes: [],
    brands: [],
    hasVariants: undefined,
    stockStatus: 'all'
  },
  sales: {
    saleTypes: [],
    paymentMethods: [],
    paymentStatuses: [],
    orderStatuses: [],
    channels: []
  },
  entities: {
    customerIds: [],
    customerSegments: [],
    supplierIds: [],
    staffIds: [],
    branchIds: []
  },
  financial: {
    amountRange: { min: null, max: null },
    profitMarginRange: { min: null, max: null },
    expenseCategories: [],
    debtStatuses: []
  },
  advanced: {}
};

export const FilterProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [filters, setFiltersState] = useState<ComprehensiveFilters>(defaultFilters);

  const setFilters = useCallback((newFilters: Partial<ComprehensiveFilters>) => {
    setFiltersState(prev => ({ ...prev, ...newFilters }));
  }, []);

  const resetFilters = useCallback(() => {
    setFiltersState(defaultFilters);
  }, []);

  const activeFiltersCount = useMemo(() => {
    let count = 0;
    if (filters.dateRange.preset !== 'this_month') count++;
    if (filters.categories.categoryIds.length > 0) count++;
    if (filters.products.productIds.length > 0) count++;
    if (filters.sales.saleTypes.length > 0) count++;
    if (filters.entities.customerIds.length > 0) count++;
    // ... Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
    return count;
  }, [filters]);

  return (
    <FilterContext.Provider value={{
      filters,
      setFilters,
      resetFilters,
      activeFiltersCount,
      isFiltered: activeFiltersCount > 0,
      // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù
    }}>
      {children}
    </FilterContext.Provider>
  );
};
```

## ğŸ“† Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©

```typescript
// DatePresets.tsx
export const datePresets: FilterPreset[] = [
  {
    id: 'today',
    name: 'Today',
    nameAr: 'Ø§Ù„ÙŠÙˆÙ…',
    icon: 'calendar-day',
    category: 'quick',
    filters: {
      dateRange: {
        preset: 'today',
        start: startOfToday(),
        end: endOfToday()
      }
    }
  },
  {
    id: 'yesterday',
    name: 'Yesterday',
    nameAr: 'Ø£Ù…Ø³',
    icon: 'calendar-minus',
    category: 'quick',
    filters: {
      dateRange: {
        preset: 'yesterday',
        start: startOfYesterday(),
        end: endOfYesterday()
      }
    }
  },
  {
    id: 'this_week',
    name: 'This Week',
    nameAr: 'Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹',
    icon: 'calendar-week',
    category: 'quick',
    filters: {
      dateRange: {
        preset: 'this_week',
        start: startOfWeek(new Date(), { weekStartsOn: 6 }), // Ø§Ù„Ø³Ø¨Øª
        end: endOfWeek(new Date(), { weekStartsOn: 6 })
      }
    }
  },
  {
    id: 'last_week',
    name: 'Last Week',
    nameAr: 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ',
    icon: 'calendar-week',
    category: 'quick',
    filters: { /* ... */ }
  },
  {
    id: 'this_month',
    name: 'This Month',
    nameAr: 'Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±',
    icon: 'calendar-month',
    category: 'quick',
    filters: {
      dateRange: {
        preset: 'this_month',
        start: startOfMonth(new Date()),
        end: endOfMonth(new Date())
      }
    }
  },
  {
    id: 'last_month',
    name: 'Last Month',
    nameAr: 'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ',
    icon: 'calendar-month',
    category: 'quick',
    filters: { /* ... */ }
  },
  {
    id: 'this_quarter',
    name: 'This Quarter',
    nameAr: 'Ù‡Ø°Ø§ Ø§Ù„Ø±Ø¨Ø¹',
    icon: 'calendar-range',
    category: 'analysis',
    filters: { /* ... */ }
  },
  {
    id: 'this_year',
    name: 'This Year',
    nameAr: 'Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø©',
    icon: 'calendar',
    category: 'analysis',
    filters: { /* ... */ }
  },
  {
    id: 'last_30_days',
    name: 'Last 30 Days',
    nameAr: 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…',
    icon: 'calendar-days',
    category: 'analysis',
    filters: {
      dateRange: {
        preset: 'last_30_days',
        start: subDays(new Date(), 30),
        end: new Date()
      }
    }
  },
  {
    id: 'ramadan',
    name: 'Ramadan',
    nameAr: 'Ø±Ù…Ø¶Ø§Ù†',
    icon: 'moon',
    category: 'report',
    filters: { /* Ø­Ø³Ø¨ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ */ }
  },
  {
    id: 'eid_season',
    name: 'Eid Season',
    nameAr: 'Ù…ÙˆØ³Ù… Ø§Ù„Ø¹ÙŠØ¯',
    icon: 'star',
    category: 'report',
    filters: { /* ... */ }
  }
];
```

## ğŸ”§ Ù‚ÙˆØ§Ù„Ø¨ ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„

```typescript
// AnalysisPresets.tsx
export const analysisPresets: FilterPreset[] = [
  {
    id: 'top_performers',
    name: 'Top Performers',
    nameAr: 'Ø§Ù„Ø£ÙØ¶Ù„ Ø£Ø¯Ø§Ø¡Ù‹',
    icon: 'trending-up',
    category: 'analysis',
    filters: {
      dateRange: { preset: 'this_month' },
      sortBy: { field: 'total_sales', direction: 'desc' },
      limit: 10
    }
  },
  {
    id: 'slow_moving',
    name: 'Slow Moving Products',
    nameAr: 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø·ÙŠØ¦Ø© Ø§Ù„Ø­Ø±ÙƒØ©',
    icon: 'trending-down',
    category: 'analysis',
    filters: {
      dateRange: { preset: 'last_30_days' },
      products: { stockStatus: 'in_stock' },
      sortBy: { field: 'sales_count', direction: 'asc' },
      limit: 20
    }
  },
  {
    id: 'high_profit_margin',
    name: 'High Profit Margin',
    nameAr: 'Ù‡Ø§Ù…Ø´ Ø±Ø¨Ø­ Ø¹Ø§Ù„ÙŠ',
    icon: 'dollar-sign',
    category: 'analysis',
    filters: {
      financial: {
        profitMarginRange: { min: 30, max: null }
      },
      sortBy: { field: 'profit_margin', direction: 'desc' }
    }
  },
  {
    id: 'wholesale_customers',
    name: 'Wholesale Customers',
    nameAr: 'Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø¬Ù…Ù„Ø©',
    icon: 'users',
    category: 'analysis',
    filters: {
      sales: { saleTypes: ['wholesale', 'partial_wholesale'] }
    }
  },
  {
    id: 'credit_sales',
    name: 'Credit Sales (Debts)',
    nameAr: 'Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø¢Ø¬Ù„ (Ø¯ÙŠÙˆÙ†)',
    icon: 'credit-card',
    category: 'analysis',
    filters: {
      sales: { hasRemaining: true },
      financial: { debtStatuses: ['current', 'overdue'] }
    }
  },
  {
    id: 'expiring_soon',
    name: 'Expiring Soon',
    nameAr: 'Ù‚Ø±ÙŠØ¨Ø© Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡',
    icon: 'clock',
    category: 'analysis',
    filters: {
      advanced: { expiringWithinDays: 30 }
    }
  },
  {
    id: 'weight_products',
    name: 'Weight Products',
    nameAr: 'Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ÙˆØ²Ù†',
    icon: 'scale',
    category: 'analysis',
    filters: {
      products: { productTypes: ['weight'] }
    }
  },
  {
    id: 'box_products',
    name: 'Box/Carton Products',
    nameAr: 'Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ù„Ø¨/Ø§Ù„ÙƒØ±Ø§ØªÙŠÙ†',
    icon: 'package',
    category: 'analysis',
    filters: {
      products: { productTypes: ['box'] }
    }
  }
];
```

## ğŸ¯ Hook Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙ„Ø§ØªØ±

```typescript
// hooks/useFilters.ts
export const useFilters = () => {
  const context = useContext(FilterContext);

  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  const applyFilters = useCallback(<T extends Record<string, any>>(
    data: T[],
    filters: ComprehensiveFilters
  ): T[] => {
    let filtered = [...data];

    // ÙÙ„ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ®
    if (filters.dateRange.start && filters.dateRange.end) {
      filtered = filtered.filter(item => {
        const itemDate = new Date(item.created_at || item.date);
        return itemDate >= filters.dateRange.start! &&
               itemDate <= filters.dateRange.end!;
      });
    }

    // ÙÙ„ØªØ± Ø§Ù„ÙØ¦Ø§Øª
    if (filters.categories.categoryIds.length > 0) {
      filtered = filtered.filter(item =>
        filters.categories.categoryIds.includes(item.category_id)
      );
    }

    // ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¹
    if (filters.sales.saleTypes.length > 0) {
      filtered = filtered.filter(item =>
        filters.sales.saleTypes.includes(item.sale_type)
      );
    }

    // ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬
    if (filters.products.productTypes.length > 0) {
      filtered = filtered.filter(item => {
        const productType = getProductType(item);
        return filters.products.productTypes.includes(productType);
      });
    }

    // ÙÙ„ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
    if (filters.sales.paymentMethods.length > 0) {
      filtered = filtered.filter(item =>
        filters.sales.paymentMethods.includes(item.payment_method)
      );
    }

    // ÙÙ„ØªØ± Ø§Ù„Ø¹Ù…ÙŠÙ„
    if (filters.entities.customerIds.length > 0) {
      filtered = filtered.filter(item =>
        filters.entities.customerIds.includes(item.customer_id)
      );
    }

    // ÙÙ„ØªØ± Ø§Ù„Ù…ÙˆØ¸Ù
    if (filters.entities.staffIds.length > 0) {
      filtered = filtered.filter(item =>
        filters.entities.staffIds.includes(item.created_by_staff_id)
      );
    }

    // ÙÙ„ØªØ± Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ø¨Ù„Øº
    if (filters.financial.amountRange.min !== null) {
      filtered = filtered.filter(item =>
        item.total >= filters.financial.amountRange.min!
      );
    }
    if (filters.financial.amountRange.max !== null) {
      filtered = filtered.filter(item =>
        item.total <= filters.financial.amountRange.max!
      );
    }

    // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
    if (filters.searchQuery) {
      const query = filters.searchQuery.toLowerCase();
      const fields = filters.searchFields || ['name', 'description', 'sku'];
      filtered = filtered.filter(item =>
        fields.some(field =>
          item[field]?.toString().toLowerCase().includes(query)
        )
      );
    }

    // Ø§Ù„ØªØ±ØªÙŠØ¨
    if (filters.sortBy) {
      filtered.sort((a, b) => {
        const aVal = a[filters.sortBy!.field];
        const bVal = b[filters.sortBy!.field];
        const direction = filters.sortBy!.direction === 'asc' ? 1 : -1;
        return (aVal - bVal) * direction;
      });
    }

    // Ø§Ù„Ø­Ø¯
    if (filters.limit) {
      filtered = filtered.slice(0, filters.limit);
    }

    return filtered;
  }, []);

  return { ...context, applyFilters };
};
```

## ğŸ–¼ï¸ Ù…ÙƒÙˆÙ† Ø´Ø±ÙŠØ· Ø§Ù„ÙÙ„Ø§ØªØ±

```typescript
// FilterBar.tsx
export const FilterBar: React.FC = () => {
  const { filters, setFilters, activeFiltersCount, resetFilters } = useFilters();
  const [showAdvanced, setShowAdvanced] = useState(false);

  return (
    <motion.div
      className="filter-bar"
      initial={{ opacity: 0, y: -20 }}
      animate={{ opacity: 1, y: 0 }}
    >
      {/* Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø¹Ù„ÙˆÙŠ - Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø³Ø±ÙŠØ¹Ø© */}
      <div className="filter-bar-top">
        {/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³Ø±ÙŠØ¹ */}
        <DatePresetButtons
          value={filters.dateRange.preset}
          onChange={(preset) => setFilters({
            dateRange: { ...filters.dateRange, preset }
          })}
        />

        {/* Ø²Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø®ØµØµ */}
        <DateRangePicker
          value={filters.dateRange}
          onChange={(dateRange) => setFilters({ dateRange })}
        />

        {/* Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© */}
        <ComparisonToggle
          enabled={filters.dateRange.comparison?.enabled}
          onChange={(enabled) => setFilters({
            dateRange: {
              ...filters.dateRange,
              comparison: { ...filters.dateRange.comparison, enabled }
            }
          })}
        />

        {/* ÙÙ„ØªØ± Ø§Ù„ÙØ¦Ø© */}
        <CategoryDropdown
          value={filters.categories.categoryIds}
          onChange={(categoryIds) => setFilters({
            categories: { ...filters.categories, categoryIds }
          })}
        />

        {/* ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¹ */}
        <SaleTypeToggle
          value={filters.sales.saleTypes}
          onChange={(saleTypes) => setFilters({
            sales: { ...filters.sales, saleTypes }
          })}
        />

        {/* Ø²Ø± Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */}
        <Button
          variant="outline"
          onClick={() => setShowAdvanced(true)}
          className="advanced-filters-btn"
        >
          <Filter className="w-4 h-4" />
          ÙÙ„Ø§ØªØ± Ù…ØªÙ‚Ø¯Ù…Ø©
          {activeFiltersCount > 0 && (
            <Badge variant="secondary">{activeFiltersCount}</Badge>
          )}
        </Button>

        {/* Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† */}
        {activeFiltersCount > 0 && (
          <Button variant="ghost" onClick={resetFilters}>
            <X className="w-4 h-4" />
            Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
          </Button>
        )}
      </div>

      {/* Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù†Ø´Ø·Ø© */}
      <FilterChips />

      {/* Ø¯Ø±Ø¬ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */}
      <AdvancedFiltersDrawer
        open={showAdvanced}
        onClose={() => setShowAdvanced(false)}
      />
    </motion.div>
  );
};
```

---

# ğŸ’¡ Ø£ÙÙƒØ§Ø± Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© ÙˆÙ…ÙƒÙˆÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©

## ğŸŒŸ Ù…ÙƒÙˆÙ†Ø§Øª Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©

### 1. Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª (Goals Dashboard)
```typescript
// 16-goals/
â”œâ”€â”€ GoalsSection.tsx
â”œâ”€â”€ GoalCard.tsx                    # Ø¨Ø·Ø§Ù‚Ø© Ù‡Ø¯Ù ÙˆØ§Ø­Ø¯
â”œâ”€â”€ GoalProgress.tsx                # ØªÙ‚Ø¯Ù… Ù†Ø­Ùˆ Ø§Ù„Ù‡Ø¯Ù
â”œâ”€â”€ GoalMilestones.tsx              # Ù…Ø¹Ø§Ù„Ù… Ø§Ù„Ù‡Ø¯Ù
â”œâ”€â”€ GoalComparison.tsx              # Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ù‡Ø¯Ù
â”œâ”€â”€ StreakTracker.tsx               # ØªØªØ¨Ø¹ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©
â””â”€â”€ AchievementBadges.tsx           # Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²

interface Goal {
  id: string;
  name: string;
  type: 'sales' | 'profit' | 'customers' | 'orders' | 'custom';
  target: number;
  current: number;
  period: 'daily' | 'weekly' | 'monthly' | 'quarterly' | 'yearly';
  startDate: Date;
  endDate: Date;
  milestones: Milestone[];
}
```

### 2. Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© (AI Predictions)
```typescript
// 17-predictions/
â”œâ”€â”€ PredictionsSection.tsx
â”œâ”€â”€ SalesForecast.tsx               # ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
â”œâ”€â”€ DemandPrediction.tsx            # ØªÙˆÙ‚Ø¹ Ø§Ù„Ø·Ù„Ø¨
â”œâ”€â”€ StockoutPrediction.tsx          # ØªÙˆÙ‚Ø¹ Ù†ÙØ§Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
â”œâ”€â”€ SeasonalTrends.tsx              # Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ù…ÙˆØ³Ù…ÙŠØ©
â”œâ”€â”€ CustomerChurnPrediction.tsx     # ØªÙˆÙ‚Ø¹ Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â””â”€â”€ ProfitProjection.tsx            # ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­

// Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø¨Ø³ÙŠØ·Ø© Ù„Ù„ØªÙ†Ø¨Ø¤ (ØªØ¹Ù…Ù„ offline)
const predictNextPeriod = (historicalData: number[]): number => {
  // Moving Average
  const periods = 3;
  const recent = historicalData.slice(-periods);
  const avg = recent.reduce((a, b) => a + b, 0) / periods;

  // Trend factor
  const trend = (recent[recent.length - 1] - recent[0]) / periods;

  return avg + trend;
};
```

### 3. Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© (Performance Heatmap)
```typescript
// 18-heatmaps/
â”œâ”€â”€ PerformanceHeatmap.tsx
â”œâ”€â”€ HourlySalesHeatmap.tsx          # Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø©/Ø§Ù„ÙŠÙˆÙ…
â”œâ”€â”€ ProductPerformanceMatrix.tsx    # Ù…ØµÙÙˆÙØ© Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”œâ”€â”€ CustomerActivityMap.tsx         # Ø®Ø±ÙŠØ·Ø© Ù†Ø´Ø§Ø· Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”œâ”€â”€ StaffEfficiencyMap.tsx          # ÙƒÙØ§Ø¡Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
â””â”€â”€ CategoryProductMatrix.tsx       # Ù…ØµÙÙˆÙØ© Ø§Ù„ÙØ¦Ø§Øª/Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```

### 4. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ù„Ø© (Basket Analysis)
```typescript
// 19-basket-analysis/
â”œâ”€â”€ BasketAnalysisSection.tsx
â”œâ”€â”€ FrequentlyBoughtTogether.tsx    # Ù…Ù†ØªØ¬Ø§Øª ØªÙØ´ØªØ±Ù‰ Ù…Ø¹Ø§Ù‹
â”œâ”€â”€ CrossSellOpportunities.tsx      # ÙØ±Øµ Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹
â”œâ”€â”€ AverageBasketSize.tsx           # Ù…ØªÙˆØ³Ø· Ø­Ø¬Ù… Ø§Ù„Ø³Ù„Ø©
â”œâ”€â”€ BasketValueDistribution.tsx     # ØªÙˆØ²ÙŠØ¹ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³Ù„Ø©
â””â”€â”€ ProductAffinityChart.tsx        # ØªÙ‚Ø§Ø±Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```

### 5. ØªØ­Ù„ÙŠÙ„ ABC Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
```typescript
// 20-abc-analysis/
â”œâ”€â”€ ABCAnalysisSection.tsx
â”œâ”€â”€ ABCClassification.tsx           # ØªØµÙ†ÙŠÙ ABC
â”œâ”€â”€ ParetoPrinciple.tsx             # Ù…Ø¨Ø¯Ø£ Ø¨Ø§Ø±ÙŠØªÙˆ (80/20)
â”œâ”€â”€ InventoryOptimization.tsx       # ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
â”œâ”€â”€ ReorderSuggestions.tsx          # Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨
â””â”€â”€ DeadStockIdentifier.tsx         # ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø±Ø§ÙƒØ¯

// ØªØµÙ†ÙŠÙ ABC
// A: 20% Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª = 80% Ù…Ù† Ø§Ù„Ù‚ÙŠÙ…Ø©
// B: 30% Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª = 15% Ù…Ù† Ø§Ù„Ù‚ÙŠÙ…Ø©
// C: 50% Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª = 5% Ù…Ù† Ø§Ù„Ù‚ÙŠÙ…Ø©
```

### 6. ØªØ­Ù„ÙŠÙ„ RFM Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
```typescript
// 21-rfm-analysis/
â”œâ”€â”€ RFMAnalysisSection.tsx
â”œâ”€â”€ RFMScoreCard.tsx                # Ø¨Ø·Ø§Ù‚Ø© Ù†Ù‚Ø§Ø· RFM
â”œâ”€â”€ CustomerSegmentation.tsx        # ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”œâ”€â”€ ChampionCustomers.tsx           # Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„
â”œâ”€â”€ AtRiskCustomers.tsx             # Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø±Ø¶ÙˆÙ† Ù„Ù„Ø®Ø·Ø±
â”œâ”€â”€ WinBackStrategies.tsx           # Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©
â””â”€â”€ SegmentComparison.tsx           # Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø´Ø±Ø§Ø¦Ø­

// RFM = Recency, Frequency, Monetary
interface RFMScore {
  customerId: string;
  recency: number;      // Ø£ÙŠØ§Ù… Ù…Ù†Ø° Ø¢Ø®Ø± Ø´Ø±Ø§Ø¡
  frequency: number;    // Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  monetary: number;     // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚
  rfmScore: string;     // Ù…Ø«Ù„ "555" Ø£Ùˆ "111"
  segment: CustomerSegment;
}

type CustomerSegment =
  | 'champions'         // Ø£Ø¨Ø·Ø§Ù„
  | 'loyal_customers'   // Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø®Ù„ØµÙˆÙ†
  | 'potential_loyalists' // Ù…Ø­ØªÙ…Ù„ÙˆÙ† Ù„Ù„ÙˆÙ„Ø§Ø¡
  | 'new_customers'     // Ø¹Ù…Ù„Ø§Ø¡ Ø¬Ø¯Ø¯
  | 'promising'         // ÙˆØ§Ø¹Ø¯ÙˆÙ†
  | 'need_attention'    // Ø¨Ø­Ø§Ø¬Ø© Ø§Ù‡ØªÙ…Ø§Ù…
  | 'about_to_sleep'    // Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„Ø³ÙƒÙˆÙ†
  | 'at_risk'           // Ù…Ø¹Ø±Ø¶ÙˆÙ† Ù„Ù„Ø®Ø·Ø±
  | 'cannot_lose'       // Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø®Ø³Ø§Ø±ØªÙ‡Ù…
  | 'hibernating'       // Ø®Ø§Ù…Ù„ÙˆÙ†
  | 'lost';             // Ù…ÙÙ‚ÙˆØ¯ÙˆÙ†
```

### 7. Ù„ÙˆØ­Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©
```typescript
// 22-smart-alerts/
â”œâ”€â”€ SmartAlertsSection.tsx
â”œâ”€â”€ AlertsOverview.tsx              # Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
â”œâ”€â”€ CriticalAlerts.tsx              # ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø­Ø±Ø¬Ø©
â”œâ”€â”€ WarningAlerts.tsx               # ØªØ­Ø°ÙŠØ±Ø§Øª
â”œâ”€â”€ OpportunityAlerts.tsx           # ÙØ±Øµ
â”œâ”€â”€ AlertHistory.tsx                # Ø³Ø¬Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
â””â”€â”€ AlertSettings.tsx               # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª

interface SmartAlert {
  id: string;
  type: AlertType;
  severity: 'critical' | 'warning' | 'info' | 'opportunity';
  title: string;
  message: string;
  data: Record<string, any>;
  actions: AlertAction[];
  createdAt: Date;
  isRead: boolean;
}

type AlertType =
  | 'low_stock'                 // Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶
  | 'out_of_stock'              // Ù†ÙØ§Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
  | 'expiring_products'         // Ù…Ù†ØªØ¬Ø§Øª Ù…Ù†ØªÙ‡ÙŠØ©
  | 'overdue_debts'             // Ø¯ÙŠÙˆÙ† Ù…ØªØ£Ø®Ø±Ø©
  | 'high_value_order'          // Ø·Ù„Ø¨ Ø¨Ù‚ÙŠÙ…Ø© Ø¹Ø§Ù„ÙŠØ©
  | 'unusual_activity'          // Ù†Ø´Ø§Ø· ØºÙŠØ± Ø¹Ø§Ø¯ÙŠ
  | 'target_achieved'           // ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù‡Ø¯Ù
  | 'declining_sales'           // Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
  | 'popular_product'           // Ù…Ù†ØªØ¬ Ø±Ø§Ø¦Ø¬
  | 'customer_milestone';       // Ø¥Ù†Ø¬Ø§Ø² Ø¹Ù…ÙŠÙ„
```

### 8. Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØµØµØ© (Report Builder)
```typescript
// 23-report-builder/
â”œâ”€â”€ ReportBuilderSection.tsx
â”œâ”€â”€ ReportCanvas.tsx                # Ù„ÙˆØ­Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
â”œâ”€â”€ WidgetLibrary.tsx               # Ù…ÙƒØªØ¨Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
â”œâ”€â”€ DragDropBuilder.tsx             # Ø³Ø­Ø¨ ÙˆØ¥ÙÙ„Ø§Øª
â”œâ”€â”€ ReportPreview.tsx               # Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±
â”œâ”€â”€ SavedReports.tsx                # Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
â”œâ”€â”€ ScheduledReports.tsx            # Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø©
â””â”€â”€ ReportSharing.tsx               # Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

interface CustomReport {
  id: string;
  name: string;
  layout: WidgetLayout[];
  filters: ComprehensiveFilters;
  schedule?: ReportSchedule;
  sharing?: ReportSharing;
}

interface WidgetLayout {
  widgetId: string;
  widgetType: WidgetType;
  position: { x: number; y: number };
  size: { width: number; height: number };
  config: WidgetConfig;
}
```

### 9. Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©
```typescript
// 24-interactive-comparison/
â”œâ”€â”€ InteractiveComparisonSection.tsx
â”œâ”€â”€ SideBySideView.tsx              # Ø¹Ø±Ø¶ Ø¬Ù†Ø¨Ø§Ù‹ Ù„Ø¬Ù†Ø¨
â”œâ”€â”€ OverlayChart.tsx                # ØªØ±Ø§ÙƒØ¨ Ø§Ù„Ø±Ø³ÙˆÙ…
â”œâ”€â”€ DifferenceHighlighter.tsx       # ØªÙ…ÙŠÙŠØ² Ø§Ù„ÙØ±ÙˆÙ‚Ø§Øª
â”œâ”€â”€ PercentageChange.tsx            # Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ±
â”œâ”€â”€ TrendArrows.tsx                 # Ø£Ø³Ù‡Ù… Ø§Ù„Ø§ØªØ¬Ø§Ù‡
â””â”€â”€ ComparisonTable.tsx             # Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
```

### 10. Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­ÙŠ (Live Dashboard)
```typescript
// 25-live-dashboard/
â”œâ”€â”€ LiveDashboardSection.tsx
â”œâ”€â”€ RealTimeSales.tsx               # Ù…Ø¨ÙŠØ¹Ø§Øª Ù„Ø­Ø¸ÙŠØ©
â”œâ”€â”€ LiveOrderFeed.tsx               # ØªØ¯ÙÙ‚ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
â”œâ”€â”€ CurrentSessionStats.tsx         # Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
â”œâ”€â”€ TodayProgress.tsx               # ØªÙ‚Ø¯Ù… Ø§Ù„ÙŠÙˆÙ…
â”œâ”€â”€ ActiveCustomers.tsx             # Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†
â””â”€â”€ LiveNotifications.tsx           # Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­ÙŠØ©
```

### 11. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙˆØ³Ù…ÙŠØ©
```typescript
// 26-seasonality/
â”œâ”€â”€ SeasonalitySection.tsx
â”œâ”€â”€ MonthlyPatterns.tsx             # Ø£Ù†Ù…Ø§Ø· Ø´Ù‡Ø±ÙŠØ©
â”œâ”€â”€ WeeklyPatterns.tsx              # Ø£Ù†Ù…Ø§Ø· Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©
â”œâ”€â”€ DailyPatterns.tsx               # Ø£Ù†Ù…Ø§Ø· ÙŠÙˆÙ…ÙŠØ©
â”œâ”€â”€ HolidayImpact.tsx               # ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¹Ø·Ù„Ø§Øª
â”œâ”€â”€ RamadanAnalysis.tsx             # ØªØ­Ù„ÙŠÙ„ Ø±Ù…Ø¶Ø§Ù†
â”œâ”€â”€ EidAnalysis.tsx                 # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹ÙŠØ¯
â””â”€â”€ SeasonalForecast.tsx            # ØªÙˆÙ‚Ø¹Ø§Øª Ù…ÙˆØ³Ù…ÙŠØ©
```

### 12. Ù„ÙˆØ­Ø© Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
```typescript
// 27-financial-health/
â”œâ”€â”€ FinancialHealthSection.tsx
â”œâ”€â”€ HealthScore.tsx                 # Ù†Ù‚Ø§Ø· Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
â”œâ”€â”€ CashFlowStatus.tsx              # Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ
â”œâ”€â”€ LiquidityRatio.tsx              # Ù†Ø³Ø¨Ø© Ø§Ù„Ø³ÙŠÙˆÙ„Ø©
â”œâ”€â”€ DebtToEquity.tsx                # Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙ† Ù„Ù„Ù…Ù„ÙƒÙŠØ©
â”œâ”€â”€ WorkingCapital.tsx              # Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…Ù„
â”œâ”€â”€ BreakEvenAnalysis.tsx           # ØªØ­Ù„ÙŠÙ„ Ù†Ù‚Ø·Ø© Ø§Ù„ØªØ¹Ø§Ø¯Ù„
â””â”€â”€ FinancialRecommendations.tsx    # ØªÙˆØµÙŠØ§Øª Ù…Ø§Ù„ÙŠØ©

interface FinancialHealthScore {
  overall: number;           // 0-100
  liquidity: number;
  profitability: number;
  efficiency: number;
  solvency: number;
  recommendations: string[];
}
```

### 13. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† (Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©)
```typescript
// 28-benchmarking/
â”œâ”€â”€ BenchmarkingSection.tsx
â”œâ”€â”€ IndustryAverages.tsx            # Ù…ØªÙˆØ³Ø·Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹Ø©
â”œâ”€â”€ PerformanceRanking.tsx          # ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø¯Ø§Ø¡
â”œâ”€â”€ GrowthBenchmark.tsx             # Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ù†Ù…Ùˆ
â”œâ”€â”€ EfficiencyMetrics.tsx           # Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„ÙƒÙØ§Ø¡Ø©
â””â”€â”€ ImprovementAreas.tsx            # Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ†
```

### 14. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±
```typescript
// 29-roi-analysis/
â”œâ”€â”€ ROIAnalysisSection.tsx
â”œâ”€â”€ ProductROI.tsx                  # Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”œâ”€â”€ CategoryROI.tsx                 # Ø¹Ø§Ø¦Ø¯ Ø§Ù„ÙØ¦Ø§Øª
â”œâ”€â”€ CustomerROI.tsx                 # Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”œâ”€â”€ MarketingROI.tsx                # Ø¹Ø§Ø¦Ø¯ Ø§Ù„ØªØ³ÙˆÙŠÙ‚
â”œâ”€â”€ InventoryROI.tsx                # Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
â””â”€â”€ ROIComparison.tsx               # Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¹ÙˆØ§Ø¦Ø¯
```

### 15. ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨ ÙˆØ§Ù„Ø²ÙƒØ§Ø©
```typescript
// 30-tax-reports/
â”œâ”€â”€ TaxReportsSection.tsx
â”œâ”€â”€ VATReport.tsx                   # ØªÙ‚Ø±ÙŠØ± Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©
â”œâ”€â”€ ZakatReport.tsx                 # ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø²ÙƒØ§Ø©
â”œâ”€â”€ TaxSummary.tsx                  # Ù…Ù„Ø®Øµ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨
â”œâ”€â”€ TaxableTransactions.tsx         # Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø®Ø§Ø¶Ø¹Ø©
â”œâ”€â”€ TaxExemptions.tsx               # Ø§Ù„Ø¥Ø¹ÙØ§Ø¡Ø§Øª
â””â”€â”€ TaxCalendar.tsx                 # ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨
```

---

## ğŸ¨ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©

### 1. Ø¨Ø·Ø§Ù‚Ø§Øª KPI Ù…ØªØ­Ø±ÙƒØ© Ù…Ø¹ Sparklines
```typescript
// shared/SparklineKPICard.tsx
interface SparklineKPICardProps {
  title: string;
  value: number;
  change: number;
  changeType: 'increase' | 'decrease' | 'neutral';
  sparklineData: number[];
  icon: React.ReactNode;
  color: string;
  format: 'currency' | 'number' | 'percentage';
}
```

### 2. Gauge Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ù…Ù†Ø§Ø·Ù‚
```typescript
// shared/AdvancedGauge.tsx
interface AdvancedGaugeProps {
  value: number;
  min: number;
  max: number;
  zones: {
    from: number;
    to: number;
    color: string;
    label: string;
  }[];
  target?: number;
  animated?: boolean;
}
```

### 3. Progress Ring Ù…ØªØ¹Ø¯Ø¯
```typescript
// shared/MultiProgressRing.tsx
interface MultiProgressRingProps {
  rings: {
    value: number;
    max: number;
    color: string;
    label: string;
  }[];
  centerContent?: React.ReactNode;
  size?: number;
}
```

### 4. Comparison Bar
```typescript
// shared/ComparisonBar.tsx
interface ComparisonBarProps {
  current: number;
  previous: number;
  target?: number;
  label: string;
  showDifference: boolean;
}
```

### 5. Trend Indicator Ù…Ø¹ ØªÙˆÙ‚Ø¹
```typescript
// shared/TrendIndicator.tsx
interface TrendIndicatorProps {
  data: number[];
  prediction?: number;
  trend: 'up' | 'down' | 'stable';
  confidence?: number;
}
```

### 6. Data Storytelling Cards
```typescript
// shared/InsightCard.tsx
interface InsightCardProps {
  insight: string;           // "Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ø±ØªÙØ¹Øª 15% Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"
  context: string;           // "Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ"
  impact: 'positive' | 'negative' | 'neutral';
  relatedData: any;
  suggestedAction?: string;  // "ÙÙƒØ± ÙÙŠ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"
}
```

### 7. Animated Counter
```typescript
// shared/AnimatedCounter.tsx
interface AnimatedCounterProps {
  value: number;
  duration?: number;
  format?: (value: number) => string;
  prefix?: string;
  suffix?: string;
  decimals?: number;
}
```

---

## ğŸ“Š Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«

```
src/components/comprehensive-reports/
â”‚
â”œâ”€â”€ ğŸ“ 01-overview/
â”œâ”€â”€ ğŸ“ 02-sales/
â”œâ”€â”€ ğŸ“ 03-profits/
â”œâ”€â”€ ğŸ“ 04-inventory/
â”œâ”€â”€ ğŸ“ 05-capital/
â”œâ”€â”€ ğŸ“ 06-expenses/
â”œâ”€â”€ ğŸ“ 07-debts/
â”œâ”€â”€ ğŸ“ 08-customers/
â”œâ”€â”€ ğŸ“ 09-returns/
â”œâ”€â”€ ğŸ“ 10-losses/
â”œâ”€â”€ ğŸ“ 11-repairs/
â”œâ”€â”€ ğŸ“ 12-subscriptions/
â”œâ”€â”€ ğŸ“ 13-zakat/
â”œâ”€â”€ ğŸ“ 14-staff/
â”œâ”€â”€ ğŸ“ 15-comparative/
â”‚
â”œâ”€â”€ ğŸ“ 16-goals/                    # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
â”œâ”€â”€ ğŸ“ 17-predictions/              # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª
â”œâ”€â”€ ğŸ“ 18-heatmaps/                 # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©
â”œâ”€â”€ ğŸ“ 19-basket-analysis/          # â­ Ø¬Ø¯ÙŠØ¯ - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©
â”œâ”€â”€ ğŸ“ 20-abc-analysis/             # â­ Ø¬Ø¯ÙŠØ¯ - ØªØ­Ù„ÙŠÙ„ ABC
â”œâ”€â”€ ğŸ“ 21-rfm-analysis/             # â­ Ø¬Ø¯ÙŠØ¯ - ØªØ­Ù„ÙŠÙ„ RFM
â”œâ”€â”€ ğŸ“ 22-smart-alerts/             # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©
â”œâ”€â”€ ğŸ“ 23-report-builder/           # â­ Ø¬Ø¯ÙŠØ¯ - Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
â”œâ”€â”€ ğŸ“ 24-interactive-comparison/   # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©
â”œâ”€â”€ ğŸ“ 25-live-dashboard/           # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø­ÙŠØ©
â”œâ”€â”€ ğŸ“ 26-seasonality/              # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ù…ÙˆØ³Ù…ÙŠØ©
â”œâ”€â”€ ğŸ“ 27-financial-health/         # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
â”œâ”€â”€ ğŸ“ 28-benchmarking/             # â­ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠØ©
â”œâ”€â”€ ğŸ“ 29-roi-analysis/             # â­ Ø¬Ø¯ÙŠØ¯ - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¦Ø¯
â”œâ”€â”€ ğŸ“ 30-tax-reports/              # â­ Ø¬Ø¯ÙŠØ¯ - ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨
â”‚
â”œâ”€â”€ ğŸ“ filters/                     # â­ Ù…Ø­Ø¯Ø« - Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø´Ø§Ù…Ù„
â”‚   â”œâ”€â”€ FilterProvider.tsx
â”‚   â”œâ”€â”€ FilterBar.tsx
â”‚   â”œâ”€â”€ FilterDrawer.tsx
â”‚   â”œâ”€â”€ FilterChips.tsx
â”‚   â”œâ”€â”€ date/
â”‚   â”œâ”€â”€ categories/
â”‚   â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ sales/
â”‚   â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ financial/
â”‚   â”œâ”€â”€ advanced/
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ ğŸ“ shared/                      # â­ Ù…Ø­Ø¯Ø« - Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø´ØªØ±ÙƒØ©
â”‚   â”œâ”€â”€ KPICard.tsx
â”‚   â”œâ”€â”€ SparklineKPICard.tsx
â”‚   â”œâ”€â”€ AdvancedGauge.tsx
â”‚   â”œâ”€â”€ MultiProgressRing.tsx
â”‚   â”œâ”€â”€ ComparisonBar.tsx
â”‚   â”œâ”€â”€ TrendIndicator.tsx
â”‚   â”œâ”€â”€ InsightCard.tsx
â”‚   â”œâ”€â”€ AnimatedCounter.tsx
â”‚   â”œâ”€â”€ AnimatedNumber.tsx
â”‚   â”œâ”€â”€ ChartContainer.tsx
â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“ export/
â”œâ”€â”€ ğŸ“ hooks/
â”œâ”€â”€ ğŸ“ utils/
â””â”€â”€ ğŸ“ types/
```

---

## ğŸ¯ Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª

### Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„Ø§ØªØ±:
- âœ… ÙÙ„Ø§ØªØ± Ø´Ø§Ù…Ù„Ø© Ù„ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- âœ… Ù‚ÙˆØ§Ù„Ø¨ ØªÙˆØ§Ø±ÙŠØ® Ø¬Ø§Ù‡Ø²Ø© (15+ Ù‚Ø§Ù„Ø¨)
- âœ… Ù‚ÙˆØ§Ù„Ø¨ ØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²Ø© (10+ Ù‚Ø§Ù„Ø¨)
- âœ… Ø­ÙØ¸ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø®ØµØµØ©
- âœ… Ø¯Ø¹Ù… Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† ÙØªØ±ØªÙŠÙ†
- âœ… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ Ø§Ù„Ø´Ø§Ù…Ù„
- âœ… ÙÙ„Ø§ØªØ± Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ø®Ø³Ø§Ø¦Ø±/Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª/Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª

### Ù…ÙƒÙˆÙ†Ø§Øª Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© (15 Ù‚Ø³Ù…):
1. ğŸ¯ Goals Dashboard - Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
2. ğŸ”® AI Predictions - Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©
3. ğŸ—ºï¸ Performance Heatmaps - Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©
4. ğŸ›’ Basket Analysis - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©
5. ğŸ“Š ABC Analysis - ØªØ­Ù„ÙŠÙ„ ABC Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
6. ğŸ‘¥ RFM Analysis - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
7. ğŸ”” Smart Alerts - Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©
8. ğŸ› ï¸ Report Builder - Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
9. âš–ï¸ Interactive Comparison - Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø§Øª
10. âš¡ Live Dashboard - Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø­ÙŠØ©
11. ğŸŒ™ Seasonality - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙˆØ³Ù…ÙŠØ©
12. ğŸ’š Financial Health - Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
13. ğŸ“ˆ Benchmarking - Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠØ©
14. ğŸ’° ROI Analysis - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¦Ø¯
15. ğŸ§¾ Tax Reports - ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨

### Ù…ÙƒÙˆÙ†Ø§Øª ØªØµÙ…ÙŠÙ… Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© (7 Ù…ÙƒÙˆÙ†):
1. SparklineKPICard
2. AdvancedGauge
3. MultiProgressRing
4. ComparisonBar
5. TrendIndicator
6. InsightCard
7. AnimatedCounter

---

*ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: Ø¯ÙŠØ³Ù…Ø¨Ø± 2025*
*Ø§Ù„Ø¥ØµØ¯Ø§Ø±: 3.0 - Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© Ù…Ø¹ Ø§Ù„ÙÙ„Ø§ØªØ± ÙˆØ§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©*
