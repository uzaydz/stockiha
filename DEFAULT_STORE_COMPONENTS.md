# المكونات الافتراضية للمتجر - سطوكيها

## نظرة عامة

تم تطوير نظام المكونات الافتراضية لضمان أن كل مؤسسة جديدة تنشئ حساباً في منصة سطوكيها تحصل تلقائياً على مجموعة من المكونات الأساسية لمتجرها الإلكتروني. هذا يوفر تجربة مستخدم سلسة ويضمن أن المتجر يبدو احترافياً من البداية.

## المكونات الافتراضية

عند إنشاء مؤسسة جديدة، يتم إضافة المكونات التالية تلقائياً:

### 1. البانر الرئيسي (Hero)
- **العنوان**: "أهلاً بك في سطوكيها"
- **الوصف**: "تسوق أحدث المنتجات بأفضل الأسعار في الجزائر"
- **أزرار الإجراء**: "تسوق الآن" و "معلومات أكثر"
- **شارات الثقة**: شحن سريع، ضمان جودة، خدمة متميزة

### 2. فئات المنتجات (Categories)
- **العنوان**: "تسوق حسب الفئة"
- **التخطيط**: شبكة (Grid)
- **عدد العرض**: 6 فئات
- **طريقة الاختيار**: تلقائية

### 3. المنتجات المميزة (Featured Products)
- **العنوان**: "منتجات مميزة"
- **عدد العرض**: 4 منتجات
- **ترتيب**: حسب الشعبية
- **عرض التقييمات**: مفعل

### 4. عن سطوكيها (About)
- **العنوان**: "عن سطوكيها"
- **العنوان الفرعي**: "متجر إلكتروني جزائري موثوق به منذ سنوات"
- **المميزات**:
  - منتجات أصلية بضمان الوكيل
  - شحن سريع لجميع ولايات الجزائر
  - دعم فني متخصص
  - خدمة ما بعد البيع

### 5. آراء العملاء (Testimonials)
- **العنوان**: "آراء عملائنا"
- **عدد العرض**: 3 آراء
- **النمط**: افتراضي

### 6. تذييل الصفحة (Footer)
- **اسم المتجر**: "سطوكيها"
- **معلومات الاتصال**:
  - الهاتف: +213 21 123 456
  - البريد الإلكتروني: info@stokia.com
  - العنوان: الجزائر العاصمة، الجزائر
- **المميزات**:
  - شحن سريع (توصيل مجاني للطلبات +5000 دج)
  - دفع آمن
  - ضمان الجودة
  - دعم 24/7

## التنفيذ التقني

### 1. دالة JavaScript (TypeScript)
```typescript
// src/lib/api/organization-creation.ts
export const createDefaultStoreComponents = async (organizationId: string): Promise<boolean>
```

### 2. دالة SQL + Trigger
```sql
-- create_default_store_components.sql
CREATE OR REPLACE FUNCTION create_default_store_components(organization_id UUID)
CREATE TRIGGER organizations_after_insert
```

### 3. التكامل مع إنشاء المؤسسات
تم تحديث دالتي إنشاء المؤسسات:
- `createOrganizationSimple()`
- `createOrganizationDirect()`

## المعلومات الجزائرية

تم تخصيص جميع المعلومات للسوق الجزائري:
- **العملة**: الدينار الجزائري (دج)
- **المناطق**: ولايات الجزائر
- **رقم الهاتف**: +213 (كود الجزائر)
- **العنوان**: الجزائر العاصمة، الجزائر

## التخصيص

يمكن للمؤسسات تخصيص هذه المكونات بعد إنشائها:
- تعديل النصوص والعناوين
- تغيير الصور
- إضافة أو حذف مكونات
- تعديل ترتيب المكونات
- إخفاء أو إظهار مكونات معينة

## قاعدة البيانات

### جدول store_settings
المكونات يتم حفظها في جدول `store_settings` مع:
- `organization_id`: معرف المؤسسة
- `component_type`: نوع المكون
- `settings`: إعدادات المكون (JSON)
- `is_active`: حالة النشاط
- `order_index`: ترتيب العرض

### أنواع المكونات المدعومة
- `hero`: البانر الرئيسي
- `categories`: فئات المنتجات  
- `featuredproducts`: المنتجات المميزة
- `about`: عن المتجر
- `testimonials`: آراء العملاء
- `footer`: تذييل الصفحة

## الاستخدام

عند إنشاء مؤسسة جديدة، ستتم إضافة المكونات الافتراضية تلقائياً دون الحاجة لأي تدخل من المستخدم. يمكن للمستخدم بعد ذلك الذهاب إلى محرر المتجر لتخصيص هذه المكونات حسب احتياجاته.

## الفوائد

1. **تجربة مستخدم محسنة**: المتجر يبدو احترافياً من البداية
2. **توفير الوقت**: لا حاجة لإنشاء المكونات يدوياً
3. **الاتساق**: جميع المتاجر تبدأ بنفس المعايير
4. **التخصيص السهل**: يمكن تعديل كل شيء لاحقاً
5. **محتوى محلي**: معلومات مناسبة للسوق الجزائري 