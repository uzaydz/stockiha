<!DOCTYPE html>
<html lang="ar" dir="rtl" class="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=5">
  
  <!-- ğŸ”¥ Ø³ÙƒØ±ÙŠÙ¾Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù…Ø¨Ø³Ø· Ù„Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© -->
  <script>
    console.log('ğŸ”¥ START: Ø¨Ø¯Ø¡ Ø§Ù„Ø³ÙƒØ±ÙŠÙ¾Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ');
    
    try {
      const hostname = window.location.hostname;
      console.log('ğŸ” ÙØ­Øµ Ø§Ù„Ù†Ø·Ø§Ù‚:', hostname);
      
      // ÙØ­Øµ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„ÙØ±Ø¹ÙŠ ÙÙŠ localhost
      if (hostname.includes('.localhost')) {
        const subdomain = hostname.split('.')[0];
        console.log('âœ… Ù†Ø·Ø§Ù‚ ÙØ±Ø¹ÙŠ Ù…ÙƒØªØ´Ù:', subdomain);
        
        if (subdomain && subdomain !== 'www' && subdomain !== 'localhost') {
          console.log('ğŸª Ù…ØªØ¬Ø± Ù…ÙƒØªØ´Ù:', subdomain);
          
          // Ù…Ø­Ø§ÙˆÙ„Ø© Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
          try {
            const storeData = sessionStorage.getItem('store_' + subdomain);
            if (storeData) {
              const data = JSON.parse(storeData);
              console.log('ğŸ’¾ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©:', data.name);
              document.title = data.name;
              console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¥Ù„Ù‰:', document.title);
              
              // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª
              if (data.favicon_url || data.logo_url) {
                setTimeout(function() {
                  const favicon = document.querySelector('link[rel="icon"]');
                  if (favicon) {
                    favicon.href = data.favicon_url || data.logo_url;
                    console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©');
                  }
                }, 10);
              }
            } else {
              console.log('ğŸ’¡ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù†ÙˆØ§Ù† Ø§ÙØªØ±Ø§Ø¶ÙŠ');
              document.title = 'Ù…ØªØ¬Ø± ' + subdomain;
              console.log('âœ… ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø¹Ù†ÙˆØ§Ù† Ø§ÙØªØ±Ø§Ø¶ÙŠ:', document.title);
            }
          } catch (e) {
            console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', e);
            document.title = 'Ù…ØªØ¬Ø± ' + subdomain;
          }
        } else {
          console.log('ğŸŒ ØµÙØ­Ø© Ø±Ø¦ÙŠØ³ÙŠØ© Ø£Ùˆ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ…');
        }
      } else {
        console.log('ğŸŒ Ù†Ø·Ø§Ù‚ Ø¹Ø§Ø¯ÙŠ Ø£Ùˆ Ø¹Ø§Ù…');
      }
      
    } catch (error) {
      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠÙ¾Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:', error);
    }
    
    console.log('ğŸ”¥ END: Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø³ÙƒØ±ÙŠÙ¾Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ');
  </script>
  
  <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙˆØµÙ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ -->
  <title>Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§ - Ù…Ù†ØµØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ©</title>
  <meta name="description" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§ - Ù…Ù†ØµØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©" />
  <meta name="keywords" content="Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØ¬Ø±ØŒ Ù†Ù‚Ø·Ø© Ø¨ÙŠØ¹ØŒ Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ POSØŒ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø²ÙˆÙ†ØŒ Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§" />
  <meta name="author" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§" />
  
  <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  
  <!-- Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø«ÙŠÙ…Ø§Øª -->
  <script>
    try {
      const storedTheme = localStorage.getItem('theme') || 'light';
      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      const initialTheme = storedTheme === 'system' ? systemTheme : storedTheme;
      
      document.documentElement.classList.add(initialTheme);
      document.documentElement.style.colorScheme = initialTheme;
      
      const orgTheme = localStorage.getItem('bazaar_org_theme');
      if (orgTheme) {
        try {
          const theme = JSON.parse(orgTheme);
          if (theme.primaryColor) {
            document.documentElement.style.setProperty('--primary', theme.primaryColor);
          }
        } catch (e) {}
      }
    } catch (error) {
      console.warn('Ø®Ø·Ø£ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ…:', error);
    }
  </script>
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§ - Ù…Ù†ØµØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ©" />
  <meta property="og:description" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§ - Ù…Ù†ØµØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§" />
  <meta property="og:locale" content="ar_SA" />
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§ - Ù…Ù†ØµØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ©" />
  <meta name="twitter:description" content="Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§ - Ù…Ù†ØµØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©" />
  
  <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #f8fafc;
      color: #1e293b;
      line-height: 1.6;
    }
    
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #e2e8f0;
      border-top: 4px solid #3b82f6;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      color: #64748b;
      font-size: 16px;
      text-align: center;
    }
    
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-spinner"></div>
    <div class="loading-text" id="loadingText">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±...</div>
  </div>
  
  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div id="root"></div>
  
  <!-- ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ØµÙØ­Ø© -->
  <script>
    try {
      const hostname = window.location.hostname;
      const loadingText = document.getElementById('loadingText');
      
      if (hostname.includes('.localhost')) {
        const subdomain = hostname.split('.')[0];
        if (subdomain && subdomain !== 'www' && subdomain !== 'localhost') {
          loadingText.textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…ØªØ¬Ø± ' + subdomain + '...';
        }
      } else if (window.location.pathname.startsWith('/admin') || window.location.pathname.startsWith('/dashboard')) {
        loadingText.textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…...';
      } else {
        loadingText.textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø³Ø·ÙˆÙƒÙŠÙ‡Ø§...';
      }
    } catch (e) {
      console.warn('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„ØªØ­Ù…ÙŠÙ„:', e);
    }
  </script>
  
  <!-- Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
  <script>
    window.addEventListener('load', function() {
      setTimeout(function() {
        const loadingScreen = document.getElementById('loadingScreen');
        if (loadingScreen) {
          loadingScreen.classList.add('hidden');
        }
      }, 500);
    });
    
    // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¥Ø°Ø§ Ø§Ø³ØªØºØ±Ù‚ React ÙˆÙ‚ØªØ§Ù‹ Ø·ÙˆÙŠÙ„Ø§Ù‹
    setTimeout(function() {
      const loadingScreen = document.getElementById('loadingScreen');
      if (loadingScreen) {
        loadingScreen.classList.add('hidden');
      }
    }, 5000);
  </script>
  
  <!-- Ø³ÙƒØ±ÙŠÙ¾Øª React (Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ø¨ÙˆØ§Ø³Ø·Ø© Vite) -->
  <script type="module" src="/src/main.tsx"></script>
</body>
</html> 