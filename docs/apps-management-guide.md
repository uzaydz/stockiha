# ุฏููู ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช (Apps Management System)

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช ูุณูุญ ููููุธูุงุช ุจุชูุนูู ุฃู ุฅูุบุงุก ุชูุนูู ุงููููุฒุงุช ูุงูุชุทุจููุงุช ุงููุฎุชููุฉ ุญุณุจ ุงุญุชูุงุฌุงุชูุง. ูุฐุง ูููุฑ ูุฑููุฉ ุฃูุจุฑ ููุญุณู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจุนุฑุถ ุงููููุฒุงุช ุงููุทููุจุฉ ููุท.

## ๐ฑ ุงูุชุทุจููุงุช ุงููุชุงุญุฉ

### 1. ุชุทุจูู ุฎุฏูุงุช ุงูุชุตููุญ (Repair Services)
- **ุงููุนุฑู**: `repair-services`
- **ุงููุตู**: ุฅุฏุงุฑุฉ ุทูุจูุงุช ุงูุชุตููุญ ูุชุชุจุน ุญุงูุชูุง ูุน ูุธุงู ูุชูุฏู ููุนููุงุก ูุงูููููู
- **ุงููููุฒุงุช**:
  - ุฅุฏุงุฑุฉ ุทูุจูุงุช ุงูุชุตููุญ
  - ุชุชุจุน ุญุงูุฉ ุงูุทูุจูุงุช
  - ูุธุงู ุชุชุจุน ุจุฑูุฒ QR
  - ุฅุฏุงุฑุฉ ุฃูุงูู ุงูุชุตููุญ
  - ุชูุงุฑูุฑ ุงูุฃุฏุงุก
  - ุทุจุงุนุฉ ุงูุทูุจูุงุช
  - ูุดุงุฑูุฉ ุฑุงุจุท ุงูุชุชุจุน

### 2. ุชุทุจูู ุฎุฏูุงุช ุงูุงุดุชุฑุงูุงุช (Subscription Services)
- **ุงููุนุฑู**: `subscription-services`
- **ุงููุตู**: ุฅุฏุงุฑุฉ ูุจูุน ุฎุฏูุงุช ุงูุงุดุชุฑุงูุงุช ุงูุฑูููุฉ ูุซู Netflix ูSpotify ูุบูุฑูุง
- **ุงููููุฒุงุช**:
  - ุฅุฏุงุฑุฉ ุฎุฏูุงุช ุงูุงุดุชุฑุงู
  - ูุธุงู ุฃุณุนุงุฑ ูุชุนุฏุฏ ุงููุณุชููุงุช
  - ุฅุฏุงุฑุฉ ุงููุฆุงุช ูุงูุชุตูููุงุช
  - ุชุชุจุน ุงููุฎุฒูู ูุงููููุงุช
  - ุฅุญุตุงุฆูุงุช ุงููุจูุนุงุช ูุงูุฃุฑุจุงุญ
  - ูุชุงููุฌ ูู ููุทุฉ ุงูุจูุน
  - ูุธุงู ุงูุชูุตูู ุงูุชููุงุฆู

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงููุตูู ุฅูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช

1. ุงูุชูู ุฅูู ููุญุฉ ุงูุชุญูู
2. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ**
3. ุงููุฑ ุนูู **ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช**

### ุชูุนูู ุชุทุจูู

1. ูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุชุ ุงุจุญุซ ุนู ุงูุชุทุจูู ุงููุทููุจ
2. ุงููุฑ ุนูู ููุชุงุญ ุงูุชุจุฏูู (Switch) ูุชูุนูู ุงูุชุทุจูู
3. ุณูุชู ุชูุนูู ุงูุชุทุจูู ููุฑุงู ูุณุชุธูุฑ ูููุฒุงุชู ูู ุงููุธุงู

### ุฅูุบุงุก ุชูุนูู ุชุทุจูู

1. ูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุชุ ุงุจุญุซ ุนู ุงูุชุทุจูู ุงูููุนูู
2. ุงููุฑ ุนูู ููุชุงุญ ุงูุชุจุฏูู (Switch) ูุฅูุบุงุก ุงูุชูุนูู
3. ุณุชุฎุชูู ูููุฒุงุช ุงูุชุทุจูู ูู ุงููุธุงู ููุฑุงู

### ุนุฑุถ ุชูุงุตูู ุงูุชุทุจูู

1. ุงููุฑ ุนูู ุฒุฑ **ุงูุชูุงุตูู** ูู ุจุทุงูุฉ ุงูุชุทุจูู
2. ุณุชุธูุฑ ูุงูุฐุฉ ุชุญุชูู ุนูู:
   - ูุตู ููุตู ููุชุทุจูู
   - ูุงุฆูุฉ ุจุฌููุน ุงููููุฒุงุช
   - ุงูุตูุงุญูุงุช ุงููุทููุจุฉ
   - ุฅุตุฏุงุฑ ุงูุชุทุจูู ูุงููุฆุฉ

## ๐๏ธ ุงูุชุฃุซูุฑ ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุนูุฏ ุชูุนูู ุชุทุจูู ุฎุฏูุงุช ุงูุชุตููุญ:

**ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ:**
- ุชุธูุฑ ูุฌููุนุฉ "ุงูุฎุฏูุงุช" ูุน ุฎูุงุฑ "ุฎุฏูุงุช ุงูุชุตููุญ"

**ูู ููุทุฉ ุงูุจูุน:**
- ูุธูุฑ ุฒุฑ "ุฎุฏูุงุช ุงูุชุตููุญ"
- ูุธูุฑ ุฒุฑ "ุฎุฏูุฉ ุชุตููุญ ุฌุฏูุฏุฉ"
- ุชุตุจุญ ูุงูุฐุฉ ุฅุถุงูุฉ ุฎุฏูุฉ ุงูุชุตููุญ ูุชุงุญุฉ

**ูู ุงููุธุงู ุงูุนุงู:**
- ุชุตุจุญ ุตูุญุฉ `/dashboard/repair-services` ูุชุงุญุฉ
- ุชุธูุฑ ูู ูุชุงุฆุฌ ุงูุจุญุซ ูุงูุชููู

### ุนูุฏ ุชูุนูู ุชุทุจูู ุฎุฏูุงุช ุงูุงุดุชุฑุงูุงุช:

**ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ:**
- ุชุธูุฑ ูุฌููุนุฉ "ุงูุฎุฏูุงุช" ูุน ุฎูุงุฑ "ุฎุฏูุงุช ุงูุงุดุชุฑุงูุงุช"

**ูู ููุทุฉ ุงูุจูุน:**
- ูุธูุฑ ุชุจููุจ "ุฎุฏูุงุช ุงูุงุดุชุฑุงู"
- ูุตุจุญ ูุชุงููุฌ ุงูุงุดุชุฑุงูุงุช ูุชุงุญุงู
- ุชุธูุฑ ุฎูุงุฑุงุช ุฅุถุงูุฉ ุงูุงุดุชุฑุงูุงุช ููุณูุฉ

**ูู ุงููุธุงู ุงูุนุงู:**
- ุชุตุจุญ ุตูุญุฉ `/dashboard/subscription-services` ูุชุงุญุฉ
- ุชุธูุฑ ุฅุนุฏุงุฏุงุช ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช

## ๐พ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `organization_apps`

```sql
CREATE TABLE organization_apps (
    id UUID PRIMARY KEY,
    organization_id UUID REFERENCES organizations(id),
    app_id VARCHAR(50) NOT NULL,
    is_enabled BOOLEAN DEFAULT true,
    installed_at TIMESTAMP WITH TIME ZONE,
    configuration JSONB DEFAULT '{}',
    created_at TIMESTAMP WITH TIME ZONE,
    updated_at TIMESTAMP WITH TIME ZONE
);
```

**ุงูุฃุนูุฏุฉ:**
- `id`: ูุนุฑู ูุฑูุฏ ููุณุฌู
- `organization_id`: ูุนุฑู ุงูููุธูุฉ
- `app_id`: ูุนุฑู ุงูุชุทุจูู (`repair-services`, `subscription-services`)
- `is_enabled`: ุญุงูุฉ ุชูุนูู ุงูุชุทุจูู
- `installed_at`: ุชุงุฑูุฎ ุชุซุจูุช/ุชูุนูู ุงูุชุทุจูู
- `configuration`: ุฅุนุฏุงุฏุงุช ูุฎุตุตุฉ ููุชุทุจูู (JSON)
- `created_at`: ุชุงุฑูุฎ ุฅูุดุงุก ุงูุณุฌู
- `updated_at`: ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ

### ุฃูุงู ุงูุจูุงูุงุช (RLS)

- **ุงููุฑุงุกุฉ**: ุงููุณุชุฎุฏููู ูููููู ูุฑุงุกุฉ ุชุทุจููุงุช ููุธูุชูู ููุท
- **ุงููุชุงุจุฉ**: ุงููุฏูุฑูู ููุท ูููููู ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช
- **ุงูุญุฐู**: ุงููุฏูุฑูู ููุท ูููููู ุญุฐู ุณุฌูุงุช ุงูุชุทุจููุงุช

## ๐ง ูููุทูุฑูู

### Context API

```typescript
import { useApps } from '@/context/AppsContext';

const { isAppEnabled, enableApp, disableApp } = useApps();

// ุงูุชุญูู ูู ุชูุนูู ุงูุชุทุจูู
if (isAppEnabled('repair-services')) {
  // ุนุฑุถ ูููุฒุงุช ุงูุชุตููุญ
}
```

### Hook ุงูุฃุณุงุณู

```typescript
const { isAppEnabled } = useApps();

// ูู ุงูููููุงุช
{isAppEnabled('repair-services') && (
  <RepairServiceButton />
)}
```

### ุฅุถุงูุฉ ุชุทุจูู ุฌุฏูุฏ

1. **ุชุญุฏูุซ AppsContext.tsx:**
```typescript
const AVAILABLE_APPS: AppDefinition[] = [
  // ุงูุชุทุจููุงุช ุงูููุฌูุฏุฉ...
  {
    id: 'new-app-id',
    name: 'ุงุณู ุงูุชุทุจูู ุงูุฌุฏูุฏ',
    description: 'ูุตู ุงูุชุทุจูู',
    icon: 'IconName',
    category: 'ุงููุฆุฉ',
    version: '1.0.0',
    features: [
      'ูููุฒุฉ 1',
      'ูููุฒุฉ 2',
    ]
  }
];
```

2. **ุชุญุฏูุซ ุงูููููุงุช:**
```typescript
// ุฅุถุงูุฉ ุดุฑูุท ูุฅุธูุงุฑ/ุฅุฎูุงุก ุงููููุฒุงุช
{isAppEnabled('new-app-id') && (
  <NewAppComponent />
)}
```

3. **ุชุญุฏูุซ ุงูููุงุฆู:**
```typescript
// ูู SideMenu.tsx
...(isAppEnabled('new-app-id') ? [{
  title: 'ุงุณู ุงูุชุทุจูู',
  icon: IconName,
  href: '/dashboard/new-app',
  requiredPermission: 'permission',
}] : [])
```

## ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

### ูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช:
- **ุฅุฌูุงูู ุงูุชุทุจููุงุช**: ุนุฏุฏ ุงูุชุทุจููุงุช ุงููุชุงุญุฉ
- **ุงูููุนููุฉ**: ุนุฏุฏ ุงูุชุทุจููุงุช ุงูููุนููุฉ
- **ุบูุฑ ุงูููุนููุฉ**: ุนุฏุฏ ุงูุชุทุจููุงุช ุบูุฑ ุงูููุนููุฉ

### ูุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู:
- ุชุชุจุน ุชุงุฑูุฎ ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุชุทุจููุงุช
- ุฅุญุตุงุฆูุงุช ุงุณุชุฎุฏุงู ูู ุชุทุจูู
- ุชูุงุฑูุฑ ุฃุฏุงุก ุงูุชุทุจููุงุช

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ุงูุตูุงุญูุงุช ุงููุทููุจุฉ:
- **ุนุฑุถ ุงูุชุทุจููุงุช**: ุฌููุน ุงููุณุชุฎุฏููู
- **ุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช**: `manageOrganizationSettings`
- **ุชูุนูู/ุฅูุบุงุก ุงูุชูุนูู**: Admin ุฃู Owner ููุท

### ุญูุงูุฉ ุงูุจูุงูุงุช:
- ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจู RLS
- ุชุดููุฑ ุงูุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ
- ุณุฌู ุชุฏููู ูุฌููุน ุงูุชุบููุฑุงุช

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### ูููุฏูุฑูู:
1. ูุนูู ุงูุชุทุจููุงุช ุงูุชู ุชุญุชุงุฌูุง ููุท
2. ุฑุงุฌุน ุงูุฅุนุฏุงุฏุงุช ุจุงูุชุธุงู
3. ุฑุงูุจ ุงุณุชุฎุฏุงู ุงููููุฒุงุช
4. ุงุญุฑุต ุนูู ุชุฏุฑูุจ ุงููุฑูู ุนูู ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### ูููุทูุฑูู:
1. ุงุชุจุน ุงูููุท ุงููุญุฏุฏ ูุฅุถุงูุฉ ุชุทุจููุงุช ุฌุฏูุฏุฉ
2. ุชุฃูุฏ ูู ุญูุงูุฉ ุฌููุน ุงููููุฒุงุช ุจุดุฑูุท ุงูุชูุนูู
3. ุงุฎุชุจุฑ ุงูุณููู ูุน ุงูุชุทุจููุงุช ุงูููุนููุฉ ูุบูุฑ ุงูููุนููุฉ
4. ูุซูู ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ ุจูุถูุญ

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

- ุฅุถุงูุฉ ุชุทุจููุงุช ุฌุฏูุฏุฉ
- ูุธุงู ุฅุนุฏุงุฏุงุช ูุชูุฏู ููู ุชุทุจูู
- ุฅุญุตุงุฆูุงุช ุงุณุชุฎุฏุงู ููุตูุฉ
- ูุธุงู ุฅุดุนุงุฑุงุช ููุชุทุจููุงุช
- ุฏุนู ุฅุถุงูุงุช ุฎุงุฑุฌูุฉ 